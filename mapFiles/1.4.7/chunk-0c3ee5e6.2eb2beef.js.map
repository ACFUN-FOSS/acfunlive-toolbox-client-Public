{"version":3,"sources":["webpack:///./src/electron_browser/views/superChat/config/rules.vue?bfdf","webpack:///./src/electron_browser/views/superChat/index.vue","webpack:///./src/electron_browser/views/superChat/style/index.vue","webpack:///./src/electron_browser/views/superChat/style/form.ts","webpack:///./src/electron_browser/views/superChat/style/default.ts","webpack:///./src/electron_browser/views/superChat/style/index.vue?5f07","webpack:///./src/electron_browser/views/superChat/style/index.vue?eb9c","webpack:///./src/electron_browser/views/superChat/config/index.vue","webpack:///./src/electron_browser/views/superChat/config/rules.vue","webpack:///./src/electron_browser/views/superChat/config/rules.vue?2a41","webpack:///./src/electron_browser/views/superChat/config/rules.vue?36a0","webpack:///./src/electron_browser/views/superChat/config/index.vue?c286","webpack:///./src/electron_browser/views/superChat/config/index.vue?b176","webpack:///./src/electron_browser/views/superChat/index.vue?5247","webpack:///./src/electron_browser/views/superChat/index.vue?0886","webpack:///./src/electron_browser/util_component/frames/zoomFrame.vue","webpack:///./src/electron_browser/util_component/frames/zoomFrame.vue?222c","webpack:///./src/electron_browser/util_component/frames/zoomFrame.vue?aa7f","webpack:///./src/electron_browser/util_component/frames/zoomFrame.vue?8409","webpack:///./src/electron_browser/views/superChat/config/index.vue?a0c7","webpack:///./src/electron_browser/views/superChat/index.vue?9a3f","webpack:///./src/electron_browser/views/superChat/style/index.vue?4442","webpack:///./node_modules/lodash/clone.js"],"names":["style","class","activeTo","label","name","components","align","flex","span","width","title","allow-zoom","theme","scBlock","block","configMode","themeID","selectTheme","size","key","value","themes","id","remove","saveCommand","type","trigger","max-height","dropdown","command","disabled","form-footer","schema","rule","saveAsDialog","show-close","close-on-click-modal","footer","newName","saveThemeAs","properties","config","text","background","backgroundType","backgroundColor","backgroundDynamic","backgroundImage","backgroundSizeType","backgroundSize","backgroundPosition","backgroundOpacity","listStyle","font","fontSize","fontWeight","color","textShadowWidth","panelStyle","textShadowColor","zoomFrame","VueForm","listBlock","listPanel","computed","defaultTheme","this","danmaku","triggerValue","listDuration","nextLevel","getTheme","methods","filter","them","list","duration","offset","message","saveTheme","find","Object","assign","rules","$store","state","danmakuProfile","common","superChat","forEach","commit","unshift","then","res","catch","e","console","error","render","__scopeId","enable","webEnable","showNextLevel","displayType","item","index","sort","save","step","min","modelValue","$event","placeholder","applyTheme","add","props","default","$emit","previous","slice","push","rul","saveCheck","a","b","errmsg","first","second","styles","dynamic","allowZoom","zoomMax","parentResizeListener","childResizeListener","parentWidth","parentHeight","childWidth","childHeight","child","$el","firstChild","parent","getActualWidth","ResizeObserver","observe","xZoom","yZoom","zoom","Math","max","transform","getBoundingClientRect","height","offsetWidth","offsetHeight","baseClone","CLONE_SYMBOLS_FLAG","clone","module","exports"],"mappings":"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","file":"js/chunk-0c3ee5e6.2eb2beef.js","sourcesContent":["export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rules.vue?vue&type=style&index=0&id=6c4f64e0&scoped=true&lang=scss\"","<template>\r\n\t<div>\r\n\t\t<el-tabs class=\"tabs\" v-model=\"activeTo\">\r\n\t\t\t<el-tab-pane label=\"功能\" name=\"first\" />\r\n\t\t\t<el-tab-pane label=\"样式编辑器\" name=\"second\" />\r\n\t\t</el-tabs>\r\n\t\t<div style=\"height:504px\">\r\n\t\t\t<component :is=\"components[activeTo]\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport styleConfig from \"./style/index.vue\";\r\nimport superChatConfig from \"./config/index.vue\";\r\nexport default defineComponent({\r\n\tname: \"superChat\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcomponents: {\r\n\t\t\t\tfirst: markRaw(superChatConfig),\r\n\t\t\t\tsecond: markRaw(styleConfig)\r\n\t\t\t},\r\n\t\t\tactiveTo: \"first\"\r\n\t\t};\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.tabs {\r\n\tposition: absolute;\r\n\ttop: -62px;\r\n\tright: 0px;\r\n\twidth: calc(100% - 50px);\r\n\t:deep .el-tabs__nav.is-top {\r\n\t\tfloat: right;\r\n\t}\r\n\t:deep .el-tabs__item {\r\n\t\tbox-shadow: none !important;\r\n\t}\r\n\t:deep .el-tabs__content {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<content-frame align=\"column\" class=\"danmaku-setting\">\r\n\t\t<row-frame :flex=\"true\" style=\"margin-bottom:0px\">\r\n\t\t\t<row-span :span=\"12\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"胶囊预览\">\r\n\t\t\t\t\t<zoom-frame :allow-zoom=\"true\" class=\"zoom-frame\" style=\"height:50px\">\r\n\t\t\t\t\t\t<list-block v-if=\"theme\" :scBlock=\"block\" />\r\n\t\t\t\t\t</zoom-frame>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"12\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"面板预览\">\r\n\t\t\t\t\t<zoom-frame :allow-zoom=\"false\" class=\"zoom-frame\" style=\"height:150px\">\r\n\t\t\t\t\t\t<list-panel v-if=\"theme\" :configMode=\"true\" :scBlock=\"block\" />\r\n\t\t\t\t\t</zoom-frame>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame style=\"height:100%\" :flex=\"true\">\r\n\t\t\t<row-span :span=\"10\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"选择主题编辑\">\r\n\t\t\t\t\t<el-select v-model=\"themeID\" @change=\"selectTheme\" size=\"mini\">\r\n\t\t\t\t\t\t<el-option key=\"0\" label=\"默认\" :value=\"0\" />\r\n\t\t\t\t\t\t<el-option class=\"option\" v-for=\"theme in themes\" :key=\"theme.id\" :label=\"theme.label\" :value=\"theme.id\">\r\n\t\t\t\t\t\t\t<span class=\"label\">{{ theme.label }}</span>\r\n\t\t\t\t\t\t\t<span @click.stop.prevent=\"remove(theme)\" class=\"closeBtn el-icon-circle-close\" />\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\" \">\r\n\t\t\t\t\t<el-dropdown @command=\"saveCommand\" type=\"primary\" trigger=\"click\" style=\"line-height:28px\" max-height=\"200px\">\r\n\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\" :disabled=\"!theme\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<template #dropdown>\r\n\t\t\t\t\t\t\t<el-dropdown-menu>\r\n\t\t\t\t\t\t\t\t<el-dropdown-item command=\"save\">保存</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t<el-dropdown-item command=\"saveAs\">存为新主题</el-dropdown-item>\r\n\t\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-span>\r\n\t\t\t<div class=\"hint\">纯色背景和动态背景任选其一，动态背景请根据机器性能谨慎选择</div>\r\n\t\t\t<row-span :span=\"12\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"选项\">\r\n\t\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t\t<vue-form :form-footer=\"{show:false}\" v-model=\"theme\" v-if=\"theme\" :schema=\"rule\" />\r\n\t\t\t\t\t\t<div style=\"position:absolute;left:50%;top:50%;transform:translateX(-50%)\" v-else>上方选择主题以编辑</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t</content-frame>\r\n\t<el-dialog title=\"新建主题\" v-model=\"saveAsDialog\" :show-close=\"false\" :close-on-click-modal=\"false\">\r\n\t\t主题名称：\r\n\t\t<el-input size=\"mini\" v-model=\"newName\" />\r\n\t\t<template #footer>\r\n\t\t\t<span class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"mini\" @click=\"saveAsDialog = false;newName='新主题'\">取消</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"saveThemeAs\">好的</el-button>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport zoomFrame from \"@front/util_component/frames/zoomFrame.vue\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { defineComponent } from \"vue\";\r\nimport { randomId } from \"@front/util_function/base\";\r\nimport { getPaidGift } from \"@front/views/danmakuSetting/mock\";\r\nimport { scFromDanmaku } from \"@front/components/superChat/utils/getter\";\r\nimport VueForm from \"@lljj/vue3-form-element\";\r\nimport rule from \"@front/views/superChat/style/form\";\r\nimport listBlock from \"@front/components/superChat/listBlock.vue\";\r\nimport listPanel from \"@front/components/superChat/listPanel.vue\";\r\nimport { loadSuperChat, saveSuperChat } from \"@front/util_function/system\";\r\nimport defaultTheme from \"./default\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"superChatStyleConfig\",\r\n\tcomponents: { zoomFrame, VueForm, listBlock, listPanel },\r\n\tdata() {\r\n\t\tconst themes: any = [];\r\n\t\tconst theme: any = \"\";\r\n\t\treturn {\r\n\t\t\trule: rule(),\r\n\t\t\ttheme,\r\n\t\t\tthemes,\r\n\t\t\tthemeID: \"\",\r\n\t\t\tnewName: \"新主题\",\r\n\t\t\tsaveAsDialog: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdefaultTheme,\r\n\t\tblock(): any {\r\n\t\t\tif (!this.theme) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst danmaku = getPaidGift();\r\n\t\t\treturn scFromDanmaku(danmaku, {\r\n\t\t\t\trule: {\r\n\t\t\t\t\ttriggerValue: 0,\r\n\t\t\t\t\tlistDuration: 1000,\r\n\t\t\t\t\ttheme: this.theme,\r\n\t\t\t\t\tthemeID: this.themeID\r\n\t\t\t\t},\r\n\t\t\t\tnextLevel: 10000\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getTheme();\r\n\t},\r\n\tmethods: {\r\n\t\tremove(theme: any) {\r\n\t\t\tconst id = theme.id;\r\n\t\t\tif (this.themeID === id) {\r\n\t\t\t\tthis.themeID = this.theme = \"\";\r\n\t\t\t}\r\n\t\t\tthis.themes = this.themes.filter((them: any) => them !== theme);\r\n\t\t\tsaveSuperChat({\r\n\t\t\t\tlist: this.themes\r\n\t\t\t});\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\toffset: 60,\r\n\t\t\t\tmessage: \"删除成功！\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tsaveCommand(command: string) {\r\n\t\t\tswitch (command) {\r\n\t\t\t\tcase \"save\":\r\n\t\t\t\t\tthis.saveTheme();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"saveAs\":\r\n\t\t\t\t\tthis.saveAsDialog = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tselectTheme(value: any) {\r\n\t\t\tif (value === 0) {\r\n\t\t\t\tthis.theme = defaultTheme();\r\n\t\t\t} else {\r\n\t\t\t\tconst theme = this.themes.find(\r\n\t\t\t\t\t(theme: any) => theme.id === value\r\n\t\t\t\t);\r\n\t\t\t\tif (theme) {\r\n\t\t\t\t\tthis.theme = cloneDeep(theme.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveTheme() {\r\n\t\t\tconst theme = this.themes.find(\r\n\t\t\t\t(theme: any) => theme.id === this.themeID\r\n\t\t\t);\r\n\t\t\tif (theme) {\r\n\t\t\t\tObject.assign(theme.value, this.theme);\r\n\t\t\t\tsaveSuperChat({\r\n\t\t\t\t\tlist: this.themes\r\n\t\t\t\t});\r\n\t\t\t\tconst rules = this.$store.state.danmakuProfile.common?.superChat\r\n\t\t\t\t\t?.rules;\r\n\t\t\t\tif (rules) {\r\n\t\t\t\t\trules.forEach((rule: any) => {\r\n\t\t\t\t\t\tif (rule.themeID === this.themeID) {\r\n\t\t\t\t\t\t\trule.theme = cloneDeep(this.theme);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.saveThemeAs();\r\n\t\t\t}\r\n\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\toffset: 60,\r\n\t\t\t\tmessage: \"保存成功！\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tsaveThemeAs() {\r\n\t\t\tconst id = randomId(6);\r\n\t\t\tthis.themes.unshift({\r\n\t\t\t\tid,\r\n\t\t\t\tlabel: this.newName,\r\n\t\t\t\tvalue: cloneDeep(this.theme)\r\n\t\t\t});\r\n\t\t\tsaveSuperChat({\r\n\t\t\t\tlist: this.themes\r\n\t\t\t});\r\n\t\t\tthis.newName = \"新主题\";\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\toffset: 60,\r\n\t\t\t\tmessage: \"另存为成功！\"\r\n\t\t\t});\r\n\t\t\tthis.themeID = id;\r\n\t\t\tthis.theme = cloneDeep(this.theme);\r\n\t\t\tthis.saveAsDialog = false;\r\n\t\t},\r\n\t\tgetTheme() {\r\n\t\t\tloadSuperChat()\r\n\t\t\t\t.then((res: any) => {\r\n\t\t\t\t\tthis.themes = res.list;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\tthis.themes = [];\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n@import \"@front/styles/backgrounds.scss\";\r\n.content {\r\n\theight: calc(100vh - 350px);\r\n\t@include scrollbarDark();\r\n}\r\n.zoom-frame {\r\n\twidth: 100%;\r\n\theight: 60px;\r\n\tposition: relative;\r\n\tz-index: 2;\r\n\tbackground-color: black;\r\n\t&::before {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-image: url($gird);\r\n\t\topacity: var(--brightness);\r\n\t}\r\n}\r\n.option {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\t&:hover .closeBtn {\r\n\t\tdisplay: inherit;\r\n\t}\r\n\t.closeBtn {\r\n\t\tcolor: $--color-text-secondary;\r\n\t\tdisplay: none;\r\n\t\tcursor: pointer;\r\n\t\t&:hover {\r\n\t\t\tcolor: $--color-text-primary;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tstringF,\r\n\tnumberF,\r\n\tbackgroundImageF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport {\r\n\tbackgroundType,\r\n\tbackgroundPosition,\r\n\tfontWeight,\r\n\tbackgroundSizeType\r\n} from \"@front/datas/styleOptions\";\r\nimport { backgroundArray } from \"@front/components/superChat/backgrounds\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"基础配置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttext: stringF(\"初始文字\", \"100%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"背景设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tbackgroundType: selectF(\r\n\t\t\t\t\t\t\"背景类型\",\r\n\t\t\t\t\t\tbackgroundType(),\r\n\t\t\t\t\t\t\"50%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\tbackgroundColor: {\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{parentFormData.backgroundType !== 0}}\",\r\n\t\t\t\t\t\t...colorF(\"背景颜色\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbackgroundDynamic: {\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{parentFormData.backgroundType !== 1}}\",\r\n\t\t\t\t\t\t...selectF(\"动态背景选择\", backgroundArray, \"50%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbackgroundImage: backgroundImageF(\"背景图片\"),\r\n\t\t\t\t\tbackgroundSizeType: selectF(\r\n\t\t\t\t\t\t\"背景图片填充\",\r\n\t\t\t\t\t\tbackgroundSizeType(),\r\n\t\t\t\t\t\t\"50%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\tbackgroundSize: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.backgroundSizeType !== 0}}\",\r\n\t\t\t\t\t\t...integerF(\"背景尺寸\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbackgroundPosition: selectF(\r\n\t\t\t\t\t\t\"图片位置\",\r\n\t\t\t\t\t\tbackgroundPosition(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\tbackgroundOpacity: integerF(\"图片透明度\", \"50%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistStyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"胶囊设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tfont: fontF(\"字体\", \"50%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpanelStyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"面板设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tfont: fontF(\"字体\", \"50%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\ttext: \"我永远单推主播！\"\r\n\t\t},\r\n\t\tbackground: {\r\n\t\t\tbackgroundType: 0,\r\n\t\t\tbackgroundColor: \"rgba(16,128,185,1)\",\r\n\t\t\tbackgroundImage: \"\",\r\n\t\t\tbackgroundSize: 100,\r\n\t\t\tbackgroundPosition: \"center\",\r\n\t\t\tbackgroundDynamic: \"default\",\r\n\t\t\tbackgroundSizeType: 0,\r\n\t\t\tbackgroundOpacity: 100\r\n\t\t},\r\n\t\tlistStyle: {\r\n\t\t\tfont: \"/fonts/站酷快乐体.ttf\",\r\n\t\t\tfontSize: 14,\r\n\t\t\tfontWeight: \"bolder\",\r\n\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\ttextShadowWidth: 0.6,\r\n\t\t\ttextShadowColor: \"#000\"\r\n\t\t},\r\n\t\tpanelStyle: {\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 14,\r\n\t\t\tfontWeight: \"lighter\",\r\n\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\ttextShadowWidth: 0.6,\r\n\t\t\ttextShadowColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","\r\nimport zoomFrame from \"@front/util_component/frames/zoomFrame.vue\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { defineComponent } from \"vue\";\r\nimport { randomId } from \"@front/util_function/base\";\r\nimport { getPaidGift } from \"@front/views/danmakuSetting/mock\";\r\nimport { scFromDanmaku } from \"@front/components/superChat/utils/getter\";\r\nimport VueForm from \"@lljj/vue3-form-element\";\r\nimport rule from \"@front/views/superChat/style/form\";\r\nimport listBlock from \"@front/components/superChat/listBlock.vue\";\r\nimport listPanel from \"@front/components/superChat/listPanel.vue\";\r\nimport { loadSuperChat, saveSuperChat } from \"@front/util_function/system\";\r\nimport defaultTheme from \"./default\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"superChatStyleConfig\",\r\n\tcomponents: { zoomFrame, VueForm, listBlock, listPanel },\r\n\tdata() {\r\n\t\tconst themes: any = [];\r\n\t\tconst theme: any = \"\";\r\n\t\treturn {\r\n\t\t\trule: rule(),\r\n\t\t\ttheme,\r\n\t\t\tthemes,\r\n\t\t\tthemeID: \"\",\r\n\t\t\tnewName: \"新主题\",\r\n\t\t\tsaveAsDialog: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdefaultTheme,\r\n\t\tblock(): any {\r\n\t\t\tif (!this.theme) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst danmaku = getPaidGift();\r\n\t\t\treturn scFromDanmaku(danmaku, {\r\n\t\t\t\trule: {\r\n\t\t\t\t\ttriggerValue: 0,\r\n\t\t\t\t\tlistDuration: 1000,\r\n\t\t\t\t\ttheme: this.theme,\r\n\t\t\t\t\tthemeID: this.themeID\r\n\t\t\t\t},\r\n\t\t\t\tnextLevel: 10000\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getTheme();\r\n\t},\r\n\tmethods: {\r\n\t\tremove(theme: any) {\r\n\t\t\tconst id = theme.id;\r\n\t\t\tif (this.themeID === id) {\r\n\t\t\t\tthis.themeID = this.theme = \"\";\r\n\t\t\t}\r\n\t\t\tthis.themes = this.themes.filter((them: any) => them !== theme);\r\n\t\t\tsaveSuperChat({\r\n\t\t\t\tlist: this.themes\r\n\t\t\t});\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\toffset: 60,\r\n\t\t\t\tmessage: \"删除成功！\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tsaveCommand(command: string) {\r\n\t\t\tswitch (command) {\r\n\t\t\t\tcase \"save\":\r\n\t\t\t\t\tthis.saveTheme();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"saveAs\":\r\n\t\t\t\t\tthis.saveAsDialog = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tselectTheme(value: any) {\r\n\t\t\tif (value === 0) {\r\n\t\t\t\tthis.theme = defaultTheme();\r\n\t\t\t} else {\r\n\t\t\t\tconst theme = this.themes.find(\r\n\t\t\t\t\t(theme: any) => theme.id === value\r\n\t\t\t\t);\r\n\t\t\t\tif (theme) {\r\n\t\t\t\t\tthis.theme = cloneDeep(theme.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveTheme() {\r\n\t\t\tconst theme = this.themes.find(\r\n\t\t\t\t(theme: any) => theme.id === this.themeID\r\n\t\t\t);\r\n\t\t\tif (theme) {\r\n\t\t\t\tObject.assign(theme.value, this.theme);\r\n\t\t\t\tsaveSuperChat({\r\n\t\t\t\t\tlist: this.themes\r\n\t\t\t\t});\r\n\t\t\t\tconst rules = this.$store.state.danmakuProfile.common?.superChat\r\n\t\t\t\t\t?.rules;\r\n\t\t\t\tif (rules) {\r\n\t\t\t\t\trules.forEach((rule: any) => {\r\n\t\t\t\t\t\tif (rule.themeID === this.themeID) {\r\n\t\t\t\t\t\t\trule.theme = cloneDeep(this.theme);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.saveThemeAs();\r\n\t\t\t}\r\n\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\toffset: 60,\r\n\t\t\t\tmessage: \"保存成功！\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tsaveThemeAs() {\r\n\t\t\tconst id = randomId(6);\r\n\t\t\tthis.themes.unshift({\r\n\t\t\t\tid,\r\n\t\t\t\tlabel: this.newName,\r\n\t\t\t\tvalue: cloneDeep(this.theme)\r\n\t\t\t});\r\n\t\t\tsaveSuperChat({\r\n\t\t\t\tlist: this.themes\r\n\t\t\t});\r\n\t\t\tthis.newName = \"新主题\";\r\n\t\t\tElMessage({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\toffset: 60,\r\n\t\t\t\tmessage: \"另存为成功！\"\r\n\t\t\t});\r\n\t\t\tthis.themeID = id;\r\n\t\t\tthis.theme = cloneDeep(this.theme);\r\n\t\t\tthis.saveAsDialog = false;\r\n\t\t},\r\n\t\tgetTheme() {\r\n\t\t\tloadSuperChat()\r\n\t\t\t\t.then((res: any) => {\r\n\t\t\t\t\tthis.themes = res.list;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\tthis.themes = [];\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=463d263b&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=463d263b&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-463d263b\"\n\nexport default script","<template>\r\n\t<content-frame id=\"superChat\" align=\"row\">\r\n\t\t<div class=\"hint\">设置好规则以后，直播过程在主播端和观众端都会将符合规则的礼物及送礼人的最新弹幕置顶显示</div>\r\n\t\t<div class=\"hint\">晋级条件：显示还差多少打赏更换到下一个牌子(开启后到样式编辑器查看效果)</div>\r\n\t\t<row-frame title=\" \" style=\"width:100%\" :flex=\"true\">\r\n\t\t\t<row-span :span=\"1\">\r\n\t\t\t\t开启\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"1\">\r\n\t\t\t\t<el-switch v-model=\"superChat.enable\" />\r\n\t\t\t</row-span>\r\n\t\t\t<template v-if=\"superChat.enable\">\r\n\t\t\t\t<row-span :span=\"1.5\">\r\n\t\t\t\t\t观众端开启\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"1\">\r\n\t\t\t\t\t<el-switch v-model=\"superChat.webEnable\" />\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"1.8\">\r\n\t\t\t\t\t显示晋级条件\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"1\">\r\n\t\t\t\t\t<el-switch v-model=\"superChat.showNextLevel\" />\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"1\">\r\n\t\t\t\t\t单位\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"1.7\">\r\n\t\t\t\t\t<el-select style=\"margin-top:-8px\" size=\"mini\" v-model=\"superChat.displayType\">\r\n\t\t\t\t\t\t<el-option v-for=\"(item,index) in displayType\" :key=\"index\" :label=\"item.label\" :value=\"item.value\" />\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span style=\"text-align:right;\" :span=\"1\">\r\n\t\t\t\t\t<el-button size=\"mini\" style=\"margin-top:-8px\" type=\"primary\" @click=\"sort\">排序</el-button>\r\n\t\t\t\t</row-span>\r\n\t\t\t</template>\r\n\t\t\t<row-span style=\"text-align:right;\" :span=\"1\">\r\n\t\t\t\t<el-button size=\"mini\" style=\"margin-top:-8px\" type=\"primary\" @click=\"save\">保存</el-button>\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame v-show=\"superChat.enable\" title=\"规则配置\" style=\"width:100%\" :flex=\"true\">\r\n\t\t\t<rule v-model=\"superChat.rules\" />\r\n\t\t</row-frame>\r\n\t</content-frame>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { displayType } from \"./data\";\r\nimport { superChat } from \"@front/datas/danmaku\";\r\nimport { mapState } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport rule from \"./rules.vue\";\r\nexport default defineComponent({\r\n\tname: \"superChat\",\r\n\tcomponents: { rule },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsuperChat: superChat()\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\"]),\r\n\t\tdisplayType\r\n\t},\r\n\tmounted() {\r\n\t\tthis.superChat =\r\n\t\t\tcloneDeep(this.danmakuProfile.common.superChat) || superChat();\r\n\t},\r\n\tmethods: {\r\n\t\tsave() {\r\n\t\t\tif (!this.saveCheck()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.danmakuProfile.common.superChat = cloneDeep(this.superChat);\r\n\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"设置已保存\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\toffset: 60\r\n\t\t\t});\r\n\t\t},\r\n\t\tsort() {\r\n\t\t\tthis.superChat.rules.sort((a: any, b: any) => {\r\n\t\t\t\treturn b.triggerValue - a.triggerValue;\r\n\t\t\t});\r\n\t\t\tthis.superChat.rules = [...this.superChat.rules];\r\n\t\t},\r\n\t\tsaveCheck() {\r\n\t\t\tthis.sort();\r\n\t\t\tlet previous: any = null;\r\n\t\t\tlet errmsg = \"\";\r\n\t\t\tthis.superChat.rules.forEach((rule: any) => {\r\n\t\t\t\tif (!previous) {\r\n\t\t\t\t\tprevious = rule;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (rule.triggerValue === previous.triggerValue) {\r\n\t\t\t\t\terrmsg = \"错误：存在多个金额相同的规则\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (rule.listDuration > previous.listDuration) {\r\n\t\t\t\t\terrmsg = \"错误：金额越大的规则持续时间应该越长\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (errmsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: errmsg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn !errmsg;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/scrollbar.scss\";\r\n#superChat {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t@include scrollbarDark();\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"super-chat-rule\">\r\n\t\t<div class=\"rule-block\" v-for=\"(rule,index) in rules\" :key=\"index\">\r\n\t\t\t<el-divider><span class=\"tips\">规则{{index+1}}</span></el-divider>\r\n\t\t\t<row-frame title=\"\" style=\"width:100%\" :flex=\"true\">\r\n\t\t\t\t<row-span :span=\"3\">\r\n\t\t\t\t\t<p>金额（AC币）</p>\r\n\t\t\t\t\t<div class=\"number-input\">\r\n\t\t\t\t\t\t>=\r\n\t\t\t\t\t\t<el-input-number :step=\"10\" :min=\"0\" size=\"mini\" v-model=\"rule.triggerValue\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t\t<p>持续时间(秒)</p>\r\n\t\t\t\t\t<el-input-number size=\"mini\" :min=\"15\" :modelValue=\"rule.listDuration/1000\" @update:modelValue=\"rule.listDuration=$event*1000\" />\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span :span=\"3.5\">\r\n\t\t\t\t\t<p>选择主题</p>\r\n\t\t\t\t\t<el-select placeholder=\"请选择主题面板\" size=\"mini\" v-model=\"rule.themeID\" @change=\"applyTheme(rule,$event)\">\r\n\t\t\t\t\t\t<el-option label=\"默认\" value=\"0\" />\r\n\t\t\t\t\t\t<el-option v-for=\"theme in themes\" :key=\"theme.id\" :label=\"theme.label\" :value=\"theme.id\" />\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</row-span>\r\n\t\t\t\t<row-span style=\"text-align:right\" :span=\"3.5\">\r\n\t\t\t\t\t<p>&nbsp;</p>\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"remove(rule)\">删除</el-button>\r\n\t\t\t\t</row-span>\r\n\t\t\t</row-frame>\r\n\t\t</div>\r\n\t\t<el-button style=\"width:100%;text-align:center\" size=\"mini\" type=\"primary\" @click=\"add\">添加+</el-button>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport clone from \"lodash/clone\";\r\nimport { backgroundType } from \"./data\";\r\nimport { superChatBlockSetting } from \"@front/components/superChat/utils/data\";\r\nimport { loadSuperChat } from \"@front/util_function/system\";\r\nimport defaultTheme from \"./../style/default\";\r\nexport default defineComponent({\r\n\tname: \"superChatRule\",\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tthemes: []\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdefaultTheme,\r\n\t\tbackgroundType,\r\n\t\trules: {\r\n\t\t\tget(): any {\r\n\t\t\t\treturn this.modelValue;\r\n\t\t\t},\r\n\t\t\tset(e: any) {\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getTheme();\r\n\t},\r\n\tmethods: {\r\n\t\tadd() {\r\n\t\t\tconst previous =\r\n\t\t\t\tclone(this.rules.slice(-1)[0]) || superChatBlockSetting();\r\n\t\t\tthis.rules.push({\r\n\t\t\t\t...previous,\r\n\t\t\t\ttriggerValue: previous.triggerValue + 1,\r\n\t\t\t\tlistDuration: previous.listDuration + 5000\r\n\t\t\t});\r\n\t\t},\r\n\t\tremove(rule: any) {\r\n\t\t\tthis.rules = this.rules.filter((rul: any) => rule !== rul);\r\n\t\t},\r\n\t\tgetTheme() {\r\n\t\t\tloadSuperChat()\r\n\t\t\t\t.then((res: any) => {\r\n\t\t\t\t\tthis.themes = res.list;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.themes = [];\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tapplyTheme(rule: any, themeID: any) {\r\n\t\t\tif (themeID === \"0\") {\r\n\t\t\t\trule.theme = defaultTheme();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst theme: any = this.themes.find(\r\n\t\t\t\t(theme: any) => theme.id === themeID\r\n\t\t\t);\r\n\t\t\tif (theme) {\r\n\t\t\t\trule.theme = theme.value;\r\n\t\t\t} else {\r\n\t\t\t\trule.themeID = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.super-chat-rule {\r\n\twidth: 100%;\r\n\t.number-input {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 1;\r\n\t\t\t:deep .el-input__inner {\r\n\t\t\t\twidth: 100% !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport clone from \"lodash/clone\";\r\nimport { backgroundType } from \"./data\";\r\nimport { superChatBlockSetting } from \"@front/components/superChat/utils/data\";\r\nimport { loadSuperChat } from \"@front/util_function/system\";\r\nimport defaultTheme from \"./../style/default\";\r\nexport default defineComponent({\r\n\tname: \"superChatRule\",\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tthemes: []\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdefaultTheme,\r\n\t\tbackgroundType,\r\n\t\trules: {\r\n\t\t\tget(): any {\r\n\t\t\t\treturn this.modelValue;\r\n\t\t\t},\r\n\t\t\tset(e: any) {\r\n\t\t\t\tthis.$emit(\"update:modelValue\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getTheme();\r\n\t},\r\n\tmethods: {\r\n\t\tadd() {\r\n\t\t\tconst previous =\r\n\t\t\t\tclone(this.rules.slice(-1)[0]) || superChatBlockSetting();\r\n\t\t\tthis.rules.push({\r\n\t\t\t\t...previous,\r\n\t\t\t\ttriggerValue: previous.triggerValue + 1,\r\n\t\t\t\tlistDuration: previous.listDuration + 5000\r\n\t\t\t});\r\n\t\t},\r\n\t\tremove(rule: any) {\r\n\t\t\tthis.rules = this.rules.filter((rul: any) => rule !== rul);\r\n\t\t},\r\n\t\tgetTheme() {\r\n\t\t\tloadSuperChat()\r\n\t\t\t\t.then((res: any) => {\r\n\t\t\t\t\tthis.themes = res.list;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.themes = [];\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tapplyTheme(rule: any, themeID: any) {\r\n\t\t\tif (themeID === \"0\") {\r\n\t\t\t\trule.theme = defaultTheme();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst theme: any = this.themes.find(\r\n\t\t\t\t(theme: any) => theme.id === themeID\r\n\t\t\t);\r\n\t\t\tif (theme) {\r\n\t\t\t\trule.theme = theme.value;\r\n\t\t\t} else {\r\n\t\t\t\trule.themeID = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./rules.vue?vue&type=template&id=6c4f64e0&scoped=true\"\nimport script from \"./rules.vue?vue&type=script&lang=ts\"\nexport * from \"./rules.vue?vue&type=script&lang=ts\"\n\nimport \"./rules.vue?vue&type=style&index=0&id=6c4f64e0&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6c4f64e0\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport { displayType } from \"./data\";\r\nimport { superChat } from \"@front/datas/danmaku\";\r\nimport { mapState } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport rule from \"./rules.vue\";\r\nexport default defineComponent({\r\n\tname: \"superChat\",\r\n\tcomponents: { rule },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsuperChat: superChat()\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\"]),\r\n\t\tdisplayType\r\n\t},\r\n\tmounted() {\r\n\t\tthis.superChat =\r\n\t\t\tcloneDeep(this.danmakuProfile.common.superChat) || superChat();\r\n\t},\r\n\tmethods: {\r\n\t\tsave() {\r\n\t\t\tif (!this.saveCheck()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.danmakuProfile.common.superChat = cloneDeep(this.superChat);\r\n\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"设置已保存\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\toffset: 60\r\n\t\t\t});\r\n\t\t},\r\n\t\tsort() {\r\n\t\t\tthis.superChat.rules.sort((a: any, b: any) => {\r\n\t\t\t\treturn b.triggerValue - a.triggerValue;\r\n\t\t\t});\r\n\t\t\tthis.superChat.rules = [...this.superChat.rules];\r\n\t\t},\r\n\t\tsaveCheck() {\r\n\t\t\tthis.sort();\r\n\t\t\tlet previous: any = null;\r\n\t\t\tlet errmsg = \"\";\r\n\t\t\tthis.superChat.rules.forEach((rule: any) => {\r\n\t\t\t\tif (!previous) {\r\n\t\t\t\t\tprevious = rule;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (rule.triggerValue === previous.triggerValue) {\r\n\t\t\t\t\terrmsg = \"错误：存在多个金额相同的规则\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (rule.listDuration > previous.listDuration) {\r\n\t\t\t\t\terrmsg = \"错误：金额越大的规则持续时间应该越长\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (errmsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: errmsg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn !errmsg;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=141013f4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=141013f4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-141013f4\"\n\nexport default script","\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport styleConfig from \"./style/index.vue\";\r\nimport superChatConfig from \"./config/index.vue\";\r\nexport default defineComponent({\r\n\tname: \"superChat\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcomponents: {\r\n\t\t\t\tfirst: markRaw(superChatConfig),\r\n\t\t\t\tsecond: markRaw(styleConfig)\r\n\t\t\t},\r\n\t\t\tactiveTo: \"first\"\r\n\t\t};\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=00d4a3b9&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=00d4a3b9&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-00d4a3b9\"\n\nexport default script","<template>\r\n\t<div class=\"zoomFrame\" :style=\"styles\">\r\n\t\t<div class=\"zoomContent\" :style=\"dynamic\">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"frame\",\r\n\tprops: {\r\n\t\tallowZoom: {\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tzoomMax: {\r\n\t\t\tdefault: 1000\r\n\t\t},\r\n\t\tstyles: {\r\n\t\t\tdefault: {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst parentResizeListener: any = null;\r\n\t\tconst childResizeListener: any = null;\r\n\t\treturn {\r\n\t\t\tparentResizeListener,\r\n\t\t\tchildResizeListener,\r\n\t\t\tparentWidth: 100,\r\n\t\t\tparentHeight: 100,\r\n\t\t\tchildWidth: 100,\r\n\t\t\tchildHeight: 100\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tconst child = this.$el.firstChild;\r\n\t\tconst parent = this.$el;\r\n\t\tthis.getActualWidth(parent, child);\r\n\t\t// @ts-ignore\r\n\t\tthis.childResizeListener = new ResizeObserver(() => {\r\n\t\t\tthis.getActualWidth(parent, child);\r\n\t\t}).observe(child);\r\n\t\t// @ts-ignore\r\n\t\tthis.parentResizeListener = new ResizeObserver(() => {\r\n\t\t\tthis.getActualWidth(parent, child);\r\n\t\t}).observe(parent);\r\n\t},\r\n\tcomputed: {\r\n\t\tdynamic(): any {\r\n\t\t\tif (this.allowZoom) {\r\n\t\t\t\tconst xZoom = this.childWidth / this.parentWidth;\r\n\t\t\t\tconst yZoom = this.childHeight / this.parentHeight;\r\n\t\t\t\tlet zoom = 0.9 / Math.max(xZoom, yZoom);\r\n\t\t\t\t// console.log(zoom)\r\n\t\t\t\tif (zoom > this.zoomMax) {\r\n\t\t\t\t\tzoom = this.zoomMax;\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttransform: `translateX(-50%) translateY(-50%) scaleX(${zoom}) scaleY(${zoom})`\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttransform:\r\n\t\t\t\t\t\t\"translateX(-50%) translateY(-50%) scaleX(1) scaleY(1)\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetActualWidth(parent: any, child: any) {\r\n\t\t\tthis.parentWidth = parent.getBoundingClientRect().width;\r\n\t\t\tthis.parentHeight = parent.getBoundingClientRect().height;\r\n\t\t\tthis.childWidth = child.offsetWidth;\r\n\t\t\tthis.childHeight = child.offsetHeight;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.zoomFrame {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n\t.zoomContent {\r\n\t\tposition: absolute;\r\n\t\ttransition: all 0.15s;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"frame\",\r\n\tprops: {\r\n\t\tallowZoom: {\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tzoomMax: {\r\n\t\t\tdefault: 1000\r\n\t\t},\r\n\t\tstyles: {\r\n\t\t\tdefault: {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst parentResizeListener: any = null;\r\n\t\tconst childResizeListener: any = null;\r\n\t\treturn {\r\n\t\t\tparentResizeListener,\r\n\t\t\tchildResizeListener,\r\n\t\t\tparentWidth: 100,\r\n\t\t\tparentHeight: 100,\r\n\t\t\tchildWidth: 100,\r\n\t\t\tchildHeight: 100\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tconst child = this.$el.firstChild;\r\n\t\tconst parent = this.$el;\r\n\t\tthis.getActualWidth(parent, child);\r\n\t\t// @ts-ignore\r\n\t\tthis.childResizeListener = new ResizeObserver(() => {\r\n\t\t\tthis.getActualWidth(parent, child);\r\n\t\t}).observe(child);\r\n\t\t// @ts-ignore\r\n\t\tthis.parentResizeListener = new ResizeObserver(() => {\r\n\t\t\tthis.getActualWidth(parent, child);\r\n\t\t}).observe(parent);\r\n\t},\r\n\tcomputed: {\r\n\t\tdynamic(): any {\r\n\t\t\tif (this.allowZoom) {\r\n\t\t\t\tconst xZoom = this.childWidth / this.parentWidth;\r\n\t\t\t\tconst yZoom = this.childHeight / this.parentHeight;\r\n\t\t\t\tlet zoom = 0.9 / Math.max(xZoom, yZoom);\r\n\t\t\t\t// console.log(zoom)\r\n\t\t\t\tif (zoom > this.zoomMax) {\r\n\t\t\t\t\tzoom = this.zoomMax;\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttransform: `translateX(-50%) translateY(-50%) scaleX(${zoom}) scaleY(${zoom})`\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttransform:\r\n\t\t\t\t\t\t\"translateX(-50%) translateY(-50%) scaleX(1) scaleY(1)\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetActualWidth(parent: any, child: any) {\r\n\t\t\tthis.parentWidth = parent.getBoundingClientRect().width;\r\n\t\t\tthis.parentHeight = parent.getBoundingClientRect().height;\r\n\t\t\tthis.childWidth = child.offsetWidth;\r\n\t\t\tthis.childHeight = child.offsetHeight;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./zoomFrame.vue?vue&type=template&id=99b91f76&scoped=true\"\nimport script from \"./zoomFrame.vue?vue&type=script&lang=ts\"\nexport * from \"./zoomFrame.vue?vue&type=script&lang=ts\"\n\nimport \"./zoomFrame.vue?vue&type=style&index=0&id=99b91f76&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-99b91f76\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./zoomFrame.vue?vue&type=style&index=0&id=99b91f76&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=141013f4&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=00d4a3b9&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=463d263b&scoped=true&lang=scss\"","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n"],"sourceRoot":""}