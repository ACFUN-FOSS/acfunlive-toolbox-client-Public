{"version":3,"sources":["webpack:///./src/electron_browser/views/danmakuWeb/index.vue","webpack:///./src/electron_browser/views/danmakuWeb/index.vue?facc","webpack:///./src/electron_browser/views/danmakuWeb/index.vue?cc34","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?3589","webpack:///./src/electron_browser/components/superChat/index.vue?8e4b","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?834a","webpack:///./src/electron_browser/views/danmakuWeb/index.vue?5892","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?8b16","webpack:///./src/electron_browser/components/superChat/index.vue","webpack:///./src/electron_browser/components/superChat/index.vue?9c80","webpack:///./src/electron_browser/components/superChat/index.vue?7ed0","webpack:///./src/electron_browser/components/danmakuFlow/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?7e59","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?a95e","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?8f8f","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?3fb6","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?08dd","webpack:///./src/electron_browser/directives/menu/index.ts","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?e472"],"names":["style","superChatEnable","class","settings","danmakuProfile","web","danmakuList","flow","name","components","superChatList","superChat","statusTimer","mock","settingTimer","reconnect","appID","this","$store","state","isLogined","registerEvents","updateSettings","statusLooper","unRegisterEvents","computed","filterFlow","danmakuSession","length","liverUID","type","data","danmuInfo","sendTime","userInfo","userID","nickname","avatar","medal","uperID","clubName","level","managerType","content","methods","on","setMock","handleResponse","subscribeData","restartDanmaku","off","dispatch","$message","success","message","e","key","userSession","register","error","console","log","streamStatus","step","roomProfile","liveID","includes","wsEmit","sourceID","states","clearInterval","setInterval","chechEveryThing","fetch","cache","then","res","json","filter","toolBox","common","temp","finally","value","mockDanmaku","unshift","render","superChatArray","scBlock","selectedID","superChatID","select","displayType","uid","sc-block","currentTime","remove","mode","superChatBlock","next","listBlock","listPanel","timeCounter","count","update","clearTimeout","Date","now","setTimeout","nextOne","find","block","showed","listEndTime","time","panelEndTime","blockI","__scopeId","leaveScroll","scrollable","danmakuLists","danmaku","currentRow","getKey","setting","getSetting","list","danmakuRow","props","default","required","configMode","directives","menu","scrollObserver","undefined","scrollTimer","direction","reverse","MutationObserver","scrollToBottom","observe","$el","childList","subtree","disconnect","that","top","scrollHeight","$nextTick","scrollTo","behavior","settingOfType","appear","ref","position","x","y","close","current","item","index","disabled","call","event","icon","children","zIndex","$emit","show","positions","getBoundingClientRect","height","width","document","body","offsetHeight","offsetWidth","rightClickMenuListB","rightClickMenuList","element","addBlurListener","judgeBlur","addEventListener","window","path","$refs","removeEventListener","directive","el","binding","createElement","append","clientX","clientY","mount","preventDefault"],"mappings":"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","file":"js/chunk-2a8cf0e2.4aa9e58a.js","sourcesContent":["<template>\r\n\t<div style=\"width:100%;height:100%;position:relative\">\r\n\t\t<super-chat-list class=\"super-chat\" v-if=\"superChatEnable\" />\r\n\t\t<flow :class=\"{superChatEnable}\" :settings=\"danmakuProfile.web\" :danmakuList=\"flow\" />\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api\";\r\nimport { commonSettings } from \"@front/datas/danmaku\";\r\nimport { tempInfo } from \"@front/datas/temp\";\r\nimport flow from \"@front/components/danmakuFlow/index.vue\";\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport superChatList from \"@front/components/superChat/index.vue\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nimport { getMockByType } from \"@front/views/danmakuSetting/mock/index\";\r\nimport { loginSession } from \"@front/api/user\";\r\nexport default defineComponent({\r\n\tname: \"webDanmaku\",\r\n\tcomponents: {\r\n\t\tflow,\r\n\t\tsuperChatList\r\n\t},\r\n\tdata() {\r\n\t\tconst statusTimer: any = null;\r\n\t\tconst mock: any = [];\r\n\t\treturn {\r\n\t\t\tstatusTimer,\r\n\t\t\tsettingTimer: false,\r\n\t\t\treconnect: false,\r\n\t\t\tappID: \"danmakuWeb\",\r\n\t\t\tmock\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.$store.state.isLogined = true;\r\n\t\tthis.registerEvents();\r\n\t\tthis.updateSettings();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.statusLooper();\r\n\t\tregisterRole(\"网页端\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.unRegisterEvents();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"superChatEnable\"]),\r\n\t\t...mapState([\r\n\t\t\t\"userSession\",\r\n\t\t\t\"danmakuProfile\",\r\n\t\t\t\"danmakuSession\",\r\n\t\t\t\"roomProfile\",\r\n\t\t\t\"streamStatus\"\r\n\t\t]),\r\n\t\tflow() {\r\n\t\t\tconst { filterFlow }: any = this.danmakuSession;\r\n\t\t\tconst mock: Array<any> = this.mock;\r\n\t\t\tif (!filterFlow.length) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...mock,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmock: true,\r\n\t\t\t\t\t\tliverUID: 23682490,\r\n\t\t\t\t\t\ttype: 1000,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdanmuInfo: {\r\n\t\t\t\t\t\t\t\tsendTime: 1618750176864,\r\n\t\t\t\t\t\t\t\tuserInfo: {\r\n\t\t\t\t\t\t\t\t\tuserID: 1,\r\n\t\t\t\t\t\t\t\t\tnickname: \"ACFUN前后端开源⑨课\",\r\n\t\t\t\t\t\t\t\t\tavatar:\r\n\t\t\t\t\t\t\t\t\t\t\"https://tx-free-imgs.acfun.cn/FllI0yyjNgQ61QdJJdbIh9cRQIYY?imageMogr2/auto-orient/format/webp/quality/75!/ignore-error/1\",\r\n\t\t\t\t\t\t\t\t\tmedal: {\r\n\t\t\t\t\t\t\t\t\t\tuperID: 23682490,\r\n\t\t\t\t\t\t\t\t\t\tuserID: 1,\r\n\t\t\t\t\t\t\t\t\t\tclubName: \"ACER\",\r\n\t\t\t\t\t\t\t\t\t\tlevel: 999\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tmanagerType: 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcontent: \"弹幕流启动成功！尚未发现弹幕\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn filterFlow;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tregisterEvents() {\r\n\t\t\twsevent.on(\"update-style\", this.updateSettings);\r\n\t\t\twsevent.on(\"sendMockDanmaku\", this.setMock);\r\n\t\t\twsevent.on(\"server-response\", this.handleResponse);\r\n\t\t\twsevent.on(\"requireRegister\", this.subscribeData);\r\n\t\t\twsevent.on(\"restartDanmaku\", this.restartDanmaku);\r\n\t\t},\r\n\t\tunRegisterEvents() {\r\n\t\t\twsevent.off(\"update-style\", this.updateSettings);\r\n\t\t\twsevent.off(\"sendMockDanmaku\", this.setMock);\r\n\t\t\twsevent.off(\"server-response\", this.handleResponse);\r\n\t\t\twsevent.off(\"requireRegister\", this.subscribeData);\r\n\t\t\twsevent.off(\"restartDanmaku\", this.restartDanmaku);\r\n\t\t},\r\n\t\trestartDanmaku() {\r\n\t\t\tthis.$store.dispatch(\"restartDanmaku\");\r\n\t\t\t(this as any).$message.success({\r\n\t\t\t\tmessage: \"重启弹幕中\"\r\n\t\t\t});\r\n\t\t},\r\n\t\thandleResponse(e: any) {\r\n\t\t\tfor (const key in e) this.$store.state[key] = e[key];\r\n\t\t\tloginSession(e.userSession || {});\r\n\t\t},\r\n\t\tasync chechEveryThing() {\r\n\t\t\ttry {\r\n\t\t\t\tawait wsevent.register(this.appID);\r\n\t\t\t\tthis.subscribeData();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t\tconsole.log(this.streamStatus.step);\r\n\t\t\tif (\r\n\t\t\t\tthis.roomProfile.liveID &&\r\n\t\t\t\t![\"danmakuing\", \"streaming\"].includes(this.streamStatus.step)\r\n\t\t\t) {\r\n\t\t\t\tthis.streamStatus.step = \"streaming\";\r\n\t\t\t\tthis.$store.dispatch(\"streaming\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubscribeData() {\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t\"register-client\",\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceID: this.appID,\r\n\t\t\t\t\tstates: [\"userSession\", \"roomProfile\"]\r\n\t\t\t\t},\r\n\t\t\t\t\"server\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tstatusLooper() {\r\n\t\t\tclearInterval(this.statusTimer);\r\n\t\t\tthis.statusTimer = setInterval(() => {\r\n\t\t\t\tthis.chechEveryThing();\r\n\t\t\t}, 10000);\r\n\t\t},\r\n\t\tupdateSettings() {\r\n\t\t\tif (this.settingTimer) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.settingTimer = true;\r\n\t\t\tfetch(\"/configFiles/config.json\", {\r\n\t\t\t\tcache: \"no-cache\"\r\n\t\t\t})\r\n\t\t\t\t.then((res: any) => res.json())\r\n\t\t\t\t.then((json: any) => {\r\n\t\t\t\t\tjson.web.filter = json.toolBox.filter;\r\n\t\t\t\t\tthis.$store.state.danmakuProfile.web = json.web;\r\n\t\t\t\t\tthis.$store.state.danmakuProfile.common =\r\n\t\t\t\t\t\tjson.common || commonSettings();\r\n\t\t\t\t\tthis.$store.state.temp = tempInfo();\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tthis.settingTimer = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tsetMock(value: any) {\r\n\t\t\tconst mockDanmaku: any = getMockByType(value);\r\n\t\t\tthis.mock.unshift(mockDanmaku);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\nhtml,\r\nbody,\r\n#app {\r\n\tbackground-color: transparent;\r\n\tmin-width: 0px;\r\n\tmin-height: 0px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpadding: 0px;\r\n}\r\n#app {\r\n\tmargin: 0px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttransition: none;\r\n}\r\n.danmaku-flow {\r\n\tpadding-bottom: 16px !important;\r\n}\r\n.superChatEnable {\r\n\theight: calc(100% - 40px);\r\n}\r\n.super-chat {\r\n\tborder: none !important;\r\n\tmargin-bottom: 5px;\r\n}\r\n.tips {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tcolor: white;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tfont-weight: 700;\r\n\tfont-size: 24px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\t.title {\r\n\t\tfont-size: 32px;\r\n\t\tmargin-bottom: 15px;\r\n\t\tmargin-left: 50px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.checkers {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 15px;\r\n\t\t.failed {\r\n\t\t\tcolor: $--color-danger;\r\n\t\t}\r\n\t\t.success {\r\n\t\t\tcolor: $--color-success;\r\n\t\t}\r\n\t\t.label {\r\n\t\t\twidth: 150px;\r\n\t\t}\r\n\t}\r\n\t.positioner {\r\n\t\tposition: absolute;\r\n\t\tborder-style: solid;\r\n\t\tborder-color: white;\r\n\t\theight: 5%;\r\n\t\twidth: 5%;\r\n\r\n\t\t&.lt {\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 0px;\r\n\t\t\tborder-width: 5px 0px 0px 5px;\r\n\t\t}\r\n\t\t&.rt {\r\n\t\t\ttop: 0px;\r\n\t\t\tright: 0px;\r\n\t\t\tborder-width: 5px 5px 0px 0px;\r\n\t\t}\r\n\t\t&.lb {\r\n\t\t\tbottom: 0px;\r\n\t\t\tleft: 0px;\r\n\t\t\tborder-width: 0px 0px 5px 5px;\r\n\t\t}\r\n\t\t&.rb {\r\n\t\t\tbottom: 0px;\r\n\t\t\tright: 0px;\r\n\t\t\tborder-width: 0px 5px 5px 0px;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api\";\r\nimport { commonSettings } from \"@front/datas/danmaku\";\r\nimport { tempInfo } from \"@front/datas/temp\";\r\nimport flow from \"@front/components/danmakuFlow/index.vue\";\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport superChatList from \"@front/components/superChat/index.vue\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nimport { getMockByType } from \"@front/views/danmakuSetting/mock/index\";\r\nimport { loginSession } from \"@front/api/user\";\r\nexport default defineComponent({\r\n\tname: \"webDanmaku\",\r\n\tcomponents: {\r\n\t\tflow,\r\n\t\tsuperChatList\r\n\t},\r\n\tdata() {\r\n\t\tconst statusTimer: any = null;\r\n\t\tconst mock: any = [];\r\n\t\treturn {\r\n\t\t\tstatusTimer,\r\n\t\t\tsettingTimer: false,\r\n\t\t\treconnect: false,\r\n\t\t\tappID: \"danmakuWeb\",\r\n\t\t\tmock\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.$store.state.isLogined = true;\r\n\t\tthis.registerEvents();\r\n\t\tthis.updateSettings();\r\n\t},\r\n\tmounted() {\r\n\t\tthis.statusLooper();\r\n\t\tregisterRole(\"网页端\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.unRegisterEvents();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"superChatEnable\"]),\r\n\t\t...mapState([\r\n\t\t\t\"userSession\",\r\n\t\t\t\"danmakuProfile\",\r\n\t\t\t\"danmakuSession\",\r\n\t\t\t\"roomProfile\",\r\n\t\t\t\"streamStatus\"\r\n\t\t]),\r\n\t\tflow() {\r\n\t\t\tconst { filterFlow }: any = this.danmakuSession;\r\n\t\t\tconst mock: Array<any> = this.mock;\r\n\t\t\tif (!filterFlow.length) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...mock,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmock: true,\r\n\t\t\t\t\t\tliverUID: 23682490,\r\n\t\t\t\t\t\ttype: 1000,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdanmuInfo: {\r\n\t\t\t\t\t\t\t\tsendTime: 1618750176864,\r\n\t\t\t\t\t\t\t\tuserInfo: {\r\n\t\t\t\t\t\t\t\t\tuserID: 1,\r\n\t\t\t\t\t\t\t\t\tnickname: \"ACFUN前后端开源⑨课\",\r\n\t\t\t\t\t\t\t\t\tavatar:\r\n\t\t\t\t\t\t\t\t\t\t\"https://tx-free-imgs.acfun.cn/FllI0yyjNgQ61QdJJdbIh9cRQIYY?imageMogr2/auto-orient/format/webp/quality/75!/ignore-error/1\",\r\n\t\t\t\t\t\t\t\t\tmedal: {\r\n\t\t\t\t\t\t\t\t\t\tuperID: 23682490,\r\n\t\t\t\t\t\t\t\t\t\tuserID: 1,\r\n\t\t\t\t\t\t\t\t\t\tclubName: \"ACER\",\r\n\t\t\t\t\t\t\t\t\t\tlevel: 999\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tmanagerType: 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcontent: \"弹幕流启动成功！尚未发现弹幕\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn filterFlow;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tregisterEvents() {\r\n\t\t\twsevent.on(\"update-style\", this.updateSettings);\r\n\t\t\twsevent.on(\"sendMockDanmaku\", this.setMock);\r\n\t\t\twsevent.on(\"server-response\", this.handleResponse);\r\n\t\t\twsevent.on(\"requireRegister\", this.subscribeData);\r\n\t\t\twsevent.on(\"restartDanmaku\", this.restartDanmaku);\r\n\t\t},\r\n\t\tunRegisterEvents() {\r\n\t\t\twsevent.off(\"update-style\", this.updateSettings);\r\n\t\t\twsevent.off(\"sendMockDanmaku\", this.setMock);\r\n\t\t\twsevent.off(\"server-response\", this.handleResponse);\r\n\t\t\twsevent.off(\"requireRegister\", this.subscribeData);\r\n\t\t\twsevent.off(\"restartDanmaku\", this.restartDanmaku);\r\n\t\t},\r\n\t\trestartDanmaku() {\r\n\t\t\tthis.$store.dispatch(\"restartDanmaku\");\r\n\t\t\t(this as any).$message.success({\r\n\t\t\t\tmessage: \"重启弹幕中\"\r\n\t\t\t});\r\n\t\t},\r\n\t\thandleResponse(e: any) {\r\n\t\t\tfor (const key in e) this.$store.state[key] = e[key];\r\n\t\t\tloginSession(e.userSession || {});\r\n\t\t},\r\n\t\tasync chechEveryThing() {\r\n\t\t\ttry {\r\n\t\t\t\tawait wsevent.register(this.appID);\r\n\t\t\t\tthis.subscribeData();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t\tconsole.log(this.streamStatus.step);\r\n\t\t\tif (\r\n\t\t\t\tthis.roomProfile.liveID &&\r\n\t\t\t\t![\"danmakuing\", \"streaming\"].includes(this.streamStatus.step)\r\n\t\t\t) {\r\n\t\t\t\tthis.streamStatus.step = \"streaming\";\r\n\t\t\t\tthis.$store.dispatch(\"streaming\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tsubscribeData() {\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t\"register-client\",\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceID: this.appID,\r\n\t\t\t\t\tstates: [\"userSession\", \"roomProfile\"]\r\n\t\t\t\t},\r\n\t\t\t\t\"server\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tstatusLooper() {\r\n\t\t\tclearInterval(this.statusTimer);\r\n\t\t\tthis.statusTimer = setInterval(() => {\r\n\t\t\t\tthis.chechEveryThing();\r\n\t\t\t}, 10000);\r\n\t\t},\r\n\t\tupdateSettings() {\r\n\t\t\tif (this.settingTimer) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.settingTimer = true;\r\n\t\t\tfetch(\"/configFiles/config.json\", {\r\n\t\t\t\tcache: \"no-cache\"\r\n\t\t\t})\r\n\t\t\t\t.then((res: any) => res.json())\r\n\t\t\t\t.then((json: any) => {\r\n\t\t\t\t\tjson.web.filter = json.toolBox.filter;\r\n\t\t\t\t\tthis.$store.state.danmakuProfile.web = json.web;\r\n\t\t\t\t\tthis.$store.state.danmakuProfile.common =\r\n\t\t\t\t\t\tjson.common || commonSettings();\r\n\t\t\t\t\tthis.$store.state.temp = tempInfo();\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tthis.settingTimer = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tsetMock(value: any) {\r\n\t\t\tconst mockDanmaku: any = getMockByType(value);\r\n\t\t\tthis.mock.unshift(mockDanmaku);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=fcd82ac0\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=fcd82ac0&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=36359928&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=3c0b1be0&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=fcd82ac0&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"","<template>\r\n\t<div class=\"super-chat-list\">\r\n\t\t<div class=\"super-chat-list-row\">\r\n\t\t\t<list-block :selectedID=\"temp.superChatID\" @click=\"select(scBlock,5000)\" :displayType=\"displayType\" v-for=\"scBlock in temp.superChatArray\" :key=\"scBlock.uid\" :sc-block=\"scBlock\" :currentTime=\"currentTime\" @end=\"remove(scBlock)\" />\r\n\t\t</div>\r\n\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t<list-panel class=\"super-chat-panel\" :displayType=\"displayType\" :key=\"temp.superChatID\" v-if=\"temp.superChatBlock\" :sc-block=\"temp.superChatBlock\" :currentTime=\"currentTime\" @next=\"next()\" />\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport listBlock from \"./listBlock.vue\";\r\nimport listPanel from \"./listPanel.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"superChatList\",\r\n\tcomponents: { listBlock, listPanel },\r\n\tdata() {\r\n\t\tconst timeCounter: any = null;\r\n\t\treturn {\r\n\t\t\tcurrentTime: 0,\r\n\t\t\ttimeCounter\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.count();\r\n\t\tevent.on(\"super-chat-updated\", this.update);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeCounter);\r\n\t\tevent.off(\"super-chat-updated\", this.update);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"temp\", \"danmakuProfile\"]),\r\n\t\tsuperChatArray(): Array<any> {\r\n\t\t\treturn this.temp.superChatArray;\r\n\t\t},\r\n\t\tdisplayType(): number {\r\n\t\t\treturn this.danmakuProfile.common?.superChat?.displayType || 0;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tupdate() {\r\n\t\t\tif (this.temp.superChatID) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.next();\r\n\t\t},\r\n\t\tcount() {\r\n\t\t\tclearTimeout(this.timeCounter);\r\n\t\t\tthis.currentTime = Date.now();\r\n\t\t\tthis.timeCounter = setTimeout(() => {\r\n\t\t\t\tthis.count();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\tnext() {\r\n\t\t\tconst nextOne = this.temp.superChatArray.find(\r\n\t\t\t\t(block: any) => !block?.showed\r\n\t\t\t);\r\n\t\t\tif (\r\n\t\t\t\t!nextOne &&\r\n\t\t\t\tthis.currentTime > this.temp.superChatBlock.listEndTime\r\n\t\t\t) {\r\n\t\t\t\tthis.temp.superChatID = 0;\r\n\t\t\t\tthis.temp.superChatBlock = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.select(nextOne);\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect(block: any, time = 20000) {\r\n\t\t\tblock.showed = true;\r\n\t\t\tblock.panelEndTime = Date.now() + time;\r\n\t\t\tif (block.listEndTime < block.panelEndTime) {\r\n\t\t\t\tblock.listEndTime = block.panelEndTime;\r\n\t\t\t}\r\n\t\t\tthis.temp.superChatID = block.uid;\r\n\t\t\tthis.temp.superChatBlock = block;\r\n\t\t},\r\n\t\tremove(block: any) {\r\n\t\t\tthis.temp.superChatArray = this.temp.superChatArray.filter(\r\n\t\t\t\t(blockI: any) => blockI !== block\r\n\t\t\t);\r\n\t\t\tif (block.uid === this.temp.superChatID) {\r\n\t\t\t\tthis.next();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.super-chat-list {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 35px;\r\n\tbox-sizing: border-box;\r\n\tborder: $--border-base;\r\n\t.super-chat-list-row {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t\toverflow: hidden;\r\n\t\tpadding-left: 8px;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport listBlock from \"./listBlock.vue\";\r\nimport listPanel from \"./listPanel.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"superChatList\",\r\n\tcomponents: { listBlock, listPanel },\r\n\tdata() {\r\n\t\tconst timeCounter: any = null;\r\n\t\treturn {\r\n\t\t\tcurrentTime: 0,\r\n\t\t\ttimeCounter\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.count();\r\n\t\tevent.on(\"super-chat-updated\", this.update);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeCounter);\r\n\t\tevent.off(\"super-chat-updated\", this.update);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"temp\", \"danmakuProfile\"]),\r\n\t\tsuperChatArray(): Array<any> {\r\n\t\t\treturn this.temp.superChatArray;\r\n\t\t},\r\n\t\tdisplayType(): number {\r\n\t\t\treturn this.danmakuProfile.common?.superChat?.displayType || 0;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tupdate() {\r\n\t\t\tif (this.temp.superChatID) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.next();\r\n\t\t},\r\n\t\tcount() {\r\n\t\t\tclearTimeout(this.timeCounter);\r\n\t\t\tthis.currentTime = Date.now();\r\n\t\t\tthis.timeCounter = setTimeout(() => {\r\n\t\t\t\tthis.count();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\tnext() {\r\n\t\t\tconst nextOne = this.temp.superChatArray.find(\r\n\t\t\t\t(block: any) => !block?.showed\r\n\t\t\t);\r\n\t\t\tif (\r\n\t\t\t\t!nextOne &&\r\n\t\t\t\tthis.currentTime > this.temp.superChatBlock.listEndTime\r\n\t\t\t) {\r\n\t\t\t\tthis.temp.superChatID = 0;\r\n\t\t\t\tthis.temp.superChatBlock = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.select(nextOne);\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect(block: any, time = 20000) {\r\n\t\t\tblock.showed = true;\r\n\t\t\tblock.panelEndTime = Date.now() + time;\r\n\t\t\tif (block.listEndTime < block.panelEndTime) {\r\n\t\t\t\tblock.listEndTime = block.panelEndTime;\r\n\t\t\t}\r\n\t\t\tthis.temp.superChatID = block.uid;\r\n\t\t\tthis.temp.superChatBlock = block;\r\n\t\t},\r\n\t\tremove(block: any) {\r\n\t\t\tthis.temp.superChatArray = this.temp.superChatArray.filter(\r\n\t\t\t\t(blockI: any) => blockI !== block\r\n\t\t\t);\r\n\t\t\tif (block.uid === this.temp.superChatID) {\r\n\t\t\t\tthis.next();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=3c0b1be0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3c0b1be0&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3c0b1be0\"\n\nexport default script","<template>\r\n\t<div\r\n\t\tclass=\"danmaku-flow\"\r\n\t\t@mousemove=\"leaveScroll\"\r\n\t\t@mousewheel=\"scrollable = true\"\r\n\t\t@mouseleave=\"scrollable = false\"\r\n\t>\r\n\t\t<transition-group name=\"fade\">\r\n\t\t\t<danmaku-row\r\n\t\t\t\tv-menu=\"list\"\r\n\t\t\t\t@contextmenu=\"currentRow = danmaku\"\r\n\t\t\t\tv-for=\"danmaku in [...danmakuLists]\"\r\n\t\t\t\t:key=\"getKey(danmaku)\"\r\n\t\t\t\t:danmaku=\"danmaku\"\r\n\t\t\t\t:setting=\"getSetting(danmaku)\"\r\n\t\t\t/>\r\n\t\t</transition-group>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow/index.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\t//@ts-ignore\r\n\t\t\tswitch (this.settings?.direction) {\r\n\t\t\t\tcase \"addToTop\":\r\n\t\t\t\t\treturn [...this.danmakuList];\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [...this.danmakuList].reverse();\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\t\t\tconst top =\r\n\t\t\t\tthat.settings?.direction === \"addToTop\"\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: that.$el.scrollHeight;\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.danmaku-flow {\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\twidth: calc(100% - 12px);\r\n\theight: calc(100% - 32px);\r\n\toverflow-x: hidden;\r\n\toverflow-y: auto;\r\n\tpadding: 4px 6px;\r\n\ttransform: translateZ(1);\r\n\t// will-change: contents scroll-position;\r\n\t@include scrollbarBaseSlinder();\r\n\t// & > div {\r\n\t// \tdisplay: flex;\r\n\t// \tflex-direction: column;\r\n\t// \talign-content: stretch;\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow/index.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\t//@ts-ignore\r\n\t\t\tswitch (this.settings?.direction) {\r\n\t\t\t\tcase \"addToTop\":\r\n\t\t\t\t\treturn [...this.danmakuList];\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [...this.danmakuList].reverse();\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\t\t\tconst top =\r\n\t\t\t\tthat.settings?.direction === \"addToTop\"\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: that.$el.scrollHeight;\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=36359928&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=36359928&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-36359928\"\n\nexport default script","<template>\r\n\t<transition name=\"listAni\" appear>\r\n\t\t<div ref=\"menu\" style=\"position:fixed;z-Index:4000\" :style=\"{left:`${position.x}px!important`,top:`${position.y}px!important`}\">\r\n\t\t\t<right-click-menu-list ref=\"menuList\" @close=\"close()\" :list=\"list\" />\r\n\t\t</div>\r\n\t</transition>\r\n</template>\r\n\r\n<script >\r\nimport rightClickMenuList from \"./rightClickMenuList.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { render, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rightClickMenu\",\r\n\tcomponents: {\r\n\t\trightClickMenuList\r\n\t},\r\n\tprops: {\r\n\t\telement: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tlist: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.addBlurListener();\r\n\t},\r\n\tmethods: {\r\n\t\tclose() {\r\n\t\t\tevent.off(\"mouseclick\", this.judgeBlur);\r\n\t\t\trender(null, this.$el);\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.element.remove();\r\n\t\t},\r\n\t\taddBlurListener() {\r\n\t\t\tdocument.addEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.addEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\tjudgeBlur(e) {\r\n\t\t\tfor (const item of e.path) {\r\n\t\t\t\tif (item === this.$refs.menu) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.removeEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.removeEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport rightClickMenuListB from \"./rightClickMenuLisB.vue\";\r\nexport default {\r\n\tname: \"rightClickMenuList\",\r\n\tprops: [\"list\", \"index\"],\r\n\tcomponents: {\r\n\t\trightClickMenuListB\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"rightClickMenuListB\",\r\n\tprops: [\"list\", \"index\"],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","import { render } from \"./rightClickMenuLisB.vue?vue&type=template&id=9d16dfe8&scoped=true\"\nimport script from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9d16dfe8\"\n\nexport default script","import { render } from \"./rightClickMenuList.vue?vue&type=template&id=176d2028&scoped=true\"\nimport script from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-176d2028\"\n\nexport default script","import { render } from \"./rightClickMenu.vue?vue&type=template&id=2ca27b36&scoped=true\"\nimport script from \"./rightClickMenu.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenu.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2ca27b36\"\n\nexport default script","import { Directive, createApp } from \"vue\";\r\nimport menu from \"./rightClickMenu.vue\";\r\n\r\nconst directive = (): Directive => {\r\n\tlet list: any = [];\r\n\treturn {\r\n\t\tmounted(el, binding) {\r\n\t\t\tel.addEventListener(\"contextmenu\", (e: any) => {\r\n\t\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\t\t// list = binding.value;\r\n\t\t\t\tdocument.body.append(element);\r\n\t\t\t\tcreateApp(menu, {\r\n\t\t\t\t\tlist,\r\n\t\t\t\t\telement,\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\ty: e.clientY\r\n\t\t\t\t\t}\r\n\t\t\t\t}).mount(element);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdated(el, binding) {\r\n\t\t\tlist = binding.value;\r\n\t\t}\r\n\t};\r\n};\r\nexport default directive;\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\""],"sourceRoot":""}