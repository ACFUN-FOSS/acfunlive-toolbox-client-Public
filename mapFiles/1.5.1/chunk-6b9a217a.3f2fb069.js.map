{"version":3,"sources":["webpack:///./src/electron_browser/views/general/index.vue?8ac9","webpack:///./src/electron_browser/views/general/index.vue","webpack:///./src/electron_browser/views/general/index.vue?64f2","webpack:///./src/electron_browser/views/general/index.vue?b3a3"],"names":["class","id","align","style","title","flex","span","general","streamToolEnable","save","size","model-value","streamToolPath","append","type","loadStreamToolPath","backup","restore","name","this","loadConfig","computed","methods","danmakuProfile","then","res","path","Object","assign","duration","message","offset","file","config","$store","state","profile","commit","url","window","open","catch","err","console","error","render","__scopeId"],"mappings":"kHAAA,W,qNCGuB,c,+BASgE,S,EAM/D,yBAAsD,QAAhDA,MAAM,QAAO,gCAA4B,G,+BAIb,Q,+BAGC,Q,EAEnC,yBAA6C,QAAvCA,MAAM,QAAO,uBAAmB,G,0WA1B7D,yBA4BgB,GA5BDC,GAAG,UAAUC,MAAM,O,WACjC,IAiBY,CAjBZ,yBAiBY,GAjBDC,MAAA,eAAmBC,MAAM,SAASC,KAAA,I,WAC5C,IAEW,CAFX,yBAEW,GAFAC,KAAM,GAAC,C,UAAE,IAEpB,C,UACA,yBAEW,GAFAA,KAAM,GAAC,C,UACjB,IAA+D,CAA/D,yBAA+D,G,WAA3C,EAAAC,QAAQC,iB,qCAAR,EAAAD,QAAQC,iBAAgB,GAAG,SAAQ,EAAAC,M,0CAE9B,EAAAF,QAAQC,kB,yBAAlC,yBAQW,G,MARAF,KAAM,G,WAChB,IAKW,CALX,yBAKW,GALDI,KAAK,OAAQC,cAAa,EAAAJ,QAAQK,gB,CAChCC,OAAM,EAChB,IACY,CADZ,yBACY,GADDC,KAAK,UAAUJ,KAAK,OAAOV,MAAM,SAAU,QAAO,EAAAe,oB,WAAoB,IACjF,C,kGAKH,yBAAsF,GAA3ET,KAAM,IAAE,C,UAAE,IAAsD,CAAtD,I,cAEtB,yBAQY,GARDH,MAAA,eAAmBC,MAAM,UAAUC,KAAA,I,WAC7C,IAEW,CAFX,yBAEW,GAFAC,KAAM,GAAC,C,UACjB,IAAsE,CAAtE,yBAAsE,GAA3DI,KAAK,OAAOI,KAAK,UAAW,QAAO,EAAAE,Q,WAAQ,IAAI,C,gCAE3D,yBAEW,GAFAV,KAAM,GAAC,C,UACjB,IAAuE,CAAvE,yBAAuE,GAA5DI,KAAK,OAAOI,KAAK,UAAW,QAAO,EAAAG,S,WAAS,IAAI,C,gCAE5D,yBAA6E,GAAlEX,KAAM,IAAE,C,UAAE,IAA6C,CAA7C,I,8ICbT,+BAAgB,CAC9BY,KAAM,UACN,OACC,MAAO,CACNX,QAAS,CACRC,kBAAkB,EAClBI,eAAgB,MAInB,UACCO,KAAKC,cAENC,SAAU,IACN,eAAS,CAAC,oBAEdC,QAAS,CACR,aACCH,KAAKZ,QACJ,IAAUY,KAAKI,eAAehB,UAAY,gCAE5C,qBACC,eAAK,QAAQiB,KAAMC,IAClBN,KAAKZ,QAAQK,eAAiBa,EAAIC,KAClCP,KAAKV,UAGP,OACCkB,OAAOC,OAAOT,KAAKI,eAAgB,CAClChB,QAAS,IAAUY,KAAKZ,WAEzB,eAAWY,KAAKI,gBAChB,IAAU,CACTM,SAAU,KACVC,QAAS,OACTC,OAAQ,GACRjB,KAAM,aAGR,gBACC,MAAMkB,QAAkB,eAAK,QACvBC,QAAe,eAAcD,EAAKN,MACpCO,GACHd,KAAKe,OAAOC,MAAMZ,eAAiB,eAClC,OAAQa,UACRH,GAEDd,KAAKC,aACLD,KAAKe,OAAOG,OAAO,iBAAkB,IACrC,IAAU,CACTvB,KAAM,UACNgB,QAAS,UACTD,SAAU,KACVE,OAAQ,MAGT,IAAU,CACTjB,KAAM,QACNgB,QAAS,SACTD,SAAU,KACVE,OAAQ,MAIX,SACC,iBACEP,KAAMc,IACNC,OAAOC,KAAKF,KAEZG,MAAMC,IACNC,QAAQC,MAAMF,S,UC/EnB,EAAOG,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-6b9a217a.3f2fb069.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=245b2163&scoped=true&lang=scss\"","<template>\n\t<content-frame id=\"general\" align=\"row\">\n\t\t<row-frame style=\"width:100%\" title=\"推流工具路径\" flex>\n\t\t\t<row-span :span=\"4\">\n\t\t\t\t同步启动推流工具\n\t\t\t</row-span>\n\t\t\t<row-span :span=\"2\">\n\t\t\t\t<el-switch v-model=\"general.streamToolEnable\" @change=\"save\" />\n\t\t\t</row-span>\n\t\t\t<row-span :span=\"6\" v-if=\"general.streamToolEnable\">\n\t\t\t\t<el-input size=\"mini\" :model-value=\"general.streamToolPath\">\n\t\t\t\t\t<template #append>\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"attach\" @click=\"loadStreamToolPath\">点击选择\n\t\t\t\t\t\t</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-input>\n\n\t\t\t</row-span>\n\t\t\t<row-span :span=\"12\"><span class=\"hint\">设置后工具箱启动时会同步打开推流工具(OBS或是直播助手</span></row-span>\n\t\t</row-frame>\n\t\t<row-frame style=\"width:100%\" title=\"配置备份/还原\" flex>\n\t\t\t<row-span :span=\"2\">\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"backup\">配置备份</el-button>\n\t\t\t</row-span>\n\t\t\t<row-span :span=\"2\">\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"restore\">配置还原</el-button>\n\t\t\t</row-span>\n\t\t\t<row-span :span=\"12\"><span class=\"hint\">一般情况下不需要备份配置，除非重装系统</span></row-span>\n\t\t</row-frame>\n\t</content-frame>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { generalSettings } from \"@front/datas/danmaku\";\nimport { mapState } from \"vuex\";\nimport { load } from \"@front/util_function/file\";\nimport {\n\tsaveConfig,\n\trestoreConfig,\n\tbackupConfig\n} from \"@front/util_function/system\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport { ElMessage } from \"element-plus\";\nimport { danmaku } from \"@front/datas\";\nimport { assign } from \"@front/util_function/base\";\nexport default defineComponent({\n\tname: \"general\",\n\tdata() {\n\t\treturn {\n\t\t\tgeneral: {\n\t\t\t\tstreamToolEnable: false,\n\t\t\t\tstreamToolPath: \"\"\n\t\t\t}\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.loadConfig();\n\t},\n\tcomputed: {\n\t\t...mapState([\"danmakuProfile\"])\n\t},\n\tmethods: {\n\t\tloadConfig() {\n\t\t\tthis.general =\n\t\t\t\tcloneDeep(this.danmakuProfile.general) || generalSettings();\n\t\t},\n\t\tloadStreamToolPath() {\n\t\t\tload(\".exe\").then((res: any) => {\n\t\t\t\tthis.general.streamToolPath = res.path;\n\t\t\t\tthis.save();\n\t\t\t});\n\t\t},\n\t\tsave() {\n\t\t\tObject.assign(this.danmakuProfile, {\n\t\t\t\tgeneral: cloneDeep(this.general)\n\t\t\t});\n\t\t\tsaveConfig(this.danmakuProfile);\n\t\t\tElMessage({\n\t\t\t\tduration: 1500,\n\t\t\t\tmessage: \"保存成功\",\n\t\t\t\toffset: 60,\n\t\t\t\ttype: \"success\"\n\t\t\t});\n\t\t},\n\t\tasync restore() {\n\t\t\tconst file: any = await load(\".zip\");\n\t\t\tconst config = await restoreConfig(file.path);\n\t\t\tif (config) {\n\t\t\t\tthis.$store.state.danmakuProfile = assign(\n\t\t\t\t\tdanmaku.profile(),\n\t\t\t\t\tconfig\n\t\t\t\t);\n\t\t\t\tthis.loadConfig();\n\t\t\t\tthis.$store.commit(\"updateSettings\", {});\n\t\t\t\tElMessage({\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tmessage: \"配置还原成功！\",\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\toffset: 60\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tElMessage({\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tmessage: \"配置还原失败\",\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\toffset: 60\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tbackup() {\n\t\t\tbackupConfig()\n\t\t\t\t.then((url: any) => {\n\t\t\t\t\twindow.open(url);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t}\n\t}\n});\n</script>\n\n<style scoped lang='scss'>\n@import \"@front/styles/variables.scss\";\n#general {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n}\n</style>\n","\nimport { defineComponent } from \"vue\";\nimport { generalSettings } from \"@front/datas/danmaku\";\nimport { mapState } from \"vuex\";\nimport { load } from \"@front/util_function/file\";\nimport {\n\tsaveConfig,\n\trestoreConfig,\n\tbackupConfig\n} from \"@front/util_function/system\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport { ElMessage } from \"element-plus\";\nimport { danmaku } from \"@front/datas\";\nimport { assign } from \"@front/util_function/base\";\nexport default defineComponent({\n\tname: \"general\",\n\tdata() {\n\t\treturn {\n\t\t\tgeneral: {\n\t\t\t\tstreamToolEnable: false,\n\t\t\t\tstreamToolPath: \"\"\n\t\t\t}\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.loadConfig();\n\t},\n\tcomputed: {\n\t\t...mapState([\"danmakuProfile\"])\n\t},\n\tmethods: {\n\t\tloadConfig() {\n\t\t\tthis.general =\n\t\t\t\tcloneDeep(this.danmakuProfile.general) || generalSettings();\n\t\t},\n\t\tloadStreamToolPath() {\n\t\t\tload(\".exe\").then((res: any) => {\n\t\t\t\tthis.general.streamToolPath = res.path;\n\t\t\t\tthis.save();\n\t\t\t});\n\t\t},\n\t\tsave() {\n\t\t\tObject.assign(this.danmakuProfile, {\n\t\t\t\tgeneral: cloneDeep(this.general)\n\t\t\t});\n\t\t\tsaveConfig(this.danmakuProfile);\n\t\t\tElMessage({\n\t\t\t\tduration: 1500,\n\t\t\t\tmessage: \"保存成功\",\n\t\t\t\toffset: 60,\n\t\t\t\ttype: \"success\"\n\t\t\t});\n\t\t},\n\t\tasync restore() {\n\t\t\tconst file: any = await load(\".zip\");\n\t\t\tconst config = await restoreConfig(file.path);\n\t\t\tif (config) {\n\t\t\t\tthis.$store.state.danmakuProfile = assign(\n\t\t\t\t\tdanmaku.profile(),\n\t\t\t\t\tconfig\n\t\t\t\t);\n\t\t\t\tthis.loadConfig();\n\t\t\t\tthis.$store.commit(\"updateSettings\", {});\n\t\t\t\tElMessage({\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tmessage: \"配置还原成功！\",\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\toffset: 60\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tElMessage({\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tmessage: \"配置还原失败\",\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\toffset: 60\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tbackup() {\n\t\t\tbackupConfig()\n\t\t\t\t.then((url: any) => {\n\t\t\t\t\twindow.open(url);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t}\n\t}\n});\n","import { render } from \"./index.vue?vue&type=template&id=245b2163&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=245b2163&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-245b2163\"\n\nexport default script"],"sourceRoot":""}