{"version":3,"sources":["webpack:///./src/electron_browser/views/roomNameList/index.vue?dfa4","webpack:///./src/electron_browser/views/roomNameList/index.vue","webpack:///./src/electron_browser/views/roomNameList/index.vue?b7df","webpack:///./src/electron_browser/views/roomNameList/index.vue?aab5"],"names":["class","id","title","style","size","blackListToAdd","placeholder","addBlackList","list","blackList","action","blackListAction","keywordToAdd","$store","commit","keywordList","keywordAction","managerToAdd","addManager","managerL1st","managerAction","likeListToAdd","addLikeList","likeList","likeListAction","loading","name","components","baseList","base","this","computed","danmakuProfile","common","map","i","label","nickname","error","console","keywords","managerList","manager","userInfo","methods","icon","e","userID","getUserInfo","then","value","max","uid","parseInt","errorMsg","found","isNaN","length","userProfile","find","profile","Error","offset","type","message","duration","render","__scopeId"],"mappings":"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","file":"js/chunk-10f42a13.965b2035.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=938ddd98&scoped=true&lang=scss\"","<template>\r\n\t<content-frame id=\"roomNameList\" v-loading=\"loading\">\r\n\t\t<row-frame title=\"怪人（黑名单）\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"blackListToAdd\" placeholder=\"点击输入UID,回车添加\" @keypress.enter=\"addBlackList\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:180px\" :list=\"blackList\" :action=\"blackListAction()\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame title=\"屏蔽关键词\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"keywordToAdd\" placeholder=\"点击输入关键词,回车添加\" @keypress.enter=\"$store.commit('addKeyword',keywordToAdd);keywordToAdd=''\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:146px\" :list=\"keywordList\" :action=\"keywordAction()\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame title=\"房管\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"managerToAdd\" placeholder=\"点击输入UID,回车添加\" @keypress.enter=\"addManager\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:180px\" :list=\"managerL1st\" :action=\"managerAction()\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame title=\"特别关心\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"likeListToAdd\" placeholder=\"点击输入UID,回车添加\" @keypress.enter=\"addLikeList\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:160px\" :list=\"likeList\" :action=\"likeListAction()\" />\r\n\t\t\t</row-span>\r\n\t\t\t<span class=\"hint\">特别关心：设置以后该用户开播\\首次进入直播间将会提醒</span>\r\n\t\t</row-frame>\r\n\t</content-frame>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { streamInfo } from \"@front/api/user\";\r\nimport baseList from \"@front/components/base/list/base.vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"roomNameList\",\r\n\tcomponents: { baseList },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tkeywordToAdd: \"\",\r\n\t\t\tblackListToAdd: \"\",\r\n\t\t\tmanagerToAdd: \"\",\r\n\t\t\tlikeListToAdd: \"\"\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"managerList\", \"userProfile\"]),\r\n\t\tblackList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.blackList.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i.nickname,\r\n\t\t\t\t\t...i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tlikeList(): Array<any> {\r\n\t\t\ttry {\r\n\t\t\t\treturn this.danmakuProfile.common.likeList.map((i: any) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tlabel: i.nickname,\r\n\t\t\t\t\t\t...i\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tkeywordList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.keywords.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tmanagerL1st(): Array<any> {\r\n\t\t\treturn this.managerList.map((manager: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: manager.userInfo.nickname,\r\n\t\t\t\t\t...manager.userInfo\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tblackListAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeBlackList\", e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tlikeListAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeLikeList\", e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tkeywordAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeKeyword\", e.label);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tmanagerAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeManager\", e.userID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\taddManager() {\r\n\t\t\tthis.getUserInfo(this.managerToAdd, this.managerL1st, 10).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addManager\", userInfo.userID);\r\n\t\t\t\t\t\tthis.managerToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddBlackList() {\r\n\t\t\tthis.getUserInfo(this.blackListToAdd, this.blackList).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addBlackList\", userInfo);\r\n\t\t\t\t\t\tthis.blackListToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddLikeList() {\r\n\t\t\tthis.getUserInfo(this.likeListToAdd, this.likeList).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addLikeList\", userInfo);\r\n\t\t\t\t\t\tthis.likeListToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tasync getUserInfo(value: any, list: Array<any>, max = -1) {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst uid = parseInt(value);\r\n\t\t\tlet errorMsg = \"\";\r\n\t\t\tlet userInfo: any = {};\r\n\t\t\tlet found = null;\r\n\t\t\tif (isNaN(uid)) {\r\n\t\t\t\terrorMsg = \"错误：只能输入用户数字uid\";\r\n\t\t\t} else if (max > 0 && list.length === max) {\r\n\t\t\t\terrorMsg = \"错误：添加数量达到最大\";\r\n\t\t\t} else if (uid === this.userProfile.userID) {\r\n\t\t\t\terrorMsg = \"错误：恁别把自己加进去\";\r\n\t\t\t} else if ((found = list.find(i => i.userID === uid))) {\r\n\t\t\t\terrorMsg = `错误：用户已在列表中，名字是${found.nickname}`;\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!(userInfo = (\r\n\t\t\t\t\t\t\tawait streamInfo({\r\n\t\t\t\t\t\t\t\tuserID: uid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t).profile)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthrow new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\terrorMsg = \"错误：找不到该用户\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (errorMsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\toffset: 60,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: errorMsg,\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tuserID: userInfo.userID,\r\n\t\t\t\tnickname: userInfo.nickname\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n#roomNameList {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { streamInfo } from \"@front/api/user\";\r\nimport baseList from \"@front/components/base/list/base.vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"roomNameList\",\r\n\tcomponents: { baseList },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tkeywordToAdd: \"\",\r\n\t\t\tblackListToAdd: \"\",\r\n\t\t\tmanagerToAdd: \"\",\r\n\t\t\tlikeListToAdd: \"\"\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"managerList\", \"userProfile\"]),\r\n\t\tblackList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.blackList.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i.nickname,\r\n\t\t\t\t\t...i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tlikeList(): Array<any> {\r\n\t\t\ttry {\r\n\t\t\t\treturn this.danmakuProfile.common.likeList.map((i: any) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tlabel: i.nickname,\r\n\t\t\t\t\t\t...i\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tkeywordList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.keywords.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tmanagerL1st(): Array<any> {\r\n\t\t\treturn this.managerList.map((manager: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: manager.userInfo.nickname,\r\n\t\t\t\t\t...manager.userInfo\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tblackListAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeBlackList\", e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tlikeListAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeLikeList\", e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tkeywordAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeKeyword\", e.label);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tmanagerAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeManager\", e.userID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\taddManager() {\r\n\t\t\tthis.getUserInfo(this.managerToAdd, this.managerL1st, 10).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addManager\", userInfo.userID);\r\n\t\t\t\t\t\tthis.managerToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddBlackList() {\r\n\t\t\tthis.getUserInfo(this.blackListToAdd, this.blackList).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addBlackList\", userInfo);\r\n\t\t\t\t\t\tthis.blackListToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddLikeList() {\r\n\t\t\tthis.getUserInfo(this.likeListToAdd, this.likeList).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addLikeList\", userInfo);\r\n\t\t\t\t\t\tthis.likeListToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tasync getUserInfo(value: any, list: Array<any>, max = -1) {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst uid = parseInt(value);\r\n\t\t\tlet errorMsg = \"\";\r\n\t\t\tlet userInfo: any = {};\r\n\t\t\tlet found = null;\r\n\t\t\tif (isNaN(uid)) {\r\n\t\t\t\terrorMsg = \"错误：只能输入用户数字uid\";\r\n\t\t\t} else if (max > 0 && list.length === max) {\r\n\t\t\t\terrorMsg = \"错误：添加数量达到最大\";\r\n\t\t\t} else if (uid === this.userProfile.userID) {\r\n\t\t\t\terrorMsg = \"错误：恁别把自己加进去\";\r\n\t\t\t} else if ((found = list.find(i => i.userID === uid))) {\r\n\t\t\t\terrorMsg = `错误：用户已在列表中，名字是${found.nickname}`;\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!(userInfo = (\r\n\t\t\t\t\t\t\tawait streamInfo({\r\n\t\t\t\t\t\t\t\tuserID: uid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t).profile)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthrow new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\terrorMsg = \"错误：找不到该用户\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (errorMsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\toffset: 60,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: errorMsg,\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tuserID: userInfo.userID,\r\n\t\t\t\tnickname: userInfo.nickname\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=938ddd98&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=938ddd98&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-938ddd98\"\n\nexport default script"],"sourceRoot":""}