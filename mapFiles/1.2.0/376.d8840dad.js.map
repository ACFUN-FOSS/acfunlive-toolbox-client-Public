{"version":3,"sources":["webpack://acfunlive-toolbox/./src/electron_browser/util_function/storeWorker/worker.js"],"names":["hostPort","clientPort","HOST","CLIENT","onconnect","e","port","ports","onmessage","method","data","filter","push","postMessage","forEach","length"],"mappings":"MACA,IAAIA,EAAW,KACXC,EAAa,GACjB,MAAMC,EAAO,EACZC,EAAS,EAEVC,UAAY,SAAUC,GACrB,MAAMC,EAAOD,EAAEE,MAAM,GACrBD,EAAKE,UAAYH,IAChB,MAAOI,EAAQC,GAAQL,EAAEK,KACzB,OAAQD,GACP,IAAK,QACAT,IAAaM,EAChBN,EAAW,KAEXC,EAAaA,EAAWU,QAAOL,GAAQA,IAASA,IAEjD,MACD,IAAK,WAEAI,IAASR,IAAMF,EAAWM,GAC1BI,IAASP,GAAQF,EAAWW,KAAKN,GACrC,MACD,IAAK,WACL,IAAK,SACAN,GAAUA,EAASa,YAAYR,EAAEK,MACrC,MACD,IAAK,cACJT,EAAWa,SAAQR,IAClBA,EAAKO,YAAYR,EAAEK,SAGtBJ,EAAKO,YAAY,CAAC,WAAYb,EAAUC,EAAWc,Y","file":"js/376.d8840dad.js","sourcesContent":["/* eslint-disable */\r\nlet hostPort = null;\r\nlet clientPort = [];\r\nconst HOST = 0,\r\n\tCLIENT = 1;\r\nlet count = 0;\r\nonconnect = function (e) {\r\n\tconst port = e.ports[0];\r\n\tport.onmessage = e => {\r\n\t\tconst [method, data] = e.data;\r\n\t\tswitch (method) {\r\n\t\t\tcase \"close\":\r\n\t\t\t\tif (hostPort === port) {\r\n\t\t\t\t\thostPort = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclientPort = clientPort.filter(port => port !== port);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"register\":\r\n\t\t\t\tcount++;\r\n\t\t\t\tif (data === HOST) hostPort = port;\r\n\t\t\t\tif (data === CLIENT) clientPort.push(port);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dispatch\":\r\n\t\t\tcase \"commit\":\r\n\t\t\t\tif (hostPort) hostPort.postMessage(e.data);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"stateUpdate\":\r\n\t\t\t\tclientPort.forEach(port => {\r\n\t\t\t\t\tport.postMessage(e.data);\r\n\t\t\t\t});\r\n\t\t}\r\n\t\tport.postMessage([\"success!\", hostPort, clientPort.length]);\r\n\t};\r\n};\r\n"],"sourceRoot":""}