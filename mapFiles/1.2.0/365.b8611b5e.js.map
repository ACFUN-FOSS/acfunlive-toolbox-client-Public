{"version":3,"sources":["webpack://acfunlive-toolbox/./src/electron_browser/views/general/index.vue","webpack://acfunlive-toolbox/./src/electron_browser/views/general/index.vue?50aa","webpack://acfunlive-toolbox/./src/electron_browser/views/general/index.vue?fae9"],"names":["class","id","align","style","title","flex","span","general","streamToolEnable","save","size","model-value","streamToolPath","append","type","loadStreamToolPath","backup","restore","defineComponent","name","this","loadConfig","computed","methods","danmakuProfile","then","res","path","Object","assign","duration","message","offset","file","config","$store","state","danmaku","commit","url","window","open","catch","err","console","error","render"],"mappings":"6RAGuB,c,wBASgE,S,GAM/D,iBAAsD,QAAhDA,MAAM,QAAO,gCAA4B,G,wBAIb,Q,wBAGC,Q,GAEnC,iBAA6C,QAAvCA,MAAM,QAAO,uBAAmB,I,kTA1B7D,iBA4BgB,GA5BDC,GAAG,UAAUC,MAAM,O,YACjC,IAiBY,EAjBZ,iBAiBY,GAjBDC,MAAA,eAAmBC,MAAM,SAASC,KAAA,I,YAC5C,IAEW,EAFX,iBAEW,GAFAC,KAAM,GAAC,C,WAAE,IAEpB,C,YACA,iBAEW,GAFAA,KAAM,GAAC,C,WACjB,IAA+D,EAA/D,iBAA+D,G,WAA3C,EAAAC,QAAQC,iB,qCAAR,EAAAD,QAAQC,iBAAgB,GAAG,SAAQ,EAAAC,M,2CAE9B,EAAAF,QAAQC,mB,kBAAlC,iBAQW,G,MARAF,KAAM,G,YAChB,IAKW,EALX,iBAKW,GALDI,KAAK,OAAQC,cAAa,EAAAJ,QAAQK,gB,CAChCC,OAAM,GAChB,IACY,EADZ,iBACY,GADDC,KAAK,UAAUJ,KAAK,OAAOV,MAAM,SAAU,QAAO,EAAAe,oB,YAAoB,IACjF,C,+FAKH,iBAAsF,GAA3ET,KAAM,IAAE,C,WAAE,IAAsD,CAAtD,K,gBAEtB,iBAQY,GARDH,MAAA,eAAmBC,MAAM,UAAUC,KAAA,I,YAC7C,IAEW,EAFX,iBAEW,GAFAC,KAAM,GAAC,C,WACjB,IAAsE,EAAtE,iBAAsE,GAA3DI,KAAK,OAAOI,KAAK,UAAW,QAAO,EAAAE,Q,YAAQ,IAAI,C,mCAE3D,iBAEW,GAFAV,KAAM,GAAC,C,WACjB,IAAuE,EAAvE,iBAAuE,GAA5DI,KAAK,OAAOI,KAAK,UAAW,QAAO,EAAAG,S,YAAS,IAAI,C,mCAE5D,iBAA6E,GAAlEX,KAAM,IAAE,C,WAAE,IAA6C,CAA7C,K,oHCbxB,SAAe,IAAAY,iBAAgB,CAC9BC,KAAM,UACN,OACC,MAAO,CACNZ,QAAS,CACRC,kBAAkB,EAClBI,eAAgB,MAInB,UACCQ,KAAKC,cAENC,SAAU,KACN,QAAS,CAAC,oBAEdC,QAAS,CACR,aACCH,KAAKb,QACJ,IAAUa,KAAKI,eAAejB,WAAY,WAE5C,sBACC,OAAK,QAAQkB,MAAMC,IAClBN,KAAKb,QAAQK,eAAiBc,EAAIC,KAClCP,KAAKX,WAGP,OACCmB,OAAOC,OAAOT,KAAKI,eAAgB,CAClCjB,QAAS,IAAUa,KAAKb,YAEzB,QAAWa,KAAKI,iBAChB,aAAU,CACTM,SAAU,KACVC,QAAS,OACTC,OAAQ,GACRlB,KAAM,aAGR,gBACC,MAAMmB,QAAkB,OAAK,QACvBC,QAAe,QAAcD,EAAKN,MACpCO,GACHd,KAAKe,OAAOC,MAAMZ,gBAAiB,QAClCa,EAAA,KACAH,GAEDd,KAAKC,aACLD,KAAKe,OAAOG,OAAO,iBAAkB,KACrC,aAAU,CACTxB,KAAM,UACNiB,QAAS,UACTD,SAAU,KACVE,OAAQ,OAGT,aAAU,CACTlB,KAAM,QACNiB,QAAS,SACTD,SAAU,KACVE,OAAQ,MAIX,UACC,UACEP,MAAMc,IACNC,OAAOC,KAAKF,MAEZG,OAAMC,IACNC,QAAQC,MAAMF,UC/EnB,SAAgBG,EAChB,YAAmB,kBAEnB","file":"js/365.b8611b5e.js","sourcesContent":["<template>\r\n\t<content-frame id=\"general\" align=\"row\">\r\n\t\t<row-frame style=\"width:100%\" title=\"推流工具路径\" flex>\r\n\t\t\t<row-span :span=\"4\">\r\n\t\t\t\t同步启动推流工具\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<el-switch v-model=\"general.streamToolEnable\" @change=\"save\" />\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"6\" v-if=\"general.streamToolEnable\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"general.streamToolPath\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"attach\" @click=\"loadStreamToolPath\">点击选择\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"12\"><span class=\"hint\">设置后工具箱启动时会同步打开推流工具(OBS或是直播助手</span></row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame style=\"width:100%\" title=\"配置备份/还原\" flex>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"backup\">配置备份</el-button>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"restore\">配置还原</el-button>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"12\"><span class=\"hint\">一般情况下不需要备份配置，除非重装系统</span></row-span>\r\n\t\t</row-frame>\r\n\t</content-frame>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { generalSettings } from \"@front/datas/danmaku\";\r\nimport { mapState } from \"vuex\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport {\r\n\tsaveConfig,\r\n\trestoreConfig,\r\n\tbackupConfig\r\n} from \"@front/util_function/system\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { danmaku } from \"@front/datas\";\r\nimport { assign } from \"@front/util_function/base\";\r\nexport default defineComponent({\r\n\tname: \"general\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgeneral: {\r\n\t\t\t\tstreamToolEnable: false,\r\n\t\t\t\tstreamToolPath: \"\"\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.loadConfig();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tloadConfig() {\r\n\t\t\tthis.general =\r\n\t\t\t\tcloneDeep(this.danmakuProfile.general) || generalSettings();\r\n\t\t},\r\n\t\tloadStreamToolPath() {\r\n\t\t\tload(\".exe\").then((res: any) => {\r\n\t\t\t\tthis.general.streamToolPath = res.path;\r\n\t\t\t\tthis.save();\r\n\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tObject.assign(this.danmakuProfile, {\r\n\t\t\t\tgeneral: cloneDeep(this.general)\r\n\t\t\t});\r\n\t\t\tsaveConfig(this.danmakuProfile);\r\n\t\t\tElMessage({\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\tmessage: \"保存成功\",\r\n\t\t\t\toffset: 60,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync restore() {\r\n\t\t\tconst file: any = await load(\".zip\");\r\n\t\t\tconst config = await restoreConfig(file.path);\r\n\t\t\tif (config) {\r\n\t\t\t\tthis.$store.state.danmakuProfile = assign(\r\n\t\t\t\t\tdanmaku.profile(),\r\n\t\t\t\t\tconfig\r\n\t\t\t\t);\r\n\t\t\t\tthis.loadConfig();\r\n\t\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: \"配置还原成功！\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: \"配置还原失败\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackup() {\r\n\t\t\tbackupConfig()\r\n\t\t\t\t.then((url: any) => {\r\n\t\t\t\t\twindow.open(url);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#general {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { generalSettings } from \"@front/datas/danmaku\";\r\nimport { mapState } from \"vuex\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport {\r\n\tsaveConfig,\r\n\trestoreConfig,\r\n\tbackupConfig\r\n} from \"@front/util_function/system\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { danmaku } from \"@front/datas\";\r\nimport { assign } from \"@front/util_function/base\";\r\nexport default defineComponent({\r\n\tname: \"general\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgeneral: {\r\n\t\t\t\tstreamToolEnable: false,\r\n\t\t\t\tstreamToolPath: \"\"\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.loadConfig();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tloadConfig() {\r\n\t\t\tthis.general =\r\n\t\t\t\tcloneDeep(this.danmakuProfile.general) || generalSettings();\r\n\t\t},\r\n\t\tloadStreamToolPath() {\r\n\t\t\tload(\".exe\").then((res: any) => {\r\n\t\t\t\tthis.general.streamToolPath = res.path;\r\n\t\t\t\tthis.save();\r\n\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tObject.assign(this.danmakuProfile, {\r\n\t\t\t\tgeneral: cloneDeep(this.general)\r\n\t\t\t});\r\n\t\t\tsaveConfig(this.danmakuProfile);\r\n\t\t\tElMessage({\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\tmessage: \"保存成功\",\r\n\t\t\t\toffset: 60,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync restore() {\r\n\t\t\tconst file: any = await load(\".zip\");\r\n\t\t\tconst config = await restoreConfig(file.path);\r\n\t\t\tif (config) {\r\n\t\t\t\tthis.$store.state.danmakuProfile = assign(\r\n\t\t\t\t\tdanmaku.profile(),\r\n\t\t\t\t\tconfig\r\n\t\t\t\t);\r\n\t\t\t\tthis.loadConfig();\r\n\t\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: \"配置还原成功！\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: \"配置还原失败\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackup() {\r\n\t\t\tbackupConfig()\r\n\t\t\t\t.then((url: any) => {\r\n\t\t\t\t\twindow.open(url);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=245b2163&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=245b2163&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-245b2163\"\n\nexport default script"],"sourceRoot":""}