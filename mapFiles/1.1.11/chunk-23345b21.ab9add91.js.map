{"version":3,"sources":["webpack:///./src/electron_browser/components/roomList/roomList.vue?06f3","webpack:///./src/electron_browser/components/roomList/rankList.vue?8da8","webpack:///./src/electron_browser/components/roomList/audienceList.vue?332b","webpack:///./src/electron_browser/components/minify/index.vue?5441","webpack:///./src/electron_browser/components/minify/index.vue?17d0","webpack:///./src/electron_browser/components/minify/index.vue?7b93","webpack:///./src/electron_browser/components/roomChat/index.vue?9601","webpack:///./src/electron_browser/views/streamMonitor/index.vue?9fee","webpack:///./src/electron_browser/views/streamMonitor/index.vue","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue?6cdc","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue?7e58","webpack:///./src/electron_browser/views/streamMonitor/shotcut.vue","webpack:///./src/electron_browser/views/streamMonitor/shotcut.vue?96fa","webpack:///./src/electron_browser/components/roomList/roomList.vue","webpack:///./src/electron_browser/components/roomList/audienceList.vue","webpack:///./src/electron_browser/components/roomList/audienceList.vue?0c30","webpack:///./src/electron_browser/components/roomList/audienceList.vue?e9c4","webpack:///./src/electron_browser/components/roomList/donateList.vue","webpack:///./src/electron_browser/components/roomList/donateList.vue?c869","webpack:///./src/electron_browser/components/roomList/donateList.vue?04b3","webpack:///./src/electron_browser/components/roomList/rankList.vue","webpack:///./src/electron_browser/components/roomList/rankList.vue?5a35","webpack:///./src/electron_browser/components/roomList/rankList.vue?19c7","webpack:///./src/electron_browser/components/roomList/roomList.vue?db7c","webpack:///./src/electron_browser/components/roomList/roomList.vue?5dec","webpack:///./src/electron_browser/components/roomChat/index.vue","webpack:///./src/electron_browser/api/chat.ts","webpack:///./src/electron_browser/components/roomChat/index.vue?0693","webpack:///./src/electron_browser/components/roomChat/index.vue?a4fd","webpack:///./src/electron_browser/components/minify/index.vue","webpack:///./src/electron_browser/components/minify/index.vue?a4e8","webpack:///./src/electron_browser/components/minify/index.vue?ee1c","webpack:///./src/electron_browser/views/streamMonitor/index.vue?dff1","webpack:///./src/electron_browser/views/streamMonitor/index.vue?25ad","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue?3ddb","webpack:///./src/electron_browser/components/roomList/donateList.vue?0fbd"],"names":["module","exports","class","style","id","title","align","width","superChatEnable","flex","content-default-class","span","brightness","min","max","step","temp","superChatArray","length","danmakuList","settings","minify","roomProfile","liveCover","label","liveType","categoryName","subCategoryName","unixTimeFormatter","$store","state","roomStatus","liveDuration","icon","num","watchingCount","thousandFormatter","statistic","likeCount","bananaCount","diamondCount","name","computed","watch","methods","render","__scopeId","href","userSession","userID","target","type","size","closeStream","commit","mixins","activeName","component","header","user","currentUser","key","userInfo","avatar","nickname","isManager","displaySendAmount","userMenuList","remains","directives","menu","timeout","list","this","slice","data","getList","clearTimeout","then","res","map","managerList","find","i","setTimeout","Boolean","profile","friendshipDegree","rank","rankList","components","first","audienceList","second","donateList","third","ref","sendDanmaku","value","placeholder","status","tips","disabled","danmakuProfile","common","emotion","emojis","addEmotion","trigger","max-height","hide-on-click","dropdown","emoji","index","command","pattern","src","url","waitList","sending","chat","deviceID","serviceToken","text","content","push","realChat","finally","shift","cooling","on","focus","off","isLogined","isStreaming","n","immediate","validation","msg","visitorId","liveId","liveID","emit","message","duration","offset","$refs","input","errmsg","setting","isTop","setTop","isBlur","blurConfirm","minimize","custom-class","close-on-click-modal","opacity","zoom","show-close","footer","setIgnore","opacityTimer","previousIgnore","document","body","classList","add","toPosition","localStorage","getItem","JSON","parse","setIgnoreTemp","setHover","remove","setItem","stringify","renterIgnore","o","applySetting","deep","getElementById","_","save","load","winPosition","getPosition","saveData","parseInt","window","innerWidth","height","innerHeight","x","y","position","setBounds","setProperty","roomInfo","danmakuFlow","shotcut","roomList","roomChat","superChatList","superChat"],"mappings":"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","file":"js/chunk-23345b21.ab9add91.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./roomList.vue?vue&type=style&index=0&id=57c839f0&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rankList.vue?vue&type=style&index=0&id=5e110aaf&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./audienceList.vue?vue&type=style&index=0&id=681467bf&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=28e8dabc&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=28e8dabc&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarBase\":\"scrollbarBase\",\"scrollbarDark\":\"scrollbarDark\"};","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=20b41e64&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=7de5ab13&scoped=true&lang=scss\"","<template>\r\n\t<title-frame id=\"streamMonitor\" title=\"监控面板\">\r\n\t\t<content-frame align=\"column\">\r\n\t\t\t<row-frame style=\"height:100%\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"房间信息\">\r\n\t\t\t\t\t<row-span>\r\n\t\t\t\t\t\t<room-info />\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t\t<shotcut />\r\n\t\t\t\t<row-frame title=\"更多功能 敬请期待\">\r\n\t\t\t\t\t<row-span>\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-frame>\r\n\t\t\t<row-frame class=\"danmakuPanel\" style=\"height:100%\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"\">\r\n\t\t\t\t\t<row-span style=\"z-index:10000\">\r\n\t\t\t\t\t\t<room-list />\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t\t<row-frame :class=\"{superChatEnable}\" width=\"100%\" title=\"弹幕流\" :flex=\"true\" :content-default-class=\"false\">\r\n\t\t\t\t\t<row-span :span=\"12\" style=\"padding:0px\">\r\n\t\t\t\t\t\t<div class=\"list-add-btn\" style=\"top:0px\">\r\n\t\t\t\t\t\t\t<div class=\"slider\">背景亮度：\r\n\t\t\t\t\t\t\t\t<el-slider style=\"width:100px\" v-model=\"brightness\" :min=\"20\" :max=\"100\" :step=\"1\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<super-chat-list v-if=\"superChatEnable\" :class=\"{'empty':!temp||temp.superChatArray.length===0}\" />\r\n\t\t\t\t\t\t<div class=\"danmaku-list-bg\" :style=\"{'--brightness':(100- brightness)/100}\">\r\n\t\t\t\t\t\t\t<danmaku-flow style=\"font-size:18px!important\" :danmakuList=\"danmakuList\" :settings=\"settings\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t\t<row-frame width=\"100%\">\r\n\t\t\t\t\t<row-span :span=\"12\" style=\"padding:0px\">\r\n\t\t\t\t\t\t<room-chat />\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-frame>\r\n\r\n\t\t</content-frame>\r\n\t</title-frame>\r\n\t<minify v-if=\"minify\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport roomInfo from \"./roomInfo.vue\";\r\nimport danmakuFlow from \"@front/components/danmakuFlow/index.vue\";\r\nimport superChatList from \"@front/components/superChat/index.vue\";\r\nimport shotcut from \"./shotcut.vue\";\r\nimport roomList from \"@front/components/roomList/roomList.vue\";\r\nimport roomChat from \"@front/components/roomChat/index.vue\";\r\nimport minify from \"@front/components/minify/index.vue\";\r\nexport default defineComponent({\r\n\tname: \"streamMonitor\",\r\n\tcomponents: {\r\n\t\troomInfo,\r\n\t\tdanmakuFlow,\r\n\t\tshotcut,\r\n\t\troomList,\r\n\t\troomChat,\r\n\t\tminify,\r\n\t\tsuperChatList\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbrightness: 50\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"danmakuProfile\", \"danmakuList\", \"superChatEnable\"]),\r\n\t\t...mapState([\"minify\", \"temp\"]),\r\n\t\tsettings() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.danmakuProfile(\"toolBox\");\r\n\t\t}\r\n\t},\r\n\twatch: {},\r\n\tmethods: {}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#streamMonitor {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tz-index: 100;\r\n\t.superChatEnable {\r\n\t\t.danmaku-list-bg > div {\r\n\t\t\theight: 315px;\r\n\t\t}\r\n\t}\r\n}\r\n.empty::after {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 35px;\r\n\tcontent: \"超级聊已开启，当前未有人投喂~\";\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcolor: $--color-text-regular;\r\n}\r\n.danmaku-list-bg {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n\r\n\toverflow: hidden;\r\n\t& > div {\r\n\t\theight: 350px;\r\n\t}\r\n\t&::before {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: black;\r\n\t\topacity: var(--brightness);\r\n\t}\r\n}\r\n.list-add-btn {\r\n\tposition: absolute;\r\n\tright: 0px;\r\n\tdisplay: flex;\r\n\t.slider {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-top: -35px;\r\n\t\tmargin-right: 20px;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div id=\"roomInfo\">\r\n\t\t<div class=\"liveCover\" :style=\"{backgroundImage:`url(${roomProfile.liveCover||'/imgs/common/noCover.jpg'})`}\" />\r\n\t\t<div class=\"roomStatus\">\r\n\t\t\t<title-scrolling class=\"title\" :label=\"roomProfile.title\" />\r\n\t\t\t<div class=\"middle\">\r\n\t\t\t\t<div class=\"subtitles\">\r\n\t\t\t\t\t<div class=\"subtitle\">{{`${roomProfile.liveType.categoryName} - ${roomProfile.liveType.subCategoryName}`}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"subtitle\"> 已播时长：{{unixTimeFormatter($store.state.roomStatus.liveDuration)}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"counters\">\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"观众\" icon=\"el-icon-user-solid\" :num=\"roomStatus.watchingCount\" />\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"点赞\" icon=\"self-like\" :num=\"thousandFormatter(roomStatus.statistic.likeCount)\" />\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"香蕉\" icon=\"self-banana\" :num=\"thousandFormatter(roomStatus.statistic.bananaCount)\" />\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"ac币\" icon=\"self-coin\" :num=\"thousandFormatter(roomStatus.statistic.diamondCount/100)\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nexport default defineComponent({\r\n\tname: \"roomInfo\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\", \"roomStatus\", \"userSession\"])\r\n\t},\r\n\twatch: {},\r\n\tmethods: {\r\n\t\tunixTimeFormatter,\r\n\t\tthousandFormatter\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#roomInfo {\r\n\tdisplay: flex;\r\n\t& > div {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t.liveCover {\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t\tmargin-right: 16px;\r\n\t\tbackground-size: cover;\r\n\t\tbackground-position: center;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.roomStatus {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-grow: 1;\r\n\t\t& > div {\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.middle {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tposition: relative;\r\n\t\t\t.btns {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.subtitles {\r\n\t\t\theight: 60px;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: space-evenly;\r\n\t\t}\r\n\t\t.title {\r\n\t\t\twidth: 210px;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-medium;\r\n\t\t}\r\n\t\t.subtitle,\r\n\t\t.counter {\r\n\t\t\tcolor: $--color-text-secondary;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\r\n\t\t.counters {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: no-wrap;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.counter {\r\n\t\t\t\tfont-size: $--font-size-base !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nexport default defineComponent({\r\n\tname: \"roomInfo\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\", \"roomStatus\", \"userSession\"])\r\n\t},\r\n\twatch: {},\r\n\tmethods: {\r\n\t\tunixTimeFormatter,\r\n\t\tthousandFormatter\r\n\t}\r\n});\r\n","import { render } from \"./roomInfo.vue?vue&type=template&id=21830726&scoped=true\"\nimport script from \"./roomInfo.vue?vue&type=script&lang=ts\"\nexport * from \"./roomInfo.vue?vue&type=script&lang=ts\"\n\nimport \"./roomInfo.vue?vue&type=style&index=0&id=21830726&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-21830726\"\n\nexport default script","<template>\r\n\t<div class=\"shotcut\">\r\n\t\t<row-frame width=\"100%\" title=\"快捷功能\" :flex=\"true\">\r\n\t\t\t<row-span :span=\"3.2\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<a style=\"text-decoration:none;color:white\" :href=\"`https://live.acfun.cn/live/${userSession.userID}`\" target=\"_blank\">\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\">网页直播间</el-button>\r\n\t\t\t\t</a>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"closeStream\">下播</el-button>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"4\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"$store.commit('minify')\">迷你化</el-button>\r\n\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { closeStream } from \"@front/mixins/methods\";\r\nexport default defineComponent({\r\n\tname: \"shotcut\",\r\n\tmixins: [closeStream],\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"userSession\"])\r\n\t},\r\n\twatch: {},\r\n\tmethods: {}\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import { render } from \"./shotcut.vue?vue&type=template&id=012d7510&scoped=true\"\nimport script from \"./shotcut.vue?vue&type=script&lang=js\"\nexport * from \"./shotcut.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-012d7510\"\n\nexport default script","<template>\r\n\t<div class=\"roomList\">\r\n\t\t<el-tabs class=\"tabs\" v-model=\"activeName\">\r\n\t\t\t<el-tab-pane label=\"在线观众\" name=\"first\" />\r\n\t\t\t<el-tab-pane label=\"贡献榜\" name=\"second\" />\r\n\t\t\t<el-tab-pane label=\"守护榜\" name=\"third\" />\r\n\t\t</el-tabs>\r\n\t\t<div style=\"height:60px;transform:translateY(-10px);\">\r\n\t\t\t<component :is=\"component\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport audienceList from \"./audienceList.vue\";\r\nimport donateList from \"./donateList.vue\";\r\nimport rankList from \"./rankList.vue\";\r\nexport default defineComponent({\r\n\tname: \"roomList\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcomponents: {\r\n\t\t\t\tfirst: markRaw(audienceList),\r\n\t\t\t\tsecond: markRaw(donateList),\r\n\t\t\t\tthird: markRaw(rankList)\r\n\t\t\t},\r\n\t\t\tactiveName: \"first\"\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcomponent() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.components[this.activeName];\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.tabs {\r\n\tposition: absolute;\r\n\ttop: -62px;\r\n\twidth: 100%;\r\n\t:deep .el-tabs__nav.is-top {\r\n\t\tfloat: left;\r\n\t}\r\n\t:deep .el-tabs__item {\r\n\t\tbox-shadow: none !important;\r\n\t}\r\n\t:deep .el-tabs__header {\r\n\t\tmargin: 0px !important;\r\n\t}\r\n\t:deep .el-tabs__content {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"audience-list\">\r\n\t\t<div class=\"head-list\" style=\"width:100%;display:flex;\">\r\n\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in header\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"gift\">\r\n\t\t\t\t\t<span class=\"manager\" v-if=\"user.isManager\">房管</span><span class=\"self-coin\" />{{user.displaySendAmount}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);\" v-if=\"header.length==0\">暂无观众数据</div>\r\n\t\t</div>\r\n\t\t<div class=\"hidden\">\r\n\t\t\t<div class=\"remain-list\">\r\n\t\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in remains\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t\t<div style=\"display:flex;align-item:center\">\r\n\t\t\t\t\t\t<div class=\"manager\" v-if=\"user.isManager\">房管</div>\r\n\t\t\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"gift\"><span class=\"self-coin\" />{{user.displaySendAmount}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getAudience } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"audienceList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetAudience(this.$store.state.roomProfile).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = this.$store.state.managerList.find(\r\n\t\t\t\t\t\t(i: any) => {\r\n\t\t\t\t\t\t\treturn i.userInfo.userID === user.userInfo.userID;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.audience-list {\r\n\twidth: calc(100% + 16px);\r\n\t.hidden {\r\n\t\tmax-height: 0px;\r\n\t\ttransition: max-height 0.25s;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t}\r\n\t&:hover .hidden {\r\n\t\tmax-height: 400px;\r\n\t}\r\n}\r\n.manager {\r\n\tfont-size: $--font-size-extra-small;\r\n\tcolor: white;\r\n\tborder-radius: $--border-radius-small;\r\n\tbackground-color: $--color-primary;\r\n\tpadding: 0px 5px;\r\n}\r\n.head-list .user-item {\r\n\tmin-width: 90px;\r\n\twidth: 30%;\r\n\tmargin-right: 2%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tflex-grow: 0;\r\n\t.header {\r\n\t\theight: 45px;\r\n\t\twidth: 45px;\r\n\t\tbackground-size: contain;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: $--border-base;\r\n\t\tbox-shadow: $--box-shadow-dark;\r\n\t}\r\n\t.nickname {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\t& > div {\r\n\t\t\tmax-width: 100%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\t}\r\n\t.gift {\r\n\t\tcolor: $--color-warning;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n.remain-list {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tbackground-color: $--background-color-base;\r\n\toverflow-y: scroll;\r\n\t@include scrollbarDark();\r\n\tmax-height: 400px;\r\n\t.user-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t\tpadding: 2.5px 5px;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.header {\r\n\t\t\theight: 15px;\r\n\t\t\twidth: 15px;\r\n\t\t\tbackground-size: contain;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: $--border-base;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.nickname {\r\n\t\t\tmax-width: 270px;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t& > div {\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.gift {\r\n\t\t\tcolor: $--color-warning;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getAudience } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"audienceList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetAudience(this.$store.state.roomProfile).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = this.$store.state.managerList.find(\r\n\t\t\t\t\t\t(i: any) => {\r\n\t\t\t\t\t\t\treturn i.userInfo.userID === user.userInfo.userID;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./audienceList.vue?vue&type=template&id=681467bf&scoped=true\"\nimport script from \"./audienceList.vue?vue&type=script&lang=ts\"\nexport * from \"./audienceList.vue?vue&type=script&lang=ts\"\n\nimport \"./audienceList.vue?vue&type=style&index=0&id=681467bf&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-681467bf\"\n\nexport default script","<template>\r\n\t<div class=\"donate-list\">\r\n\t\t<div class=\"head-list\" style=\"width:100%;display:flex\">\r\n\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in header\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"gift\">\r\n\t\t\t\t\t<span class=\"manager\" v-if=\"user.isManager\">房管</span><span class=\"self-coin\" />{{user.displaySendAmount}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);\" v-if=\"header.length==0\">暂无贡献榜数据</div>\r\n\t\t</div>\r\n\t\t<div class=\"hidden\">\r\n\t\t\t<div class=\"remain-list\">\r\n\t\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in remains\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t\t<div style=\"display:flex;align-item:center\">\r\n\t\t\t\t\t\t<div class=\"manager\" v-if=\"user.isManager\">房管</div>\r\n\t\t\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"gift\"><span class=\"self-coin\" />{{user.displaySendAmount}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getDonate } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"donateList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetDonate(this.$store.state.userSession).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = Boolean(\r\n\t\t\t\t\t\tthis.$store.state.managerList.find(\r\n\t\t\t\t\t\t\t(i: any) =>\r\n\t\t\t\t\t\t\t\ti.userInfo.userID === user.userInfo.userID\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.donate-list {\r\n\twidth: calc(100% + 16px);\r\n\t.hidden {\r\n\t\tmax-height: 0px;\r\n\t\ttransition: max-height 0.25s;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t}\r\n\t&:hover .hidden {\r\n\t\tmax-height: 400px;\r\n\t}\r\n}\r\n.manager {\r\n\tfont-size: $--font-size-extra-small;\r\n\tcolor: white;\r\n\tborder-radius: $--border-radius-small;\r\n\tbackground-color: $--color-primary;\r\n\tpadding: 0px 5px;\r\n}\r\n.head-list .user-item {\r\n\tmin-width: 90px;\r\n\twidth: 30%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tmargin-right: 2%;\r\n\tflex-grow: 0;\r\n\t.header {\r\n\t\theight: 45px;\r\n\t\twidth: 45px;\r\n\t\tbackground-size: contain;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: $--border-base;\r\n\t\tbox-shadow: $--box-shadow-dark;\r\n\t}\r\n\t.nickname {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\t& > div {\r\n\t\t\tmax-width: 100%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\t}\r\n\t.gift {\r\n\t\tcolor: $--color-warning;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n.remain-list {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tbackground-color: $--background-color-base;\r\n\toverflow-y: scroll;\r\n\t@include scrollbarDark();\r\n\tmax-height: 400px;\r\n\t.user-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t\tpadding: 2.5px 5px;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.header {\r\n\t\t\theight: 15px;\r\n\t\t\twidth: 15px;\r\n\t\t\tbackground-size: contain;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: $--border-base;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.nickname {\r\n\t\t\tmax-width: 270px;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t& > div {\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.gift {\r\n\t\t\tcolor: $--color-warning;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getDonate } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"donateList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetDonate(this.$store.state.userSession).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = Boolean(\r\n\t\t\t\t\t\tthis.$store.state.managerList.find(\r\n\t\t\t\t\t\t\t(i: any) =>\r\n\t\t\t\t\t\t\t\ti.userInfo.userID === user.userInfo.userID\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./donateList.vue?vue&type=template&id=b2ca48ca&scoped=true\"\nimport script from \"./donateList.vue?vue&type=script&lang=ts\"\nexport * from \"./donateList.vue?vue&type=script&lang=ts\"\n\nimport \"./donateList.vue?vue&type=style&index=0&id=b2ca48ca&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-b2ca48ca\"\n\nexport default script","<template>\r\n\t<div class=\"rank-list\">\r\n\t\t<div class=\"head-list\" style=\"width:100%;display:flex;\">\r\n\t\t\t<div class=\"user-item\" v-for=\"user in header\" :key=\"user.profile.userID\">\r\n\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.profile.avatar})`}\"></div>\r\n\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t<title-scrolling :label=\"user.profile.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"gift\">\r\n\t\t\t\t\t<span class=\"self-like\" />{{user.friendshipDegree}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);\" v-if=\"header.length==0\">暂无守护榜数据</div>\r\n\t\t</div>\r\n\t\t<div class=\"hidden\">\r\n\t\t\t<div class=\"remain-list\">\r\n\t\t\t\t<div class=\"user-item\" v-for=\"user in remains\" :key=\"user.profile.userID\">\r\n\t\t\t\t\t<div style=\"display:flex;align-item:center\">\r\n\t\t\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.profile.avatar})`}\"></div>\r\n\t\t\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t\t\t<title-scrolling :label=\"user.profile.nickname\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"gift\"><span class=\"self-like\" />{{user.friendshipDegree}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nexport default defineComponent({\r\n\tname: \"rankList\",\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"rank\"]),\r\n\t\trankList(): Array<any> {\r\n\t\t\treturn this.rank.rankList;\r\n\t\t},\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.rankList.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.rankList.slice(3);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.rank-list {\r\n\twidth: calc(100% + 16px);\r\n\t.hidden {\r\n\t\tmax-height: 0px;\r\n\t\ttransition: max-height 0.25s;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t}\r\n\t&:hover .hidden {\r\n\t\tmax-height: 400px;\r\n\t}\r\n}\r\n.head-list .user-item {\r\n\tmin-width: 90px;\r\n\twidth: 30%;\r\n\tmargin-right: 2%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 0;\r\n\talign-items: center;\r\n\t.header {\r\n\t\theight: 45px;\r\n\t\twidth: 45px;\r\n\t\tbackground-size: contain;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: $--border-base;\r\n\t\tbox-shadow: $--box-shadow-dark;\r\n\t}\r\n\t.nickname {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\t& > div {\r\n\t\t\tmax-width: 100%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\t}\r\n\t.gift {\r\n\t\tcolor: $--color-primary;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n.remain-list {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tbackground-color: $--background-color-base;\r\n\toverflow-y: scroll;\r\n\t@include scrollbarDark();\r\n\tmax-height: 400px;\r\n\r\n\t.user-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t\tpadding: 2.5px 5px;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.header {\r\n\t\t\theight: 15px;\r\n\t\t\twidth: 15px;\r\n\t\t\tbackground-size: contain;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: $--border-base;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.nickname {\r\n\t\t\tmax-width: 270px;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t& > div {\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.gift {\r\n\t\t\tcolor: $--color-primary;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nexport default defineComponent({\r\n\tname: \"rankList\",\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"rank\"]),\r\n\t\trankList(): Array<any> {\r\n\t\t\treturn this.rank.rankList;\r\n\t\t},\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.rankList.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.rankList.slice(3);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./rankList.vue?vue&type=template&id=5e110aaf&scoped=true\"\nimport script from \"./rankList.vue?vue&type=script&lang=ts\"\nexport * from \"./rankList.vue?vue&type=script&lang=ts\"\n\nimport \"./rankList.vue?vue&type=style&index=0&id=5e110aaf&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5e110aaf\"\n\nexport default script","\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport audienceList from \"./audienceList.vue\";\r\nimport donateList from \"./donateList.vue\";\r\nimport rankList from \"./rankList.vue\";\r\nexport default defineComponent({\r\n\tname: \"roomList\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcomponents: {\r\n\t\t\t\tfirst: markRaw(audienceList),\r\n\t\t\t\tsecond: markRaw(donateList),\r\n\t\t\t\tthird: markRaw(rankList)\r\n\t\t\t},\r\n\t\t\tactiveName: \"first\"\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcomponent() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.components[this.activeName];\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./roomList.vue?vue&type=template&id=57c839f0&scoped=true\"\nimport script from \"./roomList.vue?vue&type=script&lang=ts\"\nexport * from \"./roomList.vue?vue&type=script&lang=ts\"\n\nimport \"./roomList.vue?vue&type=style&index=0&id=57c839f0&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-57c839f0\"\n\nexport default script","<template>\r\n\t<div id=\"room-chat\" style=\"width:100%\">\r\n\t\t<el-input ref=\"input\" size=\"mini\" @keyup.enter=\"sendDanmaku\" v-model=\"value\" :placeholder=\"status.tips\" :disabled=\"status.disabled\">\r\n\t\t\t<template #append v-if=\"danmakuProfile.common.emotion&&danmakuProfile.common.emojis.length\">\r\n\t\t\t\t<el-dropdown @command=\"addEmotion\" type=\"primary\" trigger=\"hover\" max-height=\"200px\" style=\"line-height:28px\" :hide-on-click=\"false\">\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\">😀</el-button>\r\n\t\t\t\t\t<template #dropdown>\r\n\t\t\t\t\t\t<el-dropdown-menu class=\"emotion-drop-down\">\r\n\t\t\t\t\t\t\t<el-dropdown-item v-for=\"(emoji,index) in danmakuProfile.common.emojis\" :key=\"index\" :command=\"emoji.pattern\">\r\n\t\t\t\t\t\t\t\t<img style=\"max-width:64px\" :src=\"emoji.url\" />\r\n\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-dropdown>\r\n\t\t\t</template>\r\n\t\t</el-input>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { chat } from \"@front/api/chat\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"roomChat\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalue: \"\",\r\n\t\t\tcooling: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tevent.on(\"message-focus\", this.focus);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tevent.off(\"message-focus\", this.focus);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"isStreaming\", \"isLogined\"]),\r\n\t\t...mapState([\"userSession\", \"roomProfile\", \"danmakuProfile\"]),\r\n\t\tstatus(): any {\r\n\t\t\tif (this.cooling) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: \"冷却中，等一下啦\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!this.isLogined || !this.isStreaming) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: !this.isLogined\r\n\t\t\t\t\t\t? \"用户未登录，不可发言\"\r\n\t\t\t\t\t\t: \"直播未开启，不可发言\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\ttips: \"发个弹幕，嘿嘿(enter发送)\"\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstatus: {\r\n\t\t\thandler(n) {\r\n\t\t\t\tif (n.disabled) {\r\n\t\t\t\t\tthis.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsendDanmaku() {\r\n\t\t\tif (!this.validation()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst msg = this.value;\r\n\t\t\tthis.cooling = true;\r\n\t\t\tchat({\r\n\t\t\t\tuserID: this.userSession.userID,\r\n\t\t\t\tdeviceID: this.userSession.deviceID,\r\n\t\t\t\tserviceToken: this.userSession.serviceToken,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tvisitorId: this.userSession.userID,\r\n\t\t\t\t\tliveId: this.roomProfile.liveID,\r\n\t\t\t\t\tcontent: msg\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tevent.emit(\"send-message\");\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"发送成功\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\toffset: 60\r\n\t\t\t});\r\n\t\t\tthis.value = \"\";\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.cooling = false;\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.$refs.input.focus();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tfocus() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\taddEmotion(command: string) {\r\n\t\t\tthis.value += command;\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\tvalidation() {\r\n\t\t\tlet errmsg = \"\";\r\n\t\t\tif (!this.value) {\r\n\t\t\t\terrmsg = \"没有要发送的内容\";\r\n\t\t\t} else if (this.value.length > 50) {\r\n\t\t\t\terrmsg = \"字数不能大于50字\";\r\n\t\t\t}\r\n\t\t\tif (errmsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"错误: \" + errmsg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n:deep .el-input-group__append {\r\n\tborder: none;\r\n}\r\n.btnBase {\r\n\tbackground-color: $--color-primary !important;\r\n\tcolor: white !important;\r\n\tborder: none !important;\r\n\t&.attach {\r\n\t\tborder-top-left-radius: 0px !important;\r\n\t\tborder-bottom-left-radius: 0px !important;\r\n\t\tpadding-left: 8px;\r\n\t\tpadding-right: 8px;\r\n\t\tbox-shadow: none !important;\r\n\t}\r\n}\r\n.emotion-drop-down {\r\n\twidth: 200px;\r\n\tmax-width: 90vw;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\t&:deep .el-dropdown-menu__item {\r\n\t\tpadding: 0px;\r\n\t\twidth: 25%;\r\n\t\tdisplay: block;\r\n\t\tline-height: 0px;\r\n\t\t& > img {\r\n\t\t\twidth: calc(100% - 16px);\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmargin: 8px;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import { sendChat } from \"@front/util_function/system\";\r\nconst waitList: any = [];\r\nlet sending = false;\r\nexport const chat = ({ userID, deviceID, serviceToken, data }: any) => {\r\n\tconst text = data.content;\r\n\tif (!text) {\r\n\t\treturn;\r\n\t}\r\n\tif (sending) {\r\n\t\twaitList.push({ userID, deviceID, serviceToken, data });\r\n\t} else {\r\n\t\trealChat({ userID, deviceID, serviceToken, data });\r\n\t}\r\n};\r\n\r\nexport const realChat = (data: any) => {\r\n\tsending = true;\r\n\tsendChat(data).finally(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsending = false;\r\n\t\t\tif (waitList[0]) {\r\n\t\t\t\trealChat(waitList.shift());\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t});\r\n};\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { chat } from \"@front/api/chat\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"roomChat\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalue: \"\",\r\n\t\t\tcooling: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tevent.on(\"message-focus\", this.focus);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tevent.off(\"message-focus\", this.focus);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"isStreaming\", \"isLogined\"]),\r\n\t\t...mapState([\"userSession\", \"roomProfile\", \"danmakuProfile\"]),\r\n\t\tstatus(): any {\r\n\t\t\tif (this.cooling) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: \"冷却中，等一下啦\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!this.isLogined || !this.isStreaming) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: !this.isLogined\r\n\t\t\t\t\t\t? \"用户未登录，不可发言\"\r\n\t\t\t\t\t\t: \"直播未开启，不可发言\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\ttips: \"发个弹幕，嘿嘿(enter发送)\"\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstatus: {\r\n\t\t\thandler(n) {\r\n\t\t\t\tif (n.disabled) {\r\n\t\t\t\t\tthis.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsendDanmaku() {\r\n\t\t\tif (!this.validation()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst msg = this.value;\r\n\t\t\tthis.cooling = true;\r\n\t\t\tchat({\r\n\t\t\t\tuserID: this.userSession.userID,\r\n\t\t\t\tdeviceID: this.userSession.deviceID,\r\n\t\t\t\tserviceToken: this.userSession.serviceToken,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tvisitorId: this.userSession.userID,\r\n\t\t\t\t\tliveId: this.roomProfile.liveID,\r\n\t\t\t\t\tcontent: msg\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tevent.emit(\"send-message\");\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"发送成功\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\toffset: 60\r\n\t\t\t});\r\n\t\t\tthis.value = \"\";\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.cooling = false;\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.$refs.input.focus();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tfocus() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\taddEmotion(command: string) {\r\n\t\t\tthis.value += command;\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\tvalidation() {\r\n\t\t\tlet errmsg = \"\";\r\n\t\t\tif (!this.value) {\r\n\t\t\t\terrmsg = \"没有要发送的内容\";\r\n\t\t\t} else if (this.value.length > 50) {\r\n\t\t\t\terrmsg = \"字数不能大于50字\";\r\n\t\t\t}\r\n\t\t\tif (errmsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"错误: \" + errmsg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=20b41e64&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=20b41e64&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-20b41e64\"\n\nexport default script","<template>\r\n\t<div class=\"minify-bar\">\r\n\t\t<div class=\"button el-icon-setting\" @click=\"setting=true\" title=\"设置\" />\r\n\t\t<div class=\"button el-icon-coordinate \" :class=\"{active:isTop}\" @click=\"isTop = !isTop;setTop(isTop)\" title=\"置顶\" />\r\n\t\t<div class=\"button el-icon-paperclip \" :class=\"{active:isBlur}\" title=\"背景模式\" @click=\"blurConfirm=true\" />\r\n\t\t<div class=\"button el-icon-minus\" @click=\"minimize()\" />\r\n\t\t<div class=\"button el-icon-full-screen\" @click=\"$store.commit('minify')\" title=\"完整化\" />\r\n\t</div>\r\n\t<el-dialog custom-class=\"setting\" v-model=\"setting\" :close-on-click-modal=\"false\">\r\n\t\t<div class=\"block\">\r\n\t\t\t<span class=\"label\">背景不透明度</span>\r\n\t\t\t<el-slider :min=\"10\" :max=\"100\" v-model=\"settings.opacity\" />\r\n\t\t</div>\r\n\t\t<div class=\"block\">\r\n\t\t\t<span class=\"label\">弹幕大小</span>\r\n\t\t\t<el-slider :min=\"10\" :max=\"200\" v-model=\"settings.zoom\" />\r\n\t\t</div>\r\n\t</el-dialog>\r\n\t<el-dialog custom-class=\"blurConfirm\" title=\"重要提示\" v-model=\"blurConfirm\" :show-close=\"false\" :close-on-click-modal=\"false\">\r\n\t\t背景模式下窗口将会置顶，并且鼠标操作会穿透，ctrl+F1退出,CTRL+F2回消息。确认进入？\r\n\t\t<template #footer>\r\n\t\t\t<span class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"mini\" @click=\"blurConfirm = false\">我不</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"setIgnore();blurConfirm = false\">好的</el-button>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tsetResizeable,\r\n\twin,\r\n\tsetTop,\r\n\tsetIgnoreMouseEvent,\r\n\tminimize,\r\n\tipcRenderer\r\n} from \"@front/util_function/system\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport throttle from \"lodash/throttle\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"minify\",\r\n\tdata() {\r\n\t\tconst opacityTimer: any = null;\r\n\t\treturn {\r\n\t\t\tsetting: false,\r\n\t\t\tblurConfirm: false,\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100\r\n\t\t\t},\r\n\t\t\tisTop: false,\r\n\t\t\tisBlur: false,\r\n\t\t\tpreviousIgnore: false,\r\n\t\t\topacityTimer\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tsetResizeable(true);\r\n\t\tsetTop(false);\r\n\t\tdocument.body.classList.add(\"minify\");\r\n\t\tthis.toPosition(\"normalPosition\", \"miniPosition\");\r\n\t\tconst setting: any = localStorage.getItem(\"miniSetting\");\r\n\t\tif (setting) this.settings = JSON.parse(setting);\r\n\t\tipcRenderer.on(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.on(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.on(\"hover\", this.setHover);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tsetResizeable(false);\r\n\t\tsetTop(false);\r\n\t\tsetIgnoreMouseEvent(false);\r\n\t\tdocument.body.classList.remove(\"minify\");\r\n\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\tthis.toPosition(\"miniPosition\", \"normalPosition\");\r\n\t\tlocalStorage.setItem(\"miniSetting\", JSON.stringify(this.settings));\r\n\t\tipcRenderer.off(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.off(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.off(\"hover\", this.setHover);\r\n\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t},\r\n\twatch: {\r\n\t\tsettings: {\r\n\t\t\thandler(n, o) {\r\n\t\t\t\tthis.applySetting(n);\r\n\t\t\t},\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tminimize,\r\n\t\tsetTop(isTop: boolean) {\r\n\t\t\tsetTop(isTop);\r\n\t\t\tif (isTop) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"如果要打游戏请将游戏画面调为无边框模式，否则置顶失效\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnore() {\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = !this.isBlur));\r\n\t\t\tif (this.isBlur) {\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"切换背景模式成功，如要退出请点击CTRL+F1，回消息请点击CTRL+F2\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"退出背景模式成功！\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnoreTemp() {\r\n\t\t\tthis.previousIgnore = this.isBlur;\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = false));\r\n\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.add(\"hover\");\r\n\t\t\tevent.emit(\"message-focus\");\r\n\t\t\tevent.on(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\trenterIgnore() {\r\n\t\t\tif (this.previousIgnore) {\r\n\t\t\t\tsetIgnoreMouseEvent((this.isBlur = true));\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\tsetHover(_: any, msg: any) {\r\n\t\t\tif (msg) {\r\n\t\t\t\tdocument.body.classList.add(\"hover\");\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"hover\");\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoPosition(save: string, load: string) {\r\n\t\t\tconst winPosition = win.getPosition();\r\n\t\t\tconst saveData = {\r\n\t\t\t\twidth: parseInt(`${window.innerWidth}`),\r\n\t\t\t\theight: parseInt(`${window.innerHeight}`),\r\n\t\t\t\tx: winPosition[0],\r\n\t\t\t\ty: winPosition[1]\r\n\t\t\t};\r\n\t\t\tif (save === \"normalPosition\") {\r\n\t\t\t\tsaveData.width = 1048;\r\n\t\t\t\tsaveData.height = 724;\r\n\t\t\t}\r\n\t\t\tlocalStorage.setItem(save, JSON.stringify(saveData));\r\n\t\t\tconst position: any = localStorage.getItem(load);\r\n\t\t\tif (position) win.setBounds(JSON.parse(position));\r\n\t\t},\r\n\t\tapplySetting: throttle(function(setting: any) {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--bgColor\",\r\n\t\t\t\t`rgba(0,0,0,${setting.opacity / 100})`\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${setting.zoom}%`);\r\n\t\t}, 100)\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.minify-bar {\r\n\theight: 24px;\r\n\tdisplay: flex;\r\n\tposition: fixed;\r\n\ttransition: background-color 0.25s;\r\n\tright: 0px;\r\n\ttop: -24px !important;\r\n\tcursor: move;\r\n\t.button {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tcursor: pointer;\r\n\t\tborder: none;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tfont-size: 14px;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 0px;\r\n\t\tpadding: 2px 8px;\r\n\t\tmargin: 0px;\r\n\t\ttransition: background-color 0.25s;\r\n\t\t&:hover,\r\n\t\t&.active {\r\n\t\t\tbackground-color: rgba(255, 255, 255, 0.25);\r\n\t\t}\r\n\t}\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\nbody.minify {\r\n\tpadding: 0px;\r\n\tbackground-color: var(--bgColor) !important;\r\n\tborder-radius: 4px !important;\r\n\r\n\t&.ignore {\r\n\t\t#room-chat,\r\n\t\t.roomList {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t\t.danmakuPanel .danmaku-flow {\r\n\t\t\ttop: 35px !important;\r\n\t\t\theight: calc(100vh - 49px) !important;\r\n\t\t}\r\n\t\t.super-chat-list {\r\n\t\t\ttop: 0px !important;\r\n\t\t}\r\n\t}\r\n\t&.hover.ignore {\r\n\t\tfilter: opacity(0.1);\r\n\t\tbackground-color: rgba(0, 0, 0, 0.1) !important;\r\n\t}\r\n\t.el-message {\r\n\t\twidth: 100vw !important;\r\n\t\tmin-width: 0px !important;\r\n\t}\r\n\t.el-overlay {\r\n\t\tmargin: 0px !important;\r\n\t\theight: 100vh !important;\r\n\t\twidth: 100vw !important;\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tleft: 0px;\r\n\t\tbackground-color: transparent;\r\n\t\tpointer-events: none;\r\n\t\toverflow: hidden;\r\n\t\tz-index: 10000;\r\n\t\t.el-message-box {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0px;\r\n\t\t\ttop: 20%;\r\n\t\t\twidth: 100vw;\r\n\t\t\tz-index: 10000;\r\n\t\t\tpointer-events: all;\r\n\t\t}\r\n\t\t.el-dialog.setting {\r\n\t\t\tpointer-events: all;\r\n\t\t\tposition: fixed;\r\n\t\t\tmargin: 0px;\r\n\t\t\tbottom: 16px;\r\n\t\t\tleft: 16px;\r\n\t\t\twidth: calc(100vw - 32px) !important;\r\n\t\t\theight: 150px;\r\n\t\t\t.el-dialog__header {\r\n\t\t\t\tpadding: 5px;\r\n\t\t\t}\r\n\t\t\t.el-dialog__body {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding: 0px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: calc(100% - 28px);\r\n\t\t\t\toverflow-y: scroll;\r\n\t\t\t\t@include scrollbarDark();\r\n\t\t\t}\r\n\t\t}\r\n\t\t.el-dialog.blurConfirm {\r\n\t\t\tposition: fixed;\r\n\t\t\tpointer-events: all;\r\n\t\t\tleft: 16px;\r\n\t\t\twidth: calc(100vw - 32px) !important;\r\n\t\t\ttop: 50px;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 590px) {\r\n\t\t.roomStatus > .title {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 540px) {\r\n\t\t.subtitle:first-child {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 440px) {\r\n\t\t.subtitle:last-child {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t.content,\r\n\t#home,\r\n\t#statusBar,\r\n\t.roomList {\r\n\t\tbackground-color: transparent !important;\r\n\t\tcolor: white;\r\n\t}\r\n\t.el-tabs__item {\r\n\t\tcolor: rgba(255, 255, 255, 0.5) !important;\r\n\t\t&.is-active {\r\n\t\t\tcolor: rgba(255, 255, 255, 1) !important;\r\n\t\t}\r\n\t}\r\n\t.el-tabs__active-bar {\r\n\t\tbackground-color: transparent !important;\r\n\t}\r\n\t.el-tabs__nav-wrap::after {\r\n\t\theight: 1px;\r\n\t}\r\n\t#sidebar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t#topbar {\r\n\t\tmargin: 0px 5px;\r\n\t\twidth: calc(100% - 10px);\r\n\t\theight: 25px;\r\n\t\t.avatar,\r\n\t\t.el-dropdown,\r\n\t\t.buttonIcon {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t}\r\n\t.minify-bar {\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tright: 0px;\r\n\t}\r\n\t.content {\r\n\t\t& > .view {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t}\r\n\t.rowFrame > .title {\r\n\t\tdisplay: none;\r\n\t}\r\n\t#statusBar {\r\n\t\t.switch,\r\n\t\t.contentTitle {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.contentInner {\r\n\t\t\tmargin: 0px;\r\n\t\t\twidth: 100vw;\r\n\t\t}\r\n\t\t#roomInfo {\r\n\t\t\theight: 0px;\r\n\t\t\twidth: 0px;\r\n\t\t\tuser-select: none;\r\n\t\t\t.liveCover {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t\t.roomStatus {\r\n\t\t\t\twidth: calc(100vh - 100px);\r\n\t\t\t\tmin-width: 100px;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\ttop: -25px;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: nowrap;\r\n\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 25px;\r\n\t\t\t\t.title,\r\n\t\t\t\t.iconCounter.counter,\r\n\t\t\t\t.middle .subtitles .subtitle {\r\n\t\t\t\t\tcolor: white !important;\r\n\t\t\t\t}\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 12px !important;\r\n\t\t\t\t\tmax-width: 50px;\r\n\t\t\t\t\tmargin-left: 16px;\r\n\t\t\t\t}\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\t.middle {\r\n\t\t\t\t\theight: 25px;\r\n\t\t\t\t\tflex-grow: unset;\r\n\t\t\t\t\t.subtitles {\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\theight: 25px;\r\n\t\t\t\t\t\t.subtitle {\r\n\t\t\t\t\t\t\tmargin-left: 15px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.counters {\r\n\t\t\t\t\tmargin-left: 15px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.shotcut {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.superChatEnable {\r\n\t\t.super-chat-list {\r\n\t\t\tposition: fixed;\r\n\t\t\tright: 0px;\r\n\t\t\ttop: 40px;\r\n\t\t\twidth: 100%;\r\n\t\t\tz-index: 100;\r\n\t\t\tborder: none;\r\n\t\t\t.super-chat-list-block .content,\r\n\t\t\t.super-chat-list-panel-content {\r\n\t\t\t\tzoom: var(--zoom);\r\n\t\t\t}\r\n\t\t\t&::after {\r\n\t\t\t\tcolor: rgba(255, 255, 255, 0.5);\r\n\t\t\t}\r\n\t\t}\r\n\t\t.danmaku-flow {\r\n\t\t\theight: calc(100vh - 100px) !important;\r\n\t\t\ttop: 75px !important;\r\n\t\t}\r\n\t}\r\n\t.danmakuPanel {\r\n\t\t.slider {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t\t.el-tabs__nav-scroll {\r\n\t\t\tmargin-left: 15px;\r\n\t\t}\r\n\t\t.el-tabs__item.is-top.is-active {\r\n\t\t\tfont-size: 12px !important;\r\n\t\t}\r\n\t\t.roomList {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 0px;\r\n\t\t\twidth: 100vw;\r\n\t\t\tbackground-color: white;\r\n\t\t\t.el-tabs {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttop: 0px;\r\n\t\t\t}\r\n\t\t\t.user-item {\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t\twidth: calc(100% - 10px);\r\n\t\t\t}\r\n\t\t\t&:hover {\r\n\t\t\t\t& > div:last-child {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t& > div:last-child {\r\n\t\t\t\ttransform: none !important;\r\n\t\t\t\theight: unset !important;\r\n\t\t\t\tpadding: 16px;\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tbackground-color: white;\r\n\t\t\t\tcolor: black;\r\n\t\t\t}\r\n\t\t\t.hidden > div {\r\n\t\t\t\tmax-height: calc(100vh - 200px) !important;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.danmaku-flow {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\theight: calc(100vh - 65px);\r\n\t\t\tpadding-bottom: 35px !important;\r\n\t\t\tpadding-top: 8px;\r\n\t\t\twidth: 100vw;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0px;\r\n\t\t\ttop: 40px;\r\n\t\t\t* {\r\n\t\t\t\tzoom: var(--zoom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.danmaku-list-bg::before {\r\n\t\t\tbackground-color: transparent !important;\r\n\t\t}\r\n\t\t#room-chat {\r\n\t\t\tposition: fixed;\r\n\t\t\twidth: 100%;\r\n\t\t\tleft: 0px;\r\n\t\t\tbottom: 0px;\r\n\t\t\tfont-size: 12px;\r\n\t\t\ttransform: translateY(100%);\r\n\r\n\t\t\ttransition: transform 0.25s;\r\n\t\t\ttransition-delay: 0.5s;\r\n\t\t\t&.hover {\r\n\t\t\t\ttransition-delay: 0s !important;\r\n\t\t\t\ttransform: translateY(0px) !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t&.hover {\r\n\t\t#room-chat {\r\n\t\t\ttransition-delay: 0s !important;\r\n\t\t\ttransform: translateY(0px) !important;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tsetResizeable,\r\n\twin,\r\n\tsetTop,\r\n\tsetIgnoreMouseEvent,\r\n\tminimize,\r\n\tipcRenderer\r\n} from \"@front/util_function/system\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport throttle from \"lodash/throttle\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"minify\",\r\n\tdata() {\r\n\t\tconst opacityTimer: any = null;\r\n\t\treturn {\r\n\t\t\tsetting: false,\r\n\t\t\tblurConfirm: false,\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100\r\n\t\t\t},\r\n\t\t\tisTop: false,\r\n\t\t\tisBlur: false,\r\n\t\t\tpreviousIgnore: false,\r\n\t\t\topacityTimer\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tsetResizeable(true);\r\n\t\tsetTop(false);\r\n\t\tdocument.body.classList.add(\"minify\");\r\n\t\tthis.toPosition(\"normalPosition\", \"miniPosition\");\r\n\t\tconst setting: any = localStorage.getItem(\"miniSetting\");\r\n\t\tif (setting) this.settings = JSON.parse(setting);\r\n\t\tipcRenderer.on(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.on(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.on(\"hover\", this.setHover);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tsetResizeable(false);\r\n\t\tsetTop(false);\r\n\t\tsetIgnoreMouseEvent(false);\r\n\t\tdocument.body.classList.remove(\"minify\");\r\n\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\tthis.toPosition(\"miniPosition\", \"normalPosition\");\r\n\t\tlocalStorage.setItem(\"miniSetting\", JSON.stringify(this.settings));\r\n\t\tipcRenderer.off(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.off(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.off(\"hover\", this.setHover);\r\n\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t},\r\n\twatch: {\r\n\t\tsettings: {\r\n\t\t\thandler(n, o) {\r\n\t\t\t\tthis.applySetting(n);\r\n\t\t\t},\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tminimize,\r\n\t\tsetTop(isTop: boolean) {\r\n\t\t\tsetTop(isTop);\r\n\t\t\tif (isTop) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"如果要打游戏请将游戏画面调为无边框模式，否则置顶失效\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnore() {\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = !this.isBlur));\r\n\t\t\tif (this.isBlur) {\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"切换背景模式成功，如要退出请点击CTRL+F1，回消息请点击CTRL+F2\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"退出背景模式成功！\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnoreTemp() {\r\n\t\t\tthis.previousIgnore = this.isBlur;\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = false));\r\n\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.add(\"hover\");\r\n\t\t\tevent.emit(\"message-focus\");\r\n\t\t\tevent.on(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\trenterIgnore() {\r\n\t\t\tif (this.previousIgnore) {\r\n\t\t\t\tsetIgnoreMouseEvent((this.isBlur = true));\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\tsetHover(_: any, msg: any) {\r\n\t\t\tif (msg) {\r\n\t\t\t\tdocument.body.classList.add(\"hover\");\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"hover\");\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoPosition(save: string, load: string) {\r\n\t\t\tconst winPosition = win.getPosition();\r\n\t\t\tconst saveData = {\r\n\t\t\t\twidth: parseInt(`${window.innerWidth}`),\r\n\t\t\t\theight: parseInt(`${window.innerHeight}`),\r\n\t\t\t\tx: winPosition[0],\r\n\t\t\t\ty: winPosition[1]\r\n\t\t\t};\r\n\t\t\tif (save === \"normalPosition\") {\r\n\t\t\t\tsaveData.width = 1048;\r\n\t\t\t\tsaveData.height = 724;\r\n\t\t\t}\r\n\t\t\tlocalStorage.setItem(save, JSON.stringify(saveData));\r\n\t\t\tconst position: any = localStorage.getItem(load);\r\n\t\t\tif (position) win.setBounds(JSON.parse(position));\r\n\t\t},\r\n\t\tapplySetting: throttle(function(setting: any) {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--bgColor\",\r\n\t\t\t\t`rgba(0,0,0,${setting.opacity / 100})`\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${setting.zoom}%`);\r\n\t\t}, 100)\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=28e8dabc&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=28e8dabc&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=28e8dabc&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-28e8dabc\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport roomInfo from \"./roomInfo.vue\";\r\nimport danmakuFlow from \"@front/components/danmakuFlow/index.vue\";\r\nimport superChatList from \"@front/components/superChat/index.vue\";\r\nimport shotcut from \"./shotcut.vue\";\r\nimport roomList from \"@front/components/roomList/roomList.vue\";\r\nimport roomChat from \"@front/components/roomChat/index.vue\";\r\nimport minify from \"@front/components/minify/index.vue\";\r\nexport default defineComponent({\r\n\tname: \"streamMonitor\",\r\n\tcomponents: {\r\n\t\troomInfo,\r\n\t\tdanmakuFlow,\r\n\t\tshotcut,\r\n\t\troomList,\r\n\t\troomChat,\r\n\t\tminify,\r\n\t\tsuperChatList\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbrightness: 50\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"danmakuProfile\", \"danmakuList\", \"superChatEnable\"]),\r\n\t\t...mapState([\"minify\", \"temp\"]),\r\n\t\tsettings() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.danmakuProfile(\"toolBox\");\r\n\t\t}\r\n\t},\r\n\twatch: {},\r\n\tmethods: {}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=7de5ab13&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7de5ab13&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7de5ab13\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./roomInfo.vue?vue&type=style&index=0&id=21830726&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./donateList.vue?vue&type=style&index=0&id=b2ca48ca&scoped=true&lang=scss\""],"sourceRoot":""}