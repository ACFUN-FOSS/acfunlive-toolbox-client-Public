{"version":3,"sources":["webpack:///./src/electron_browser/util_function/formatter.ts","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue?1baa","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?3589","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?834a","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?8b16","webpack:///./src/electron_browser/components/danmakuFlow/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?7e59","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?a95e","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?8f8f","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?3fb6","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?08dd","webpack:///./src/electron_browser/directives/menu/index.ts","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?e472","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue?267c","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue?12ba"],"names":["unixTimeFormatter","timestamp","zeroPadding","n","length","hour","Math","floor","minute","second","String","thousandFormatter","count","unit","toFixed","hundrenFormatter","byteFormatter","byte","shift","class","leaveScroll","scrollable","name","danmakuLists","danmaku","currentRow","key","getKey","setting","getSetting","list","components","danmakuRow","props","danmakuList","default","settings","required","configMode","directives","menu","scrollObserver","undefined","scrollTimer","computed","this","direction","reverse","$store","MutationObserver","scrollToBottom","observe","$el","childList","subtree","on","disconnect","off","methods","that","top","scrollHeight","clearTimeout","$nextTick","scrollTo","behavior","settingOfType","type","setTimeout","render","__scopeId","appear","ref","style","position","x","y","close","current","item","index","disabled","call","event","icon","children","zIndex","$emit","show","positions","getBoundingClientRect","height","width","document","body","offsetHeight","offsetWidth","rightClickMenuListB","rightClickMenuList","element","addBlurListener","judgeBlur","remove","addEventListener","e","window","path","$refs","removeEventListener","directive","el","binding","createElement","append","clientX","clientY","mount","preventDefault","value","id","streamStatus","step","common","unstreamable","size","dispatch","isStreaming","roomProfile","liveCover","label","title","num","roomStatus","watchingCount","statistic","likeCount","bananaCount","diamondCount","liveType","categoryName","subCategoryName","state","liveDuration","max","loading","openStream","$route","flow","$router","push","emit","once"],"mappings":"kKAAA,wIAAO,MAAMA,EAAqBC,IACjC,MAAMC,EAAeC,GAChBA,EAAEC,OAAS,EACP,IAAID,EAELA,EAERF,GAAwB,IACxB,MAAMI,EAAOC,KAAKC,MAAMN,EAAY,MAC9BO,EAASF,KAAKC,OAAON,EAAmB,KAAPI,GAAe,IAChDI,EAASH,KAAKC,MAAMN,EAAY,IACtC,MAAO,GAAGC,EAAYQ,OAAOL,OAAUH,EACtCQ,OAAOF,OACHN,EAAYQ,OAAOD,OAEZE,EAAoB,CAACC,EAAeC,EAAO,MACnDD,EAAQ,IACJF,OAAOE,GAGR,IAAIA,EAAQ,KAAOE,QAAQ,KAAKD,IAG3BE,EAAoBH,GAC5BA,EAAQ,IACJD,EAAkBC,EAAO,KAE7BA,EAAQ,KACAA,EAAQ,KAAME,QAAQ,GAA1B,IAEDJ,OAAOE,GAGFI,EAAiBC,IAC7B,MAAMJ,EAAO,CAAC,OAAQ,KAAM,KAAM,KAAM,KACxC,MAAOI,EAAO,MAAQJ,EAAKT,OAAS,EACnCa,GAAQ,KACRJ,EAAKK,QAEN,MAAO,GAAGD,EAAKH,QAAQ,MAAMD,EAAK,O,6DCvCnC,W,oCCAA,W,6DCAA,W,yDCAA,W,mQCCC,yBAgBM,OAfLM,MAAM,eACL,YAAS,oBAAE,EAAAC,aAAA,EAAAA,eAAA,IACX,aAAU,eAAE,EAAAC,YAAU,GACtB,aAAU,eAAE,EAAAA,YAAU,I,CAEvB,yBASmB,sBATDC,KAAK,QAAM,C,UAI3B,IAAoC,E,2BAHrC,yBAOE,+CAJqB,EAAAC,cAAfC,G,sDAHR,yBAOE,GALA,cAAW,GAAE,EAAAC,WAAaD,EAE1BE,IAAK,EAAAC,OAAOH,GACZA,QAASA,EACTI,QAAS,EAAAC,WAAWL,I,mDALb,EAAAM,S,sHCAG,+BAAgB,CAC9BR,KAAM,OACNS,WAAY,CAAEC,aAAA,MACdC,MAAO,CACNC,YAAa,CACZC,QAAS,IACD,IAGTC,SAAU,CACTC,UAAU,GAEXC,WAAY,CACXH,SAAS,IAGXI,WAAY,CACXC,KAAM,OAAAA,EAAA,SAEP,OACC,MAAMC,OAAsBC,EACtBC,EAAmB,KACzB,MAAO,CACNF,iBACAE,cACAtB,YAAY,EACZI,WAAY,OAGdmB,SAAU,CACT,eAAY,MAEX,iBAAQC,KAAKT,gBAAb,aAAQ,EAAeU,WACtB,IAAK,WACJ,MAAO,IAAID,KAAKX,aACjB,QACC,MAAO,IAAIW,KAAKX,aAAaa,YAGhC,OACC,OAAIF,KAAKP,WACD,GAED,eAASO,KAAKpB,WAAYoB,KAAKG,UAGxC,UACCH,KAAKJ,eAAiB,IAAIQ,iBAAiBJ,KAAKK,gBAChDL,KAAKJ,eAAeU,QAAQN,KAAKO,IAAK,CACrCC,WAAW,EACXC,SAAS,IAEVT,KAAKK,iBACL,OAAMK,GAAG,SAAUV,KAAKK,iBAEzB,gBACCL,KAAKJ,eAAee,aACpB,OAAMC,IAAI,SAAUZ,KAAKK,iBAE1BQ,QAAS,CACR,OAAOlC,GACN,OAAO,eAAQA,IAEhB0B,eAAgB,KAAS,iBAExB,MAAMS,EAAOd,KACPe,EACwB,cAA7B,UAAAD,EAAKvB,gBAAL,eAAeU,WACZ,EACAa,EAAKP,IAAIS,aACRF,EAAKtC,aACTyC,aAAaH,EAAKhB,aAClBgB,EAAKI,UAAU,KACdJ,EAAKP,IAAIY,SAAS,CACjBJ,MACAK,SAAU,gBAIX,KACH,WAAWzC,GAAY,MAEtB,MAAMI,EAAO,UAAGiB,KAAKT,gBAAR,aAAG,EAAe8B,cAAc1C,EAAQ2C,MACrD,OAAIvC,GAGG,eAAYJ,EAAQ2C,OAE5B,cACMtB,KAAKxB,aAGVyC,aAAajB,KAAKF,aAClBE,KAAKF,YAAcyB,WAAW,KAC7BvB,KAAKxB,YAAa,EAClBwB,KAAKK,kBACH,U,UCpGN,EAAOmB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,yNCPd,yBAIa,iBAJDhD,KAAK,UAAUiD,OAAA,I,WAC1B,IAEM,CAFN,yBAEM,OAFDC,IAAI,OAAOC,MAAmC,CAAnC,oCAAmC,MAAkB,EAAAC,SAASC,EAA3B,eAA4B,IAAsB,EAAAD,SAASE,EAA/B,kB,CAC9E,yBAAsE,GAA/CJ,IAAI,WAAY,QAAK,eAAE,EAAAK,SAAU/C,KAAM,EAAAA,M,kJCIvDX,MAAM,Y,SAEqCA,MAAM,gC,qJAR1D,yBAWM,OAXDA,MAAK,CAAC,iBAAyB,EAAAuD,UAAWD,MAAK,C,OAAgB,UAE/D,aAAU,eAAE,EAAAK,SAAO,I,6BACvB,yBAOM,2CAPiD,EAAAhD,KAAI,CAAnBiD,EAAKC,I,sDAA7C,yBAOM,OAPD7D,MAAK,CAAC,qBAAoB,UAAgD4D,EAAKE,WAAYvD,IAAKsD,EAAQ,QAAK,8BAAO,EAAAE,KAAKH,EAAKI,OAAK,UAAI,YAAS,GAAE,EAAAL,QAAUE,G,CAChK,yBAGM,YAFL,yBAAiD,QAA1C7D,MAAK,CAAE4D,EAAKK,KAAY,a,QAC/B,yBAA+C,OAA/C,EAA+C,iCAAlBL,EAAKzD,MAAI,KAE5ByD,EAAKM,UAAUN,EAAKM,SAASjF,OAAM,G,yBAA9C,yBAAyF,MAAzF,I,uCAC+B,EAAA0E,SAASE,GAAOD,EAAKM,UAAUN,EAAKM,SAASjF,OAAM,G,yBAAlF,yBAAsJ,G,MAA/D0B,KAAMiD,EAAKM,SAAWL,MAAO,EAAAM,OAAS,QAAK,eAAE,EAAAC,MAAK,W,8GANsCR,EAAKS,S,gHCG7KrE,MAAM,Y,SAEqCA,MAAM,gC,qJAR1D,yBAWM,OAXDA,MAAK,CAAC,iBAAyB,EAAAuD,UAAWD,MAAK,C,OAAgB,UAE/D,aAAU,eAAE,EAAAK,SAAO,I,6BACvB,yBAOM,2CAPiD,EAAAhD,KAAI,CAAnBiD,EAAKC,I,sDAA7C,yBAOM,OAPD7D,MAAK,CAAC,qBAAoB,UAAgD4D,EAAKE,WAAYvD,IAAKsD,EAAQ,QAAK,8BAAO,EAAAE,KAAKH,EAAKI,OAAK,UAAI,YAAS,GAAE,EAAAL,QAAUE,G,CAChK,yBAGM,YAFL,yBAAiD,QAA1C7D,MAAK,CAAE4D,EAAKK,KAAY,a,QAC/B,yBAA+C,OAA/C,EAA+C,iCAAlBL,EAAKzD,MAAI,KAE5ByD,EAAKM,UAAUN,EAAKM,SAASjF,OAAM,G,yBAA9C,yBAAyF,MAAzF,I,uCAC+B,EAAA0E,SAASE,GAAOD,EAAKM,UAAUN,EAAKM,SAASjF,OAAM,G,yBAAlF,yBAAsJ,G,MAA/D0B,KAAMiD,EAAKM,SAAWL,MAAO,EAAAM,OAAS,QAAK,eAAE,EAAAC,MAAK,W,8GANsCR,EAAKS,S,aAYxK,OACdlE,KAAM,sBACNW,MAAO,CAAC,OAAQ,SAChB,OACC,MAAO,CACN6C,SAAU,EACVJ,SAAU,cACVY,OAAQ,MAGV,UACKzC,KAAKmC,QACRnC,KAAKyC,OAASzC,KAAKmC,MAAQ,GAE5BnC,KAAKkB,UAAU,KACd,MAAM0B,EAAY5C,KAAKO,IAAIsC,wBACrBC,EAASF,EAAUE,OAASF,EAAUb,EACtCgB,EAAQH,EAAUG,MAAQH,EAAUd,EAEzCgB,EAASE,SAASC,KAAKC,cACvBH,EAAQC,SAASC,KAAKE,YAEtBnD,KAAK6B,SAAW,UAEhBiB,EAASE,SAASC,KAAKC,cACvBH,EAAQC,SAASC,KAAKE,YAEtBnD,KAAK6B,SAAW,WAEhBiB,EAASE,SAASC,KAAKC,cACvBH,EAAQC,SAASC,KAAKE,YAEtBnD,KAAK6B,SAAW,aAEhB7B,KAAK6B,SAAW,iBAInBhB,QAAS,CACR,KAAKyB,GACAA,IACHtC,KAAK0C,MAAM,SACXJ,Q,UCrDJ,EAAOd,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QFSA,GACdhD,KAAM,qBACNW,MAAO,CAAC,OAAQ,SAChBF,WAAY,CACXkE,oBAAA,GAED,OACC,MAAO,CACNnB,SAAU,EACVJ,SAAU,cACVY,OAAQ,MAGV,UACKzC,KAAKmC,QACRnC,KAAKyC,OAASzC,KAAKmC,MAAQ,GAE5BnC,KAAKkB,UAAU,KACd,MAAM0B,EAAY5C,KAAKO,IAAIsC,wBACrBC,EAASF,EAAUE,OAASF,EAAUb,EACtCgB,EAAQH,EAAUG,MAAQH,EAAUd,EAEzCgB,EAASE,SAASC,KAAKC,cACvBH,EAAQC,SAASC,KAAKE,YAEtBnD,KAAK6B,SAAW,UAEhBiB,EAASE,SAASC,KAAKC,cACvBH,EAAQC,SAASC,KAAKE,YAEtBnD,KAAK6B,SAAW,WAEhBiB,EAASE,SAASC,KAAKC,cACvBH,EAAQC,SAASC,KAAKE,YAEtBnD,KAAK6B,SAAW,aAEhB7B,KAAK6B,SAAW,iBAInBhB,QAAS,CACR,KAAKyB,GACAA,IACHtC,KAAK0C,MAAM,SACXJ,Q,UGzDJ,EAAOd,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YJIA,+BAAgB,CAC9BhD,KAAM,iBACNS,WAAY,CACXmE,sBAEDjE,MAAO,CACNkE,QAAS,CACR9D,UAAU,GAEXP,KAAM,CACLK,QAAS,IACD,IAGTuC,SAAU,CACTvC,QAAS,KACD,CACNwC,EAAG,EACHC,EAAG,MAKP,UACC/B,KAAKuD,mBAEN1C,QAAS,CACR,QACC,OAAMD,IAAI,aAAcZ,KAAKwD,WAC7B,oBAAO,KAAMxD,KAAKO,KAElBP,KAAKsD,QAAQG,UAEd,kBACCT,SAASU,iBAAiB,YAAaC,IACtC3D,KAAKwD,UAAUG,KAEhBC,OAAOF,iBAAiB,SAAUC,IACjC3D,KAAKwD,UAAUG,MAGjB,UAAUA,GACT,IAAK,MAAMzB,KAAQyB,EAAEE,KACpB,GAAI3B,IAASlC,KAAK8D,MAAMnE,KACvB,OAGFqD,SAASe,oBAAoB,YAAaJ,IACzC3D,KAAKwD,UAAUG,KAEhBC,OAAOG,oBAAoB,SAAUJ,IACpC3D,KAAKwD,UAAUG,KAEhB3D,KAAKgC,Y,UK5DR,EAAOR,OAASA,EAChB,EAAOC,UAAY,kBAEJ,QCLf,MAAMuC,EAAY,KACjB,IAAI/E,EAAY,GAChB,MAAO,CACN,QAAQgF,EAAIC,GACXD,EAAGP,iBAAiB,cAAgBC,IACnC,MAAML,EAAUN,SAASmB,cAAc,OAEvCnB,SAASC,KAAKmB,OAAOd,GACrB,uBAAU,EAAM,CACfrE,OACAqE,UACAzB,SAAU,CACTC,EAAG6B,EAAEU,QACLtC,EAAG4B,EAAEW,WAEJC,MAAMjB,GACTK,EAAEa,oBAGJ,QAAQP,EAAIC,GACXjF,EAAOiF,EAAQO,SAIH,U,kCC3Bf,W,kKCCMC,GAAG,U,SAEDpG,MAAM,gB,EACa,yBAAI,mB,+BACoD,Q,SAE3EA,MAAM,gB,SAKCA,MAAM,e,GAEZA,MAAM,e,GAELA,MAAM,c,GAMNA,MAAM,Q,GAIPA,MAAM,Q,kRAzBd,yBA8BM,MA9BN,EA8BM,CA7BL,yBA4Ba,iBA5BDG,KAAK,QAAM,C,UACtB,IAGM,CAH2C,iBAAjB,EAAAkG,aAAaC,M,yBAA7C,yBAGM,MAHN,EAGM,C,0DAFH,EAAAC,OAAOC,cAAY,GAAE,EACvB,yBAA+F,GAApFC,KAAK,OAAOzD,KAAK,UAAW,QAAK,eAAE,EAAAnB,OAAO6E,SAAQ,kB,WAAkB,IAAI,C,aAE9C,EAAAC,a,yBAKtC,yBAiBM,MAjBN,EAiBM,CAhBL,yBAA6G,OAAxG3G,MAAM,SAAUsD,MAAK,wBAA0B,EAAAsD,YAAYC,WAAS,gC,QACzE,yBAWM,MAXN,EAWM,CAVL,yBAA8C,GAA5BC,MAAO,EAAAF,YAAYG,O,kBACrC,yBAKM,MALN,EAKM,CAJL,yBAAqG,GAAvF/G,MAAM,UAAU+G,MAAM,KAAK9C,KAAK,qBAAsB+C,IAAK,EAAAC,WAAWC,e,gBACpF,yBAAqH,GAAvGlH,MAAM,UAAU+G,MAAM,KAAK9C,KAAK,YAAa+C,IAAK,EAAAxH,kBAAkB,EAAAyH,WAAWE,UAAUC,Y,gBACvG,yBAAyH,GAA3GpH,MAAM,UAAU+G,MAAM,KAAK9C,KAAK,cAAe+C,IAAK,EAAAxH,kBAAkB,EAAAyH,WAAWE,UAAUE,c,gBACzG,yBAA6H,GAA/GrH,MAAM,UAAU+G,MAAM,MAAM9C,KAAK,YAAa+C,IAAK,EAAAxH,kBAAkB,EAAAyH,WAAWE,UAAUG,aAAY,M,kBAErH,yBAEM,MAFN,EAEM,gCADA,EAAAV,YAAYW,SAASC,kBAAkB,EAAAZ,YAAYW,SAASE,2BAA2B,EAAA5I,kBAAkB,EAAAgD,OAAO6F,MAAMT,WAAWU,iBAAY,KAGpJ,yBAEM,MAFN,EAEM,CADL,yBAAwC,GAAlCrE,MAAA,qBAAwBsE,IAAK,U,yBApBrC,yBAIM,MAJN,EAIM,CAHL,yBAEY,GAFD5E,KAAK,UAAWc,SAAU,EAAA+D,QAAS7H,MAAM,SAASyG,KAAK,SAAU,QAAO,EAAAqB,Y,WAClF,IAA0C,C,0DAA7B,aAAX,EAAAC,OAAO5H,KAAI,oB,8GCCH,+BAAgB,CAC9BA,KAAM,SACNS,WAAY,CACXoH,KAAA,QAED,OACC,MAAO,CACNH,SAAS,IAGXpG,SAAU,IACN,eAAS,CAAC,cAAe,eAAgB,kBACzC,eAAW,CAAC,gBACf8E,OAAA,QAEDhE,QAAS,CACR1D,kBAAA,OACAW,kBAAA,OACA,aAC0B,aAArBkC,KAAKqG,OAAO5H,KACfuB,KAAKuG,QAAQC,KAAK,CACjB3C,KAAM,eAGP,OAAM4C,KAAK,cACXzG,KAAKmG,SAAU,EACf,OAAMO,KAAK,gBAAiB,KAC3B1G,KAAKmG,SAAU,S,UChCpB,EAAO3E,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-349be909.bbe09e29.js","sourcesContent":["export const unixTimeFormatter = (timestamp: number) => {\r\n\tconst zeroPadding = (n: string) => {\r\n\t\tif (n.length < 2) {\r\n\t\t\treturn `0${n}`;\r\n\t\t}\r\n\t\treturn n;\r\n\t};\r\n\ttimestamp = timestamp / 1000;\r\n\tconst hour = Math.floor(timestamp / 3600);\r\n\tconst minute = Math.floor((timestamp - hour * 3600) / 60);\r\n\tconst second = Math.floor(timestamp % 60);\r\n\treturn `${zeroPadding(String(hour))}:${zeroPadding(\r\n\t\tString(minute)\r\n\t)}:${zeroPadding(String(second))}`;\r\n};\r\nexport const thousandFormatter = (count: number, unit = \"万\"): string => {\r\n\tif (count < 10000) {\r\n\t\treturn String(count);\r\n\t}\r\n\r\n\treturn `${(count / 10000).toFixed(1)}${unit}`;\r\n};\r\n\r\nexport const hundrenFormatter = (count: number): string => {\r\n\tif (count > 10000) {\r\n\t\treturn thousandFormatter(count, \"W\");\r\n\t}\r\n\tif (count > 1000) {\r\n\t\treturn `${(count / 1000).toFixed(1)}k`;\r\n\t}\r\n\treturn String(count);\r\n};\r\n\r\nexport const byteFormatter = (byte: number): string => {\r\n\tconst unit = [\"Byte\", \"KB\", \"MB\", \"GB\", \"T\"];\r\n\twhile (byte > 1024 && unit.length > 1) {\r\n\t\tbyte /= 1024;\r\n\t\tunit.shift();\r\n\t}\r\n\treturn `${byte.toFixed(2)} ${unit[0]}`;\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./shrink.vue?vue&type=style&index=0&id=c2aa7e30&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=36359928&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"","<template>\r\n\t<div\r\n\t\tclass=\"danmaku-flow\"\r\n\t\t@mousemove=\"leaveScroll\"\r\n\t\t@mousewheel=\"scrollable = true\"\r\n\t\t@mouseleave=\"scrollable = false\"\r\n\t>\r\n\t\t<transition-group name=\"fade\">\r\n\t\t\t<danmaku-row\r\n\t\t\t\tv-menu=\"list\"\r\n\t\t\t\t@contextmenu=\"currentRow = danmaku\"\r\n\t\t\t\tv-for=\"danmaku in [...danmakuLists]\"\r\n\t\t\t\t:key=\"getKey(danmaku)\"\r\n\t\t\t\t:danmaku=\"danmaku\"\r\n\t\t\t\t:setting=\"getSetting(danmaku)\"\r\n\t\t\t/>\r\n\t\t</transition-group>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow/index.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\t//@ts-ignore\r\n\t\t\tswitch (this.settings?.direction) {\r\n\t\t\t\tcase \"addToTop\":\r\n\t\t\t\t\treturn [...this.danmakuList];\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [...this.danmakuList].reverse();\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\t\t\tconst top =\r\n\t\t\t\tthat.settings?.direction === \"addToTop\"\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: that.$el.scrollHeight;\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.danmaku-flow {\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\twidth: calc(100% - 12px);\r\n\theight: calc(100% - 32px);\r\n\toverflow-x: hidden;\r\n\toverflow-y: auto;\r\n\tpadding: 4px 6px;\r\n\ttransform: translateZ(1);\r\n\t// will-change: contents scroll-position;\r\n\t@include scrollbarBaseSlinder();\r\n\t// & > div {\r\n\t// \tdisplay: flex;\r\n\t// \tflex-direction: column;\r\n\t// \talign-content: stretch;\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow/index.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\t//@ts-ignore\r\n\t\t\tswitch (this.settings?.direction) {\r\n\t\t\t\tcase \"addToTop\":\r\n\t\t\t\t\treturn [...this.danmakuList];\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [...this.danmakuList].reverse();\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\t\t\tconst top =\r\n\t\t\t\tthat.settings?.direction === \"addToTop\"\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: that.$el.scrollHeight;\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=36359928&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=36359928&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-36359928\"\n\nexport default script","<template>\r\n\t<transition name=\"listAni\" appear>\r\n\t\t<div ref=\"menu\" style=\"position:fixed;z-Index:4000\" :style=\"{left:`${position.x}px!important`,top:`${position.y}px!important`}\">\r\n\t\t\t<right-click-menu-list ref=\"menuList\" @close=\"close()\" :list=\"list\" />\r\n\t\t</div>\r\n\t</transition>\r\n</template>\r\n\r\n<script >\r\nimport rightClickMenuList from \"./rightClickMenuList.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { render, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rightClickMenu\",\r\n\tcomponents: {\r\n\t\trightClickMenuList\r\n\t},\r\n\tprops: {\r\n\t\telement: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tlist: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.addBlurListener();\r\n\t},\r\n\tmethods: {\r\n\t\tclose() {\r\n\t\t\tevent.off(\"mouseclick\", this.judgeBlur);\r\n\t\t\trender(null, this.$el);\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.element.remove();\r\n\t\t},\r\n\t\taddBlurListener() {\r\n\t\t\tdocument.addEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.addEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\tjudgeBlur(e) {\r\n\t\t\tfor (const item of e.path) {\r\n\t\t\t\tif (item === this.$refs.menu) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.removeEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.removeEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport rightClickMenuListB from \"./rightClickMenuLisB.vue\";\r\nexport default {\r\n\tname: \"rightClickMenuList\",\r\n\tprops: [\"list\", \"index\"],\r\n\tcomponents: {\r\n\t\trightClickMenuListB\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"rightClickMenuListB\",\r\n\tprops: [\"list\", \"index\"],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","import { render } from \"./rightClickMenuLisB.vue?vue&type=template&id=9d16dfe8&scoped=true\"\nimport script from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9d16dfe8\"\n\nexport default script","import { render } from \"./rightClickMenuList.vue?vue&type=template&id=176d2028&scoped=true\"\nimport script from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-176d2028\"\n\nexport default script","import { render } from \"./rightClickMenu.vue?vue&type=template&id=2ca27b36&scoped=true\"\nimport script from \"./rightClickMenu.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenu.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2ca27b36\"\n\nexport default script","import { Directive, createApp } from \"vue\";\r\nimport menu from \"./rightClickMenu.vue\";\r\n\r\nconst directive = (): Directive => {\r\n\tlet list: any = [];\r\n\treturn {\r\n\t\tmounted(el, binding) {\r\n\t\t\tel.addEventListener(\"contextmenu\", (e: any) => {\r\n\t\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\t\t// list = binding.value;\r\n\t\t\t\tdocument.body.append(element);\r\n\t\t\t\tcreateApp(menu, {\r\n\t\t\t\t\tlist,\r\n\t\t\t\t\telement,\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\ty: e.clientY\r\n\t\t\t\t\t}\r\n\t\t\t\t}).mount(element);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdated(el, binding) {\r\n\t\t\tlist = binding.value;\r\n\t\t}\r\n\t};\r\n};\r\nexport default directive;\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"","<template>\r\n\t<div id=\"shrink\">\r\n\t\t<transition name=\"fade\">\r\n\t\t\t<div class=\"unstreamable\" v-if=\"streamStatus.step==='nostreamable'\">\r\n\t\t\t\t{{common.unstreamable}}<br>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"$store.dispatch('nostreamable')\">点击重试</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"unstreamable\" v-else-if=\"!isStreaming\">\r\n\t\t\t\t<el-button type=\"primary\" :disabled=\"loading\" class=\"logBtn\" size=\"medium\" @click=\"openStream\">\r\n\t\t\t\t\t{{$route.name===\"roomMgmt\"?\"确认开播\":\"点我开播\"}}\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div v-else class=\"shrinkPanel\">\r\n\t\t\t\t<div class=\"avatar\" :style=\"{backgroundImage:`url(${roomProfile.liveCover||'/imgs/common/noCover.jpg'})`}\" />\r\n\t\t\t\t<div class=\"roomProfile\">\r\n\t\t\t\t\t<title-scrolling :label=\"roomProfile.title\" />\r\n\t\t\t\t\t<div class=\"roomStatus\">\r\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"观众\" icon=\"el-icon-user-solid\" :num=\"roomStatus.watchingCount\" />\r\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"点赞\" icon=\"self-like\" :num=\"thousandFormatter(roomStatus.statistic.likeCount)\" />\r\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"香蕉\" icon=\"self-banana\" :num=\"thousandFormatter(roomStatus.statistic.bananaCount)\" />\r\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"ac币\" icon=\"self-coin\" :num=\"thousandFormatter(roomStatus.statistic.diamondCount/100)\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"type\">\r\n\t\t\t\t\t\t{{`${roomProfile.liveType.categoryName} - ${roomProfile.liveType.subCategoryName}    已播时长：${unixTimeFormatter($store.state.roomStatus.liveDuration)}`}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flow\">\r\n\t\t\t\t\t<flow style=\"font-size:14px\" :max=\"1\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport { defineComponent } from \"vue\";\r\nimport flow from \"@front/components/danmakuFlow/index.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nimport { common } from \"@front/texts\";\r\nexport default defineComponent({\r\n\tname: \"shrink\",\r\n\tcomponents: {\r\n\t\tflow\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\", \"streamStatus\", \"roomStatus\"]),\r\n\t\t...mapGetters([\"isStreaming\"]),\r\n\t\tcommon\r\n\t},\r\n\tmethods: {\r\n\t\tunixTimeFormatter,\r\n\t\tthousandFormatter,\r\n\t\topenStream() {\r\n\t\t\tif (this.$route.name !== \"roomMgmt\") {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: \"/roomMgmt\"\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tevent.emit(\"openStream\");\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tevent.once(\"openStreamEnd\", () => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#shrink {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\twidth: 100%;\r\n\theight: 70px;\r\n\t.unstreamable {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(255, 255, 255);\r\n\t\tcolor: $--color-text-secondary;\r\n\t\tuser-select: none;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twhite-space: pre;\r\n\t\ttext-align: center;\r\n\t\ttransition: all 0.25s;\r\n\t\t&:hover {\r\n\t\t\tcolor: $--color-text-primary;\r\n\t\t}\r\n\t}\r\n\t.shrinkPanel {\r\n\t\tbox-sizing: border-box;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tpadding: 8px 30px;\r\n\t\tdisplay: flex;\r\n\t\t& > div {\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.avatar {\r\n\t\t\theight: 54px;\r\n\t\t\twidth: 54px;\r\n\t\t\tborder-radius: $--border-radius-base;\r\n\t\t\tbackground-size: auto 100%;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbox-shadow: $--box-shadow-base;\r\n\t\t\tbackground-position: center;\r\n\t\t}\r\n\t\t.roomProfile {\r\n\t\t\tdisplay: flex;\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 250px;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding-left: 16px;\r\n\t\t\twhite-space: pre;\r\n\t\t\tcolor: $--color-text-secondary;\r\n\t\t\tuser-select: none;\r\n\t\t\t.roomStatus {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t\t.type {\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { mapState, mapGetters } from \"vuex\";\r\nimport { defineComponent } from \"vue\";\r\nimport flow from \"@front/components/danmakuFlow/index.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nimport { common } from \"@front/texts\";\r\nexport default defineComponent({\r\n\tname: \"shrink\",\r\n\tcomponents: {\r\n\t\tflow\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\", \"streamStatus\", \"roomStatus\"]),\r\n\t\t...mapGetters([\"isStreaming\"]),\r\n\t\tcommon\r\n\t},\r\n\tmethods: {\r\n\t\tunixTimeFormatter,\r\n\t\tthousandFormatter,\r\n\t\topenStream() {\r\n\t\t\tif (this.$route.name !== \"roomMgmt\") {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: \"/roomMgmt\"\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tevent.emit(\"openStream\");\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tevent.once(\"openStreamEnd\", () => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./shrink.vue?vue&type=template&id=c2aa7e30&scoped=true\"\nimport script from \"./shrink.vue?vue&type=script&lang=ts\"\nexport * from \"./shrink.vue?vue&type=script&lang=ts\"\n\nimport \"./shrink.vue?vue&type=style&index=0&id=c2aa7e30&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-c2aa7e30\"\n\nexport default script"],"sourceRoot":""}