{"version":3,"sources":["webpack:///./src/electron_browser/util_function/formatter.ts","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue?b22f","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue?ed76","webpack:///./src/electron_browser/views/streamMonitor/shrink.vue?0b9e"],"names":["unixTimeFormatter","timestamp","zeroPadding","n","length","hour","Math","floor","minute","second","String","thousandFormatter","count","unit","toFixed","hundrenFormatter","id","class","name","streamStatus","step","common","unstreamable","size","type","$store","dispatch","isStreaming","style","roomProfile","liveCover","label","title","icon","num","roomStatus","watchingCount","statistic","likeCount","bananaCount","diamondCount","liveType","categoryName","subCategoryName","state","liveDuration","max","disabled","loading","openStream","$route","components","flow","computed","methods","this","$router","push","path","emit","once","render","__scopeId"],"mappings":"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","file":"js/chunk-72c7d552.d7c04b0d.js","sourcesContent":["export const unixTimeFormatter = (timestamp: number) => {\n\tconst zeroPadding = (n: string) => {\n\t\tif (n.length < 2) {\n\t\t\treturn `0${n}`;\n\t\t}\n\t\treturn n;\n\t};\n\ttimestamp = timestamp / 1000;\n\tconst hour = Math.floor(timestamp / 3600);\n\tconst minute = Math.floor((timestamp - hour * 3600) / 60);\n\tconst second = Math.floor(timestamp % 60);\n\treturn `${zeroPadding(String(hour))}:${zeroPadding(\n\t\tString(minute)\n\t)}:${zeroPadding(String(second))}`;\n};\nexport const thousandFormatter = (count: number, unit = \"万\"): string => {\n\tif (count < 10000) {\n\t\treturn String(count);\n\t}\n\n\treturn `${(count / 10000).toFixed(1)}${unit}`;\n};\n\nexport const hundrenFormatter = (count: number): string => {\n\tif (count > 10000) {\n\t\treturn thousandFormatter(count, \"W\");\n\t}\n\tif (count > 1000) {\n\t\treturn `${(count / 1000).toFixed(1)}k`;\n\t}\n\treturn String(count);\n};\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./shrink.vue?vue&type=style&index=0&id=c2aa7e30&scoped=true&lang=scss\"","<template>\n\t<div id=\"shrink\">\n\t\t<transition name=\"fade\">\n\t\t\t<div class=\"unstreamable\" v-if=\"streamStatus.step==='nostreamable'\">\n\t\t\t\t{{common.unstreamable}}<br>\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"$store.dispatch('nostreamable')\">点击重试</el-button>\n\t\t\t</div>\n\t\t\t<div class=\"unstreamable\" v-else-if=\"!isStreaming\">\n\t\t\t\t<el-button type=\"primary\" :disabled=\"loading\" class=\"logBtn\" size=\"medium\" @click=\"openStream\">\n\t\t\t\t\t{{$route.name===\"roomMgmt\"?\"确认开播\":\"点我开播\"}}\n\t\t\t\t</el-button>\n\t\t\t</div>\n\t\t\t<div v-else class=\"shrinkPanel\">\n\t\t\t\t<div class=\"avatar\" :style=\"{backgroundImage:`url(${roomProfile.liveCover||'/imgs/common/noCover.jpg'})`}\" />\n\t\t\t\t<div class=\"roomProfile\">\n\t\t\t\t\t<title-scrolling :label=\"roomProfile.title\" />\n\t\t\t\t\t<div class=\"roomStatus\">\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"观众\" icon=\"el-icon-user-solid\" :num=\"roomStatus.watchingCount\" />\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"点赞\" icon=\"self-like\" :num=\"thousandFormatter(roomStatus.statistic.likeCount)\" />\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"香蕉\" icon=\"self-banana\" :num=\"thousandFormatter(roomStatus.statistic.bananaCount)\" />\n\t\t\t\t\t\t<icon-counter class=\"counter\" title=\"ac币\" icon=\"self-coin\" :num=\"thousandFormatter(roomStatus.statistic.diamondCount/100)\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"type\">\n\t\t\t\t\t\t{{`${roomProfile.liveType.categoryName} - ${roomProfile.liveType.subCategoryName}    已播时长：${unixTimeFormatter($store.state.roomStatus.liveDuration)}`}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flow\">\n\t\t\t\t\t<flow style=\"font-size:14px\" :max=\"1\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { mapState, mapGetters } from \"vuex\";\nimport { defineComponent } from \"vue\";\nimport flow from \"@front/components/danmakuFlow/index.vue\";\nimport { event } from \"@front/util_function/eventBus\";\nimport {\n\tunixTimeFormatter,\n\tthousandFormatter\n} from \"@front/util_function/formatter\";\nimport { common } from \"@front/texts\";\nexport default defineComponent({\n\tname: \"shrink\",\n\tcomponents: {\n\t\tflow\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: false\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState([\"roomProfile\", \"streamStatus\", \"roomStatus\"]),\n\t\t...mapGetters([\"isStreaming\"]),\n\t\tcommon\n\t},\n\tmethods: {\n\t\tunixTimeFormatter,\n\t\tthousandFormatter,\n\t\topenStream() {\n\t\t\tif (this.$route.name !== \"roomMgmt\") {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/roomMgmt\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tevent.emit(\"openStream\");\n\t\t\t\tthis.loading = true;\n\t\t\t\tevent.once(\"openStreamEnd\", () => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n</script>\n\n<style scoped lang='scss'>\n@import \"@front/styles/variables.scss\";\n#shrink {\n\tposition: absolute;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 70px;\n\t.unstreamable {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: rgba(255, 255, 255);\n\t\tcolor: $--color-text-secondary;\n\t\tuser-select: none;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twhite-space: pre;\n\t\ttext-align: center;\n\t\ttransition: all 0.25s;\n\t\t&:hover {\n\t\t\tcolor: $--color-text-primary;\n\t\t}\n\t}\n\t.shrinkPanel {\n\t\tbox-sizing: border-box;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tpadding: 8px 30px;\n\t\tdisplay: flex;\n\t\t& > div {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t\t.avatar {\n\t\t\theight: 54px;\n\t\t\twidth: 54px;\n\t\t\tborder-radius: $--border-radius-base;\n\t\t\tbackground-size: auto 100%;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbox-shadow: $--box-shadow-base;\n\t\t\tbackground-position: center;\n\t\t}\n\t\t.roomProfile {\n\t\t\tdisplay: flex;\n\t\t\tposition: relative;\n\t\t\twidth: 250px;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: space-between;\n\t\t\tpadding-left: 16px;\n\t\t\twhite-space: pre;\n\t\t\tcolor: $--color-text-secondary;\n\t\t\tuser-select: none;\n\t\t\t.roomStatus {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tfont-size: $--font-size-extra-small;\n\t\t\t}\n\t\t\t.type {\n\t\t\t\tfont-size: $--font-size-extra-small;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","\nimport { mapState, mapGetters } from \"vuex\";\nimport { defineComponent } from \"vue\";\nimport flow from \"@front/components/danmakuFlow/index.vue\";\nimport { event } from \"@front/util_function/eventBus\";\nimport {\n\tunixTimeFormatter,\n\tthousandFormatter\n} from \"@front/util_function/formatter\";\nimport { common } from \"@front/texts\";\nexport default defineComponent({\n\tname: \"shrink\",\n\tcomponents: {\n\t\tflow\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: false\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState([\"roomProfile\", \"streamStatus\", \"roomStatus\"]),\n\t\t...mapGetters([\"isStreaming\"]),\n\t\tcommon\n\t},\n\tmethods: {\n\t\tunixTimeFormatter,\n\t\tthousandFormatter,\n\t\topenStream() {\n\t\t\tif (this.$route.name !== \"roomMgmt\") {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/roomMgmt\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tevent.emit(\"openStream\");\n\t\t\t\tthis.loading = true;\n\t\t\t\tevent.once(\"openStreamEnd\", () => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n","import { render } from \"./shrink.vue?vue&type=template&id=c2aa7e30&scoped=true\"\nimport script from \"./shrink.vue?vue&type=script&lang=ts\"\nexport * from \"./shrink.vue?vue&type=script&lang=ts\"\n\nimport \"./shrink.vue?vue&type=style&index=0&id=c2aa7e30&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-c2aa7e30\"\n\nexport default script"],"sourceRoot":""}