{"version":3,"sources":["webpack:///./src/electron_browser/views/general/index.vue?8f74","webpack:///./src/electron_browser/views/general/index.vue","webpack:///./src/electron_browser/views/general/index.vue?64f2","webpack:///./src/electron_browser/views/general/index.vue?b3a3"],"names":["class","id","align","style","title","flex","span","general","streamToolEnable","save","size","model-value","streamToolPath","append","type","loadStreamToolPath","backup","restore","name","this","loadConfig","computed","methods","danmakuProfile","then","res","path","Object","assign","duration","message","offset","file","config","$store","state","profile","commit","url","window","open","catch","err","console","log","render","__scopeId"],"mappings":"kHAAA,W,8LCGuB,c,+BASgE,S,EAM/D,yBAAsD,QAAhDA,MAAM,QAAO,gCAA4B,G,+BAIb,Q,+BAGC,Q,EAEnC,yBAA6C,QAAvCA,MAAM,QAAO,uBAAmB,G,0WA1B7D,yBA4BgB,GA5BDC,GAAG,UAAUC,MAAM,O,WACjC,IAiBY,CAjBZ,yBAiBY,GAjBDC,MAAA,eAAmBC,MAAM,SAASC,KAAA,I,WAC5C,IAEW,CAFX,yBAEW,GAFAC,KAAM,GAAC,C,UAAE,IAEpB,C,UACA,yBAEW,GAFAA,KAAM,GAAC,C,UACjB,IAA+D,CAA/D,yBAA+D,G,WAA3C,EAAAC,QAAQC,iB,qCAAR,EAAAD,QAAQC,iBAAgB,GAAG,SAAQ,EAAAC,M,0CAE9B,EAAAF,QAAQC,kB,yBAAlC,yBAQW,G,MARAF,KAAM,G,WAChB,IAKW,CALX,yBAKW,GALDI,KAAK,OAAQC,cAAa,EAAAJ,QAAQK,gB,CAChCC,OAAM,EAChB,IACY,CADZ,yBACY,GADDC,KAAK,UAAUJ,KAAK,OAAOV,MAAM,SAAU,QAAO,EAAAe,oB,WAAoB,IACjF,C,kGAKH,yBAAsF,GAA3ET,KAAM,IAAE,C,UAAE,IAAsD,CAAtD,I,cAEtB,yBAQY,GARDH,MAAA,eAAmBC,MAAM,UAAUC,KAAA,I,WAC7C,IAEW,CAFX,yBAEW,GAFAC,KAAM,GAAC,C,UACjB,IAAsE,CAAtE,yBAAsE,GAA3DI,KAAK,OAAOI,KAAK,UAAW,QAAO,EAAAE,Q,WAAQ,IAAI,C,gCAE3D,yBAEW,GAFAV,KAAM,GAAC,C,UACjB,IAAuE,CAAvE,yBAAuE,GAA5DI,KAAK,OAAOI,KAAK,UAAW,QAAO,EAAAG,S,WAAS,IAAI,C,gCAE5D,yBAA6E,GAAlEX,KAAM,IAAE,C,UAAE,IAA6C,CAA7C,I,kKCbT,+BAAgB,CAC9BY,KAAM,UACN,OACC,MAAO,CACNX,QAAS,CACRC,kBAAkB,EAClBI,eAAgB,MAInB,UACCO,KAAKC,cAENC,SAAU,IACN,eAAS,CAAC,oBAEdC,QAAS,CACR,aACCH,KAAKZ,QACJ,IAAUY,KAAKI,eAAehB,UAAY,gCAE5C,qBACC,eAAK,QAAQiB,KAAMC,IAClBN,KAAKZ,QAAQK,eAAiBa,EAAIC,KAClCP,KAAKV,UAGP,OACCkB,OAAOC,OAAOT,KAAKI,eAAgB,CAClChB,QAAS,IAAUY,KAAKZ,WAEzB,eAAWY,KAAKI,gBAChB,IAAU,CACTM,SAAU,KACVC,QAAS,OACTC,OAAQ,GACRjB,KAAM,aAGR,gBACC,MAAMkB,QAAkB,eAAK,QACvBC,QAAe,eAAcD,EAAKN,MACpCO,GACHd,KAAKe,OAAOC,MAAMZ,eAAiB,eAClC,OAAQa,UACRH,GAEDd,KAAKC,aACLD,KAAKe,OAAOG,OAAO,iBAAkB,IACrC,IAAU,CACTvB,KAAM,UACNgB,QAAS,UACTD,SAAU,KACVE,OAAQ,MAGT,IAAU,CACTjB,KAAM,QACNgB,QAAS,SACTD,SAAU,KACVE,OAAQ,MAIX,SACC,iBACEP,KAAMc,IACNC,OAAOC,KAAKF,KAEZG,MAAMC,IACNC,QAAQC,IAAIF,S,UC/EjB,EAAOG,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"js/chunk-64a723a2.02ef11e5.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=c2f00c42&scoped=true&lang=scss\"","<template>\r\n\t<content-frame id=\"general\" align=\"row\">\r\n\t\t<row-frame style=\"width:100%\" title=\"推流工具路径\" flex>\r\n\t\t\t<row-span :span=\"4\">\r\n\t\t\t\t同步启动推流工具\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<el-switch v-model=\"general.streamToolEnable\" @change=\"save\" />\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"6\" v-if=\"general.streamToolEnable\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"general.streamToolPath\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"attach\" @click=\"loadStreamToolPath\">点击选择\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"12\"><span class=\"hint\">设置后工具箱启动时会同步打开推流工具(OBS或是直播助手</span></row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame style=\"width:100%\" title=\"配置备份/还原\" flex>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"backup\">配置备份</el-button>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"restore\">配置还原</el-button>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"12\"><span class=\"hint\">一般情况下不需要备份配置，除非重装系统</span></row-span>\r\n\t\t</row-frame>\r\n\t</content-frame>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { generalSettings } from \"@front/datas/danmaku\";\r\nimport { mapState } from \"vuex\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport {\r\n\tsaveConfig,\r\n\trestoreConfig,\r\n\tbackupConfig\r\n} from \"@front/util_function/system\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { danmaku } from \"@front/datas\";\r\nimport { assign } from \"@front/util_function/base\";\r\nexport default defineComponent({\r\n\tname: \"general\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgeneral: {\r\n\t\t\t\tstreamToolEnable: false,\r\n\t\t\t\tstreamToolPath: \"\"\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.loadConfig();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tloadConfig() {\r\n\t\t\tthis.general =\r\n\t\t\t\tcloneDeep(this.danmakuProfile.general) || generalSettings();\r\n\t\t},\r\n\t\tloadStreamToolPath() {\r\n\t\t\tload(\".exe\").then((res: any) => {\r\n\t\t\t\tthis.general.streamToolPath = res.path;\r\n\t\t\t\tthis.save();\r\n\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tObject.assign(this.danmakuProfile, {\r\n\t\t\t\tgeneral: cloneDeep(this.general)\r\n\t\t\t});\r\n\t\t\tsaveConfig(this.danmakuProfile);\r\n\t\t\tElMessage({\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\tmessage: \"保存成功\",\r\n\t\t\t\toffset: 60,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync restore() {\r\n\t\t\tconst file: any = await load(\".zip\");\r\n\t\t\tconst config = await restoreConfig(file.path);\r\n\t\t\tif (config) {\r\n\t\t\t\tthis.$store.state.danmakuProfile = assign(\r\n\t\t\t\t\tdanmaku.profile(),\r\n\t\t\t\t\tconfig\r\n\t\t\t\t);\r\n\t\t\t\tthis.loadConfig();\r\n\t\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: \"配置还原成功！\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: \"配置还原失败\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackup() {\r\n\t\t\tbackupConfig()\r\n\t\t\t\t.then((url: any) => {\r\n\t\t\t\t\twindow.open(url);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#general {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { generalSettings } from \"@front/datas/danmaku\";\r\nimport { mapState } from \"vuex\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport {\r\n\tsaveConfig,\r\n\trestoreConfig,\r\n\tbackupConfig\r\n} from \"@front/util_function/system\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { danmaku } from \"@front/datas\";\r\nimport { assign } from \"@front/util_function/base\";\r\nexport default defineComponent({\r\n\tname: \"general\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgeneral: {\r\n\t\t\t\tstreamToolEnable: false,\r\n\t\t\t\tstreamToolPath: \"\"\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.loadConfig();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tloadConfig() {\r\n\t\t\tthis.general =\r\n\t\t\t\tcloneDeep(this.danmakuProfile.general) || generalSettings();\r\n\t\t},\r\n\t\tloadStreamToolPath() {\r\n\t\t\tload(\".exe\").then((res: any) => {\r\n\t\t\t\tthis.general.streamToolPath = res.path;\r\n\t\t\t\tthis.save();\r\n\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tObject.assign(this.danmakuProfile, {\r\n\t\t\t\tgeneral: cloneDeep(this.general)\r\n\t\t\t});\r\n\t\t\tsaveConfig(this.danmakuProfile);\r\n\t\t\tElMessage({\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\tmessage: \"保存成功\",\r\n\t\t\t\toffset: 60,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync restore() {\r\n\t\t\tconst file: any = await load(\".zip\");\r\n\t\t\tconst config = await restoreConfig(file.path);\r\n\t\t\tif (config) {\r\n\t\t\t\tthis.$store.state.danmakuProfile = assign(\r\n\t\t\t\t\tdanmaku.profile(),\r\n\t\t\t\t\tconfig\r\n\t\t\t\t);\r\n\t\t\t\tthis.loadConfig();\r\n\t\t\t\tthis.$store.commit(\"updateSettings\", {});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: \"配置还原成功！\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: \"配置还原失败\",\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackup() {\r\n\t\t\tbackupConfig()\r\n\t\t\t\t.then((url: any) => {\r\n\t\t\t\t\twindow.open(url);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=c2f00c42&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=c2f00c42&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-c2f00c42\"\n\nexport default script"],"sourceRoot":""}