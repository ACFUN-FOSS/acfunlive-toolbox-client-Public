{"version":3,"sources":["webpack:///./src/electron_browser/components/base/frames/titleFrame.vue","webpack:///./src/electron_browser/components/base/frames/titleFrame.vue?d046","webpack:///./src/electron_browser/applets/lottery/index.vue","webpack:///./src/electron_browser/applets/lottery/index.vue?5c1a","webpack:///./src/electron_browser/components/base/list/base.vue?a06e","webpack:///./src/electron_browser/applets/danmakuFlow/index.vue?3bbc","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medal/default.ts","webpack:///./src/electron_browser/applets/danmakuSongPicker/obs.vue?72fd","webpack:///./src/electron_browser/components/danmakuFlow/widgets/mainBlock/default.ts","webpack:///./src/electron_browser/api/common.ts","webpack:///./src/electron_browser/api/danmaku.ts","webpack:///./src/electron_browser/api/stream.ts","webpack:///./src/electron_browser/api/statistic.ts","webpack:///./src/electron_browser/applets/robot/index.vue","webpack:///./src/electron_browser/applets/robot/index.vue?4ae1","webpack:///./src/electron_browser/components/superChat/utils/getter.ts","webpack:///./src/electron_browser/store/getters.ts","webpack:///./src/electron_browser/store/mutations.ts","webpack:///./src/electron_browser/store/danmaku/danmaku.ts","webpack:///./src/electron_browser/store/actions.ts","webpack:///./src/electron_browser/store/index.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medal/index.vue?ce97","webpack:///./src/electron_browser/applets/messageBoard/index.vue","webpack:///./src/electron_browser/applets/messageBoard/index.vue?03d1","webpack:///./src/electron_browser/components/danmakuFlow/widgets/avatar/form.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/timestamp/index.vue?309b","webpack:///./src/electron_browser/components/statusBar/index.vue?8285","webpack:///./src/electron_browser/applets/giftVote/index.vue","webpack:///./src/electron_browser/applets/giftVote/index.vue?0755","webpack:///./src/electron_browser/applets/vote/index.vue","webpack:///./src/electron_browser/applets/vote/index.vue?0381","webpack:///./src/electron_browser/components/base/heros/base.vue","webpack:///./src/electron_browser/components/base/heros/base.vue?c4db","webpack:///./src/electron_browser/components/base/heros/base.vue?13d9","webpack:///./src/electron_browser/applets/randomImage/obs.vue?ae4d","webpack:///./src/electron_browser/components/danmakuFlow/widgets lazy ^\\.\\/.*$ namespace object","webpack:///./src/electron_browser/components/danmakuFlow/widgets/avatar/index.vue?1321","webpack:///./src/electron_browser/applets/vote/obs.vue","webpack:///./src/electron_browser/applets/vote/obs.vue?a273","webpack:///./src/electron_browser/components/danmakuFlow/utils/styleGetter.ts","webpack:///./src/electron_browser/components/base/texts/titleScrolling.vue?6c4a","webpack:///./src/electron_browser/layouts/applets/index.vue?fbf3","webpack:///./src/electron_browser/applets/danmakuSong/index.vue?2dec","webpack:///./src/electron_browser/applets/randomImage/index.vue","webpack:///./src/electron_browser/applets/randomImage/index.vue?4165","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medalDegree/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medalDegree/index.vue?2f5d","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medalDegree/index.vue?68ef","webpack:///./src/electron_browser/components/danmakuFlow/widgets/role/index.vue?3ba5","webpack:///./src/electron_browser/components/danmakuFlow/widgets sync \\w+\\.(vue)$","webpack:///./src/electron_browser/applets lazy ^\\.\\/.*$ namespace object","webpack:///./src/electron_browser/components/system/HandlerMoving.vue?4003","webpack:///./src/electron_browser/components/danmakuFlow/widgets/role/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/role/index.vue?0d6f","webpack:///./src/electron_browser/components/danmakuFlow/widgets/role/index.vue?d7e0","webpack:///./src/electron_browser/components/danmakuFlow/widgets/avatar/default.ts","webpack:///./src/electron_browser/components/base/frames/titleFrame.vue?76cf","webpack:///./src/electron_browser/components/base sync \\w+\\.(vue)$","webpack:///./src/electron_browser/api/chat.ts","webpack:///./src/electron_browser/applets/randomVideo/index.vue","webpack:///./src/electron_browser/applets/randomVideo/index.vue?4f6c","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medal/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medal/index.vue?6f77","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medal/index.vue?3381","webpack:///./src/electron_browser/util_function/login.ts","webpack:///./src/electron_browser/applets/lottery/index.vue?395f","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medalDegree/default.ts","webpack:///./src/electron_browser/applets/danmakuSongPicker/index.vue","webpack:///./src/electron_browser/applets/danmakuSongPicker/index.vue?2c0f","webpack:///./src/electron_browser/components/danmakuFlow/utils/common.ts","webpack:///./src/electron_browser/components/danmakuFlow/utils/data.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/timestamp/default.ts","webpack:///./src/electron_browser/applets/danmakuFlow/index.vue","webpack:///./src/electron_browser/applets/danmakuFlow/index.vue?7a37","webpack:///./src/electron_browser/util_function/type.ts","webpack:///./src/electron_browser/components/base/texts/iconCounter.vue?0eed","webpack:///./src/electron_browser/components/danmakuFlow/widgets/nickName/index.vue?9e61","webpack:///./src/electron_browser/components/danmakuFlow/widgets/normalBlock/index.vue?dd7b","webpack:///./src/electron_browser/datas/room.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/avatar/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/avatar/index.vue?1a68","webpack:///./src/electron_browser/components/danmakuFlow/widgets/avatar/index.vue?0109","webpack:///./src/electron_browser/components/danmakuFlow/widgets/richText/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/richText/index.vue?57eb","webpack:///./src/electron_browser/components/danmakuFlow/widgets/richText/index.vue?ad78","webpack:///./src/electron_browser/components/danmakuFlow/widgets/giftBlock/default.ts","webpack:///./src/electron_browser/api/wsbus.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/normalBlock/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/normalBlock/index.vue?ac79","webpack:///./src/electron_browser/components/danmakuFlow/widgets/normalBlock/index.vue?5a92","webpack:///./src/electron_browser/components/system/HandlerMoving.vue","webpack:///./src/electron_browser/components/system/HandlerMoving.vue?6a71","webpack:///./src/electron_browser/components/system/HandlerMoving.vue?9906","webpack:///./src/electron_browser/util_function/electron.ts","webpack:///./src/electron_browser/applets/randomVideo/obs.vue?ce8b","webpack:///./src/electron_browser/applets/danmakuSongPicker/index.vue?0c51","webpack:///./src/electron_browser/components/danmakuFlow/widgets/content/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/content/index.vue?5d43","webpack:///./src/electron_browser/components/danmakuFlow/widgets/content/index.vue?6476","webpack:///./src/electron_browser/components/base/frames/rowSpan.vue","webpack:///./src/electron_browser/components/base/frames/rowSpan.vue?fb52","webpack:///./src/electron_browser/components/base/frames/rowSpan.vue?b4b0","webpack:///./src/electron_browser/components/danmakuFlow/widgets/normalBlock/form.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/content/default.ts","webpack:///./src/electron_browser/layouts/applets/index.vue","webpack:///./src/electron_browser/layouts/applets/index.vue?e797","webpack:///./src/electron_browser/router/appletRouter.ts","webpack:///./src/electron_browser/router/webRouter.ts","webpack:///./src/electron_browser/router/index.ts","webpack:///./src/electron_browser/App.vue","webpack:///./src/electron_browser/App.vue?f1d7","webpack:///./src/electron_browser/App.vue?e46a","webpack:///./src/electron_browser/components/injector.ts","webpack:///./src/electron_browser/datas/common.ts","webpack:///./src/electron_browser/util_function/globalRegister.ts","webpack:///./src/electron_browser/main.ts","webpack:///./src/electron_browser/components/system/topbars/withAvatar.vue?525f","webpack:///./src/electron_browser/components/base/popver/popverHelp.vue","webpack:///./src/electron_browser/components/base/popver/popverHelp.vue?7677","webpack:///./src/electron_browser/applets/giftVote/obs.vue","webpack:///./src/electron_browser/applets/giftVote/obs.vue?4d3f","webpack:///./src/electron_browser/components/danmakuFlow/widgets/content/index.vue?045f","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?30d8","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medal/form.ts","webpack:///./src/electron_browser/applets/messageBoard/index.vue?e2ea","webpack:///./src/electron_browser/components/base/footers/footerBase.vue?d8bd","webpack:///./src/electron_browser/applets/giftVote/index.vue?6010","webpack:///./src/electron_browser/components/base/frames/contentFrame.vue","webpack:///./src/electron_browser/components/base/frames/contentFrame.vue?226b","webpack:///./src/electron_browser/components/base/frames/contentFrame.vue?c4a0","webpack:///./src/electron_browser/components/danmakuFlow/widgets/role/form.ts","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?85d4","webpack:///./src/electron_browser/components/base/imgInput/imgInpuClip.vue?4e67","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medalDegree/form.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/role/default.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/timestamp/form.ts","webpack:///./src/electron_browser/components/danmakuFlow/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?9154","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?beb6","webpack:///./src/electron_browser/components/base/imgInput/imgInputStatic.vue?d6cf","webpack:///./src/electron_browser/components/danmakuFlow/widgets/nickName/form.ts","webpack:///./src/electron_browser/applets/messageBoard/obs.vue?780a","webpack:///./src/electron_browser/applets/vote/index.vue?6eef","webpack:///./src/electron_browser/api/room.ts","webpack:///./src/electron_browser/components/base/sidebars/sidebarBase.vue?0bda","webpack:///./src/electron_browser/components/base/frames/contentFrame.vue?bc90","webpack:///./src/electron_browser/components/danmakuFlow/danmakuRow.vue?e8f3","webpack:///./src/electron_browser/components/danmakuFlow/widgets/index.ts","webpack:///./src/electron_browser/components/danmakuFlow/danmakuRow.vue","webpack:///./src/electron_browser/components/danmakuFlow/danmakuRow.vue?77d2","webpack:///./src/electron_browser/components/danmakuFlow/danmakuRow.vue?f854","webpack:///./src/electron_browser/util_function/eventBus.ts","webpack:///./src/electron_browser/api/user.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/mainBlock/form.ts","webpack:///./src/electron_browser/components/superChat/utils/data.ts","webpack:///./src/electron_browser/datas/styleOptions.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/nickName/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/nickName/index.vue?216c","webpack:///./src/electron_browser/components/danmakuFlow/widgets/nickName/index.vue?943d","webpack:///./src/electron_browser/applets/giftVote/obs.vue?4fdc","webpack:///./src/electron_browser/components/base/frames/rowFrame.vue","webpack:///./src/electron_browser/components/base/frames/rowFrame.vue?bd86","webpack:///./src/electron_browser/components/base/frames/rowFrame.vue?1b2c","webpack:///./src/electron_browser/texts/login.ts","webpack:///./src/electron_browser/texts/common.ts","webpack:///./src/electron_browser/texts/welcome.ts","webpack:///./src/electron_browser/texts/footer.ts","webpack:///./src/electron_browser/util_function/storeWorker/shared.worker.js","webpack:///./src/electron_browser/util_function/storeWorker/index.ts","webpack:///./src/electron_browser/applets/robot/index.vue?8f72","webpack:///./src/electron_browser/components/danmakuFlow/widgets/richText/form.ts","webpack:///./src/electron_browser/api/robot.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/richText/default.ts","webpack:///./src/electron_browser/components/base/list/base.vue","webpack:///./src/electron_browser/components/base/list/base.vue?e17e","webpack:///./src/electron_browser/components/base/list/base.vue?0558","webpack:///./src/electron_browser/applets/messageBoard/obs.vue","webpack:///./src/electron_browser/applets/messageBoard/obs.vue?79ad","webpack:///./src/electron_browser/datas/stream.ts","webpack:///./src/electron_browser/datas/user.ts","webpack:///./src/electron_browser/applets/randomImage/obs.vue","webpack:///./src/electron_browser/applets/randomImage/obs.vue?29f8","webpack:///./src/electron_browser/components/base/texts/iconCounter.vue","webpack:///./src/electron_browser/components/base/texts/iconCounter.vue?e9b7","webpack:///./src/electron_browser/components/base/texts/iconCounter.vue?a118","webpack:///./src/electron_browser/components/danmakuFlow/widgets/giftBlock/form.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/giftBlock/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/giftBlock/index.vue?2b0b","webpack:///./src/electron_browser/components/danmakuFlow/widgets/giftBlock/index.vue?24df","webpack:///./src/electron_browser/components/danmakuFlow/widgets/timestamp/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/timestamp/index.vue?0a4f","webpack:///./src/electron_browser/components/danmakuFlow/widgets/timestamp/index.vue?c03a","webpack:///./src/electron_browser/components/base/sidebars/sidebarBase.vue","webpack:///./src/electron_browser/components/base/sidebars/sidebarBase.vue?93c6","webpack:///./src/electron_browser/components/base/sidebars/sidebarBase.vue?0791","webpack:///./src/electron_browser/components/danmakuFlow/utils/form.ts","webpack:///./src/electron_browser/datas/temp.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/giftBlock/index.vue?9fe2","webpack:///./src/electron_browser/components/base/imgInput/imgInpuText.vue","webpack:///./src/electron_browser/components/base/imgInput/imgInpuText.vue?2e00","webpack:///./src/electron_browser/components/base/imgInput/imgInpuText.vue?885f","webpack:///./src/electron_browser/components/danmakuFlow/utils/tester.ts","webpack:///./src/electron_browser/applets/danmakuSong/index.vue","webpack:///./src/electron_browser/applets/danmakuSong/index.vue?8f15","webpack:///./src/electron_browser/layouts/applets/index.vue?ea82","webpack:///./src/electron_browser/util_function/clipboard.ts","webpack:///./src/electron_browser/api/utils/websocket.ts","webpack:///./src/electron_browser/applets/danmakuSongPicker/obs.vue","webpack:///./src/electron_browser/applets/danmakuSongPicker/obs.vue?a1b8","webpack:///./src/electron_browser/components/base/heros/base.vue?6b4f","webpack:///./src/electron_browser/components/danmakuFlow/widgets/content/form.ts","webpack:///./src/electron_browser/util_function/base.ts","webpack:///./src/electron_browser/api/server.ts","webpack:///./src/electron_browser/applets/randomVideo/index.vue?6f19","webpack:///./src/electron_browser/util_function/file.ts","webpack:///./src/electron_browser/util_function/system.ts","webpack:///./src/electron_browser/components/base/imgInput/imgInputBase.vue","webpack:///./src/electron_browser/components/base/imgInput/imgInputBase.vue?f62b","webpack:///./src/electron_browser/components/base/imgInput/imgInputBase.vue?c343","webpack:///./src/electron_browser/applets/randomVideo/obs.vue","webpack:///./src/electron_browser/applets/randomVideo/obs.vue?6633","webpack:///./src/electron_browser/datas/danmaku.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/richText/index.vue?ec8b","webpack:///./src/electron_browser/components/base/imgInput/imgInpuClip.vue","webpack:///./src/electron_browser/util_function/imgTool.ts","webpack:///./src/electron_browser/components/base/imgInput/imgInpuClip.vue?1203","webpack:///./src/electron_browser/components/base/imgInput/imgInpuClip.vue?2710","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?746c","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?9c9e","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?9a6e","webpack:///./src/electron_browser/directives/menu/index.ts","webpack:///./src/electron_browser/components/base/footers/footerBase.vue","webpack:///./src/electron_browser/components/base/footers/footerBase.vue?e20f","webpack:///./src/electron_browser/components/base/footers/footerBase.vue?57a7","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?2b27","webpack:///./src/electron_browser/components/base/frames/rowFrame.vue?9969","webpack:///./src/electron_browser/components/danmakuFlow/widgets/nickName/default.ts","webpack:///./src/electron_browser/layouts/applets/index.vue?c39e","webpack:///./src/electron_browser/util_function/exportTo.ts","webpack:///./src/electron_browser/components/danmakuFlow/widgets/normalBlock/default.ts","webpack:///./src/electron_browser/components/base/imgInput/imgInputStatic.vue","webpack:///./src/electron_browser/components/base/imgInput/imgInputStatic.vue?d1da","webpack:///./src/electron_browser/components/base/imgInput/imgInputStatic.vue?7e33","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?dba4","webpack:///./src/electron_browser/test/index.ts","webpack:///./src/electron_browser/router/clientRouter.ts","webpack:///./src/electron_browser/applets/vote/obs.vue?fc3b","webpack:///./src/electron_browser/store/state.ts","webpack:///./src/electron_browser/layouts/main/index.vue?b7c8","webpack:///./src/electron_browser/components/base/frames/rowSpan.vue?f426","webpack:///./src/electron_browser/applets sync ^\\.\\/.*$","webpack:///./src/electron_browser/applets/index.ts","webpack:///./src/electron_browser/components/base/texts/titleScrolling.vue","webpack:///./src/electron_browser/components/base/texts/titleScrolling.vue?38cc","webpack:///./src/electron_browser/components/base/texts/titleScrolling.vue?a703","webpack:///./src/electron_browser/components/danmakuFlow/widgets/medalDegree/index.vue?366a","webpack:///./src/electron_browser/App.vue?f6bd","webpack:///./src/electron_browser/components/danmakuFlow/utils/getter.ts","webpack:///./src/electron_browser/layouts/main/index.vue","webpack:///./src/electron_browser/components/statusBar/index.vue","webpack:///./src/electron_browser/components/statusBar/index.vue?72e9","webpack:///./src/electron_browser/components/statusBar/index.vue?2cb8","webpack:///./src/electron_browser/components/system/topbars/withAvatar.vue","webpack:///./src/electron_browser/components/system/topbars/withAvatar.vue?0d9e","webpack:///./src/electron_browser/layouts/main/index.vue?265c","webpack:///./src/electron_browser/styles/index.scss?d70c","webpack:///./src/electron_browser/applets/randomImage/index.vue?b283","webpack:///./src/electron_browser/components/base/imgInput/imgInpuText.vue?57d7","webpack:///./src/electron_browser/components/danmakuFlow/widgets/mainBlock/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/widgets/mainBlock/index.vue?3558","webpack:///./src/electron_browser/components/base/imgInput/imgInputBase.vue?11ba"],"names":["class","appear","name","mode","key","title","props","render","__scopeId","style","settings","backgroundImage","status","size","lotteryType","max-height","value","label","showChance","giftName","gifts","gift","giftID","keyword","maxlength","placeholder","lotteryNum","min","type","lotteryPool","length","rate","getLucky","luckyPool","user","userID","nickName","open","pending","reset","disabled","save","indexOf","settingShow","upgradeSettings","opacity","max","loading","cname","icon","description","configurations","width","height","resizable","multiple","liveOnly","voterShow","regexp","zoom","timer","changedDanmaku","userProfile","roomProfile","Object","assign","this","$store","state","tester","addPool","filter","danmaku","$emit","showSetting","onOpen","getGift","loadSettings","window","onbeforeunload","saveSettings","clearTimeout","computed","toFixed","methods","str","forEach","lucker","Date","toTimeString","uid","currentSelected","firstTime","pool","now","Math","shift","select","splice","unshift","requestAnimationFrame","retry","Boolean","liveID","login","account","password","res","getGiftList","error","setTimeout","testerArr","voteItem","map","item","RegExp","join","danmakus","find","shouldadd","match","trim","count","person","localStorage","getItem","$options","JSON","parse","document","body","setProperty","setItem","stringify","config","degree","verticalAlign","position","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","backgroundColor","borderRadius","borderWidth","borderColor","degreeStyle","fontSize","fontWeight","color","fontStyle","textDecoration","textShadowWidth","textShadowColor","nameStyle","rotateZ","overflow","catrgory","currentWs","startDanmaku","session","startCallback","danmakuCallback","endCallback","errorCallback","ws","wsl","start","then","judge","e","data","includes","removeEventListener","console","log","addEventListener","catch","err","Error","finally","liverUID","stop","validate","encodec","streamName","getCurrentStastic","content","period","startRobot","stopRobot","preContent","robotTimer","registerOBS","sendMessage","message","duration","chat","userSession","deviceID","serviceToken","visitorId","liveId","wsEmit","register","getRule","rules","sort","a","b","triggerValue","ruleIndex","findIndex","rule","nextLevel","nextRule","scFromDanmaku","ruleData","timestamp","number","avatar","listEndTime","listDuration","panelEndTime","createTime","scAdd","block","newValue","newNumber","scGiftHandler","store","getters","superChatEnable","superChatSetting","danmakuProfile","common","superChat","temp","superChatID","superChatBlock","exist","superChatArray","scBlock","push","emit","scTextHandler","streamStatus","step","enable","webEnable","output","roomCategorys","subCategory","categoryID","categoryName","children","subCategoryName","subCategoryID","values","danmakuList","danmakuSession","filterFlow","isElectron","toolBox","web","mutations","replaceState","sessionStorage","streamInfo","profile","roomSetInfo","setProfile","getRank","rank","list","managerList","streamSession","streamEncodec","rawFlow","profileDetail","commit","roomStatus","liveDurationTimer","setInterval","liveDuration","getTime","Number","liveStartTime","clearInterval","giftTimer","statistic","styleType","settingOfType","settingType","setting","tempInfo","getManagerList","addManager","removeManager","kickOutPerson","blackList","i","likeList","tempLike","requestList","like","isStreaming","Promise","allSettled","info","id","nickname","isLiving","needMention","isLive","likeTemp","dangerouslyUseHTMLString","offset","replaceAll","keywords","minify","empty","danmakuText","danmakuLike","danmakuEnter","needMetion","current","enterTime","danmakuSubscribe","danmakuGift","danmakuRichText","danmakuJoinClub","signalBanana","signalAudience","watchingCount","danmakuHistory","filteredFlow","mock","commonSettings","filterUpdate","warning","violationContent","danmakuHandler","1000","1001","1002","1003","1004","1005","1006","1007","2000","2001","2002","2003","2004","2005","2100","2101","2102","2103","3000","3001","3002","streamStatusTimer","actions","resolve","reject","dispatch","init","onClose","userData","tokenInfo","liveAuth","String","filtered","hasCombined","robotSetting","shouldRead","Array","isArray","ignoreOwner","filters","emojiTester","handler","StreamInfo","preStage","streamStartInfo","async","close","questionList","question","isActive","toTop","detailText","detail","remove","owner","ownerAddQuestion","cooldown","disappearWhenCool","ticket","filterable","allow-create","index","titleOutline","model-value","url","append","copy","location","host","currentQuestion","lastQuestionTime","giftSended","Set","blackListRegex","add","canBeQuestion","replace","has","delete","addQuestion","on","force","q","isQuestion","createBLRegex","matches","time","getQuestion","properties","zIndex","left","right","top","bottom","addItem","showIndex","norepeat","voteUserID","addVote","generateTester","found","subTitle","webpackAsyncContext","req","__webpack_require__","o","code","keys","module","exports","sizes","padding","result","attrs","attr","margin","border","outerBox","background","backgroundSize","degreeColor","colors","level","positions","font","textShadow","fontName","querySelector","head","styleEle","createElement","appendChild","createTextNode","fontFamily","transform","getImage","needGift","imageApi","fetch","getMedal","clubName","widgetOptions","avaliable","limit","required","default","configMode","settingValue","settingForm","preview","getSpecificColor","specificColor","specificBackgroundColor","specificBorderColor","webpackContext","webpackContextResolve","display","text","ownerStyle","ownerTitle","manager","managerStyle","managerTitle","waitList","sending","realChat","videoId","videoNum","parseInt","random","logout","restart","showCancelButton","confirmButtonText","cancelButtonText","restartConfirmed","clear","contentClass","songInfo","author","autoplay","controls","src","playingSingle","lyricReverse","lyric","active","playing","startSong","song","switchTo","addType","search","addSongSearch","source","coolingTime","feedback","allowSwitch","switchCooling","wsUpdate","giftValue","peopleBlackList","collapse-tags","keywordBlackList","playSongListWhenEmpty","songListID","getSongList","songList","translateFirst","titleSize","titleColor","titleShadow","lyricSize","lyricColor","lyricShadow","lyricOutline","sendedGift","feedbackArray","cooling","playIndex","feedbackTimer","lyricloading","autoPlay","lyricInfo","lyrics","superRight","playTime","lastSwitchTime","addSong","checkFeedback","addAudioListeners","reverse","lrc","xhr","XMLHttpRequest","onloadend","responseText","playlist","trackIds","msg","send","songid","tlyric","lrcs","split","lrcList","lrca","splitted","reduce","acc","audio","lyriclist","ontimeupdate","currentTime","lyricChanged","generateLyric","lyricObj","ly","$nextTick","scrollTop","offsetTop","onerror","onstalled","onended","shorten","part","slice","substr","songName","formData","FormData","setRequestHeader","URLSearchParams","toString","getSong","newSong","isOwner","su","remaining","searchSong","switchSong","nameAndAuthor","isNaN","listNum","types","Filter","giftList","enterList","maxNum","clubLevel","hasBlackList","hasKeywordBlocked","needFreeze","u","clubOnly","combineLike","l","combineCount","combineEnter","enter","combineGift","expire","g","freeze","newDanmaku","OldDanmaku","filterMaxnium","menu","isManager","isBlackList","isLikeList","show","event","typeOptions","giftTypeOptions","styleConfig","danmakuType","widgets","format","preffix","affix","danmakuStatus","errorText","liverProfile","components","flow","liverInfo","visitor","speed","hightLight","boss","concerned","animation","json","toANY","obj","tostring","liveCover","panoramic","bizUnit","bizCustomData","liveType","category","hasFansClub","likeCount","onlineCount","portrait","paidShowUserBuyStatus","disableDanmakuShow","giftCount","diamondCount","bananaCount","watchCount","rankList","medalCount","hasMedal","userFriendshipDegree","userRank","getRichText","WsEvent","super","registered","checkRegister","clientID","realData","sourceID","eventName","targetID","promise","wsevent","getContent","emotion","emojiMatcher","matcher","matchAll","emotionMax","replacement","scale","emojis","emoji","regex","pattern","addMovingListener","startX","screenX","startY","screenY","winPosition","getPosition","setPosition","evt","innerHeight","innerWidth","setBounds","x","y","once","process","prefix","span","$route","meta","hasSetting","isTop","setTop","minimize","Component","$event","HandlerMoving","reload","classList","path","component","action","noElectron","routes","appletRouter","router","history","beforeEach","to","from","next","fullPath","isLogined","initGlobalComp","vm","requireComponent","fileName","componentConfig","dpiOptions","dpiOption","dpiHandler","dpi","devicePixelRatio","logger","lg","stack","version","reason","globalMethods","registerMethod","app","App","use","mount","$attrs","reference","align","leaveScroll","scrollable","danmakuLists","currentRow","getKey","getSetting","danmakuRow","directives","scrollObserver","undefined","scrollTimer","MutationObserver","scrollToBottom","observe","$el","childList","subtree","disconnect","off","that","scrollTo","scrollHeight","behavior","getProfile","getDonate","getAudience","managerUID","kickedUID","labelEn","styleForm","styleValue","widget","config-mode","getUserInfo","Event","events","fn","superChatBlockSetting","theme","backgroundType","backgroundPosition","backgroundDynamic","backgroundSizeType","backgroundOpacity","listStyle","panelStyle","themeID","showed","contentDefaultClass","flex","disclaimer","welcomeLogo","welcomeText","unstreamable","welcome","blocks","footer","base","wrap","SharedWorker_fn","SharedWorker","__webpack_public_path__","_worker","addChangedDanmaku","openWorker","closeWorker","port","postMessage","registerHost","worker","onmessage","states","registerClient","requireArray","callback","readObj","reading","read","rtype","api","volume","comboReading","contentI","origin","realRead","reader","selected","emptytip","classIndex","textStyle","remain","miniFormat","colorList","colorIndex","timeCounter","watch","n","padStart","connected","underway","streamPullAddress","streamPushAddress","interval","rtmpServer","streamKey","bitrate","qualityType","qualityName","streamUrl","resolution","frameRate","template","signature","verifiedText","followingCount","fansCount","contributeCount","avatarFrame","securityKey","cookies","num","increaseAni","decreaseAni","ani","noInPicture","form","ref","picture","giftDetail","webpPic","gname","price","getGiftValue","img","$refs","fromUnixTime","contents","row","route","$router","stringF","others","booleanF","integerF","numberF","multipleOf","colorF","showAlpha","gradientF","fontF","backgroundImageF","selectF","options","eNum","eNumNames","enum","enumNames","degreeF","minItems","items","fit","modelValue","getBaseName","getFile","basename","file","hasTime","hasAvatar","hasNickName","hasContent","hasGift","userInfo","isNormalDanmaku","sameGift","danmakuA","danmakuB","samePerson","basicComponentTester","addToBlackList","pass","sang","nosing","hasSong","clipboard","copyText","writeText","baseUrl","hostname","wsStatus","timeout","online","wsPromise","method","timeoutD","readyState","requestID","role","lyticStyle","titleStyle","randomId","Num","floor","removePunctuation","removePunctuationSpace","escapeRegExp","string","sleep","dist","isUrl","test","registerRole","win","heartbeat","ready","heartBeatCount","isOnline","isConnecting","heartBeat","startHeatBeat","WebSocket","onopen","onclose","load","filetype","fileEle","accept","click","onfocus","onchange","files","loadAsText","fileType","FileReader","onload","readAsText","require","remote","ipcRenderer","getCurrentWindow","startApplet","appletConfig","setIgnoreMouseEvent","ignore","setResizeable","isResizeable","backendRestart","args","launch","srcUrl","distUrl","uploadImage","imageUrl","extname","uploadBase64Image","b64","saveConfig","loadConfig","restoreConfig","backupConfig","saveSuperChat","loadSuperChat","getFontList","uploadFont","fontUrl","sendChat","windowsRead","xfRead","Audio","play","robots","kdxf","showTips","loadFile","tips","editable","blob","preventDefault","buttons","File","dataTransfer","kind","getAsFile","srcElement","readAsDataURL","loop","webSettings","robotRule","apiSecret","appID","apiKey","voiceName","clientSettings","showNextLevel","displayType","generalSettings","streamToolPath","general","lazy","custom-class","clipDialog","editImg","crop","aspect-ratio","alt","BlobtoB64","VueCropper","edit","cropImg","cropper","getCroppedCanvas","toDataURL","call","getBoundingClientRect","offsetHeight","offsetWidth","rightClickMenuListB","rightClickMenuList","element","addBlurListener","judgeBlur","directive","el","binding","clientX","clientY","toJSON","saveAs","Blob","toTXT","redirect","stateFunc","serverOnline","isReconnect","clientApplets","obsApplets","founded","clientAppPath","obsAppPath","hasClient","hasObs","clientConfig","obsConfig","observer","observerTimer","titleMove","mounted","addObserver","immediate","parent","child","firstChild","getMove","move","ResizeObserver","getDanmuInfo","danmuInfo","fansInfo","joinTime","sendTime","setTime","medal","getMedalLevel","getMedalName","getAvatar","getNickName","getUID","getDanmakuType","getGiftName","getGiftNumber","payWalletType","segments","segment","robotGetters","getterOptions","isUnfold","element-loading-background","unfold","currentComp","mainPanel","shrink","checkTimeout","handleStatusChange","sendSession","sendSettings","registerWS","placement","dropdown","streaming","direction","HandlerWindow","statusBar","topbarAvatar"],"mappings":"gPACMA,MAAM,gB,GAKNA,MAAM,gB,0HALX,yBAIM,MAJN,EAIM,CAHL,yBAEa,iBAFDC,OAAA,GAAOC,KAAK,OAAOC,KAAK,U,WACnC,IAAmC,E,yBAAnC,yBAAmC,QAA5BC,IAAK,EAAAC,OAAK,6BAAI,EAAAA,OAAK,M,QAG5B,yBAEM,MAFN,EAEM,CADL,wBAAQ,uB,MAKK,OACdH,KAAM,aACNI,MAAO,CAAC,U,UCTT,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,6LCNRR,MAAM,gB,GACNA,MAAM,a,GACLA,MAAM,O,EACV,yBAA8B,QAAxBA,MAAM,UAAS,MAAE,G,GAGnBA,MAAM,O,EACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,GAMvBA,MAAM,O,EACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,SAGvBA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,SAKrBA,MAAM,O,EACV,yBAAiC,QAA3BA,MAAM,UAAS,SAAK,G,GAGtBA,MAAM,O,EACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,GAGvBA,MAAM,O,+BACyD,Q,GAIhEA,MAAM,a,GACLA,MAAM,O,SACJA,MAAM,U,SACNA,MAAM,U,GAERA,MAAM,O,GACJA,MAAM,U,GAERA,MAAM,O,EAGX,yBAA6C,OAAxCS,MAAA,+BAAiC,S,GACjCT,MAAM,O,+BACmE,M,GAI1EA,MAAM,a,GACLA,MAAM,MAAMS,MAAA,kD,GACXA,MAAA,kD,GAEGT,MAAM,U,+BAC4E,Q,GAItFA,MAAM,O,+BAE6F,Q,GAInGA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,okBA1EZ,yBA8EM,OA9EDA,MAAM,QAA6BS,MAAK,wBAA0B,EAAAC,SAASC,qB,CAC/E,yBAA+E,MAA/E,EAA+E,6BAA7C,YAAN,EAAAC,OAAM,iBAA8B,EAAAP,OAAK,G,4BACrE,yBAkCM,MAlCN,EAkCM,CAjCL,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAwC,GAA9BQ,KAAK,O,WAAgB,EAAAR,M,qCAAA,EAAAA,MAAK,I,yBAErC,yBAMM,MANN,EAMM,CALL,EACA,yBAGY,GAHDQ,KAAK,O,WAAgB,EAAAC,Y,qCAAA,EAAAA,YAAW,GAAEC,aAAW,S,WACvD,IAA2C,CAA3C,yBAA2C,GAAhCC,MAAM,UAAUC,MAAM,UACjC,yBAA2C,GAAhCD,MAAM,OAAOC,MAAM,e,yBAGhC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAkC,G,WAAd,EAAAC,W,qCAAA,EAAAA,WAAU,I,yBAEG,QAAX,EAAAJ,a,yBAAvB,yBAKM,MALN,EAKM,CAJL,EACA,yBAEY,GAFDD,KAAK,O,WAAgB,EAAAM,S,qCAAA,EAAAA,SAAQ,GAAEnB,MAAM,uB,WACpC,IAAqB,E,2BAAhC,yBAAoG,2CAA1E,EAAAoB,MAARC,I,yBAAlB,yBAAoG,GAAlEjB,IAAKiB,EAAKC,OAASN,MAAOK,EAAKF,SAAWF,MAAOI,EAAKF,U,qGAGxD,WAAX,EAAAL,a,yBAAvB,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA7ED,KAAK,O,WAAgB,EAAAU,Q,qCAAA,EAAAA,QAAO,GAAGC,UAAW,GAAIC,YAAY,kB,iEAErE,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA6D,GAA5CZ,KAAK,O,WAAgB,EAAAa,W,qCAAA,EAAAA,WAAU,GAAGC,IAAK,G,yBAEzD,yBAGM,MAHN,EAGM,CAFL,yBAAmF,GAAxEd,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAhB,OAAM,e,WAAe,IAAI,C,+BA/BpC,WAAN,EAAAA,U,4BAmC/B,yBAgBM,MAhBN,EAgBM,CAfL,yBAGM,MAHN,EAGM,CAFiC,WAAX,EAAAE,a,yBAA3B,yBAAgF,OAAhF,EAAmD,SAAM,6BAAE,EAAAS,SAAS,QAAK,K,yBACzE,yBAA0D,OAA1D,EAA4B,SAAM,6BAAE,EAAAJ,UAAU,QAAK,MAEpD,yBAEM,MAFN,EAEM,CADL,yBAAyD,OAAzD,EAAqB,KAAE,6BAAE,EAAAU,YAAYC,QAAQ,QAAK,KAEnD,yBAEM,MAFN,EAEM,C,4BADL,yBAA+E,QAAzE9B,MAAM,UAA6B,KAAE,6BAAE,EAAA0B,YAAY,UAAO,6BAAE,EAAAK,MAAI,M,YAAzC,EAAAb,gBAE9B,EACA,yBAGM,MAHN,EAGM,CAFL,yBAA2F,GAAhFL,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAI,YAAYvB,MAAA,gB,WAAmB,IAAE,C,+BAb5C,cAAN,EAAAG,U,4BAiB/B,yBAaM,MAbN,EAaM,CAZL,yBAOM,MAPN,EAOM,CANL,yBAKM,MALN,EAKM,E,2BAJL,yBAGM,2CAH8F,EAAAqB,UAARC,I,yBAA5F,yBAGM,OAHDzB,MAAA,sFAA2GL,IAAK8B,EAAKC,Q,CACzH,yBAA6C,OAA7C,EAA6C,6BAAtBD,EAAKE,UAAQ,G,4BACpC,yBAAwG,GAA7FvB,KAAK,OAAOe,KAAK,UAAkC,QAAK,GAAE,EAAAS,KAAKH,EAAKC,S,WAAS,IAAI,C,yCAA7CD,EAAKI,e,UAIvD,yBAGM,MAHN,EAGM,CAFL,yBAAuJ,GAA5IzB,KAAK,OAAOe,KAAK,UAAW,QAAO,EAAAW,MAAQC,SAAgB,aAAN,EAAA5B,OAAqBH,MAAA,gB,WAAmB,IAAmC,C,0DAA3B,aAAN,EAAAG,OAAM,kB,+BAChH,yBAAuH,GAA5GC,KAAK,OAAOe,KAAK,UAAW,QAAO,EAAAa,KAAOD,SAAgB,aAAN,EAAA5B,OAAqBH,MAAA,gB,WAAmB,IAAI,C,iFAXrDiC,QAAQ,EAAA9B,SAAM,KActE,yBASY,G,WATQ,EAAA+B,Y,uCAAA,EAAAA,YAAW,I,WAC9B,IAGM,CAHN,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuD,G,WAA5B,EAAAjC,SAASC,gB,qCAAT,EAAAD,SAASC,gBAAe,I,yBAEpD,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA3E,SAAQ,EAAAiC,gB,WAA0B,EAAAlC,SAASmC,Q,uCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,uEA3ErD,EAAAC,a,uHAoGhB,+BAAgB,CAC9B7C,KAAM,UACN8C,MAAO,OACPC,KAAM,mBACNC,YACC,wCACDC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNT,SAAS,EACTJ,aAAa,EACbc,WAAW,EACX7C,OAAQ,UACRP,MAAO,GACPc,SAAU,GACVI,QAAS,GACTT,YAAa,UACbY,WAAY,EACZR,YAAY,EACZW,YAAa,GACbI,UAAW,GACXyB,OAAQ,GACRhD,SAAU,CACTmC,QAAS,GACTc,KAAM,IACNhD,gBAAiB,IAElBiD,MAAO,OAGT,UACC,eACC,CAAC,iBAAkB,cAAe,eAClC,EAAGC,iBAAgBC,cAAaC,kBAC/BC,OAAOC,OAAOC,KAAKC,OAAOC,MAAO,CAAEN,cAAaC,gBAChD,MAAMM,EACgB,SAArBH,KAAKpD,YAAyB,OAAU,OACzCoD,KAAKI,QAAQT,EAAeU,OAAOC,GAAWH,EAAOG,OAGvDN,KAAKO,MAAM,aAAcP,KAAKQ,aAC9B,kBAAK,CACJC,OAAQ,KACPT,KAAKU,aAIPV,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENE,SAAU,IACN,eAAS,CAAC,cAAe,gBAC5B,OACC,OAAIhB,KAAKrC,YAAYC,QAAUoC,KAAKxC,WAC5B,QAGa,IAAlBwC,KAAKxC,WAAoBwC,KAAKrC,YAAYC,QAAQqD,QAAQ,GAC5D,MAIHC,QAAS,CACR,OACC,IAAIC,EAAM,GACVnB,KAAKjC,UAAUqD,QAAQC,IACtBF,GAAQ,GACPE,EAAOnD,aACF,0BAAyBmD,EAAOpD,cAEvC,gBAAS,IAAIqD,MAAOC,eAAb,QAAoCJ,IAE5C,KAAKK,GACJZ,OAAOzC,KAAM,0BAAyBqD,IAEvC,QACCxB,KAAKrC,YAAc,GACnBqC,KAAKjC,UAAY,GACjBiC,KAAKtD,OAAS,WAEf,SAAS+E,EAAkB,KAAMC,EAAY,EAAGC,EAAO,MAAM,MAI5D,GAHA3B,KAAKtD,OAAS,YACTiF,IAAMA,EAAO,IAAI3B,KAAKrC,cACT,IAAd+D,IAAiBA,EAAYJ,KAAKM,OAErC5B,KAAKjC,UAAUH,OACfiE,KAAKpE,IAAIuC,KAAKxC,WAAYwC,KAAKrC,YAAYC,QAI3C,OAFAoC,KAAKtD,OAAS,gBACdsD,KAAKjC,UAAU+D,QAahB,GAVIR,KAAKM,MAAQF,EAAY,KAAOD,IAC/BzB,KAAKjC,UAAU,GAAGK,QACrB4B,KAAKjC,UAAU,GAAK0D,EAEpBzB,KAAKjC,UAAU+D,MAAML,GAEtBzB,KAAKjC,UAAY,IAAIiC,KAAKjC,WAC1B0D,EAAkB,KAClBC,EAAYJ,KAAKM,QAEbH,EAAiB,CACrB,MAAMM,EAAS,IAAO,EAAGJ,EAAK/D,OAAS,GACvC,GAAImE,EAAS,EAEZ,YADA/B,KAAKtD,OAAS,YAGf+E,EAAkBE,EAAKK,OAAOD,EAAQ,GAAG,GACzC/B,KAAKjC,UAAUkE,QAAQ,CACtBhE,OAAQ,EACRC,SAAU,GACVE,SAAS,IAGX,UAAI4B,KAAKjC,UAAU,UAAnB,OAAI,EAAmBK,UACtB4B,KAAKjC,UAAU,GAAK,IAChB4D,EAAK,IAAO,EAAGA,EAAK/D,OAAS,IAChCQ,SAAS,GAEV4B,KAAKjC,UAAY,IAAIiC,KAAKjC,YAE3BmE,sBAAsB,KACrBlC,KAAKlC,SAAS2D,EAAiBC,EAAWC,MAG5C,gBACC,IAAIQ,EAAQC,QAAQpC,KAAKH,YAAYwC,QACrC,GAAIF,EACH,UACO,OAAKG,MAAM,CAChBC,QAAS,GACTC,SAAU,KAEX,MAAMC,QAAY,OAAKC,YAAY,CAClCL,OAAQrC,KAAKH,YAAYwC,SAE1BrC,KAAK9C,MAAQuF,EACZ,MAAOE,GACRR,GAAQ,EAGLA,GACJS,WAAW,KACV5C,KAAKU,WACH,MAGL,iBACC,MAAMmC,EAAY7C,KAAK8C,SAASC,IAAIC,GAC5BA,EAAK3F,SAEb2C,KAAKR,OAAS,IAAIyD,OAAOJ,EAAUK,KAAK,KAAM,MAE/C,QAAQC,GACPA,EAAS/B,QAAQd,IAAW,MAC3B,MAAMkB,EAAM,eAAOlB,GACnB,GAAIN,KAAKrC,YAAYyF,KAAKpF,GAAQA,EAAKC,SAAWuD,GACjD,OAED,IAAI6B,GAAY,EAChB,OAAQrD,KAAKpD,aACZ,IAAK,OACJyG,EAAY,eAAY/C,KAAaN,KAAK/C,SAC1C,MACD,IAAK,UACJoG,EAAYjB,QAAO,UAClB,eAAW9B,UADO,aAClB,EAAqBgD,MAAMtD,KAAK3C,QAAQkG,SAGvCF,IACHrD,KAAKrC,YAAc,IACfqC,KAAKrC,YACR,CACCM,OAAQuD,EACRtD,SAAU,eAAYoC,SAM3B,UACCN,KAAK8C,SAAW,IACZ9C,KAAK8C,SACR,CACCzF,QAAS,GACTmG,MAAO,EACPC,OAAQ,MAIX,cACCzD,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBoF,SAASC,KAAKzH,MAAM0H,YAAY,SAAajE,KAAKxD,SAASiD,KAAhB,MAE5C,eACCiE,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UChUxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,6DCRf,W,oCCAA,W,oCCAA,OAAe,kBACP,CACN8H,OAAQ,CACPC,QAAQ,EACRrI,MAAM,GAEPO,MAAO,CACN+H,cAAe,SACfC,SAAU,WACVC,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,uBACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,sBAEdC,YAAa,CACZd,cAAe,SACfC,SAAU,WACVc,SAAU,GACVC,WAAY,SACZC,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,GACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,yBACjBC,aAAc,GACdC,YAAa,EACbC,YAAa,QAEdS,UAAW,CACVtB,cAAe,SACfe,SAAU,GACVC,WAAY,UACZC,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,GACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,W,oCCjEhB,W,oCCAA,OAAe,kBACP,CACNf,OAAQ,GACR7H,MAAO,CACNsJ,QAAS,EACTC,SAAU,UACVtB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,GACXC,aAAc,EACdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,OACbb,cAAe,a,0zBChBX,MAAMyB,EAAW,IAEhB,eAAU,cAAe,CAC/BrI,KAAM,MCFR,IAAIU,GAAU,EACV4H,EAAiB,KACd,MAAMC,EAAe,CAC3BC,GACEC,gBAAeC,kBAAiBC,cAAaC,oBAE/C,GAAIlI,EACH,OAEDA,GAAU,EAEV,MAAMmI,EAAK3F,OAAO4F,IAElB,OAAOC,EAAMP,GACXQ,KAAKjE,IACL,MAAMkE,EAASC,IACd,MAAMC,EAAOhD,KAAKC,MAAM8C,EAAEC,MAC1B,GAAI,CAAC,KAAM,IAAK,KAAMC,SAASD,EAAKnJ,MAWnC,OAVE,OAAF6I,QAAE,IAAFA,KAAIQ,oBAAoB,UAAWJ,GACnCX,EAAY,KACR,CAAC,MAAMc,SAASD,EAAKnJ,QACxBsJ,QAAQrE,MAAM,uBACV2D,GAAeA,UAEhB,CAAC,IAAM,KAAKQ,SAASD,EAAKnJ,QAC7BsJ,QAAQC,IAAI,qBACRZ,GAAaA,MAIfQ,EAAKnJ,MAAQ,KACZ0I,GAAiBA,EAAgBS,IAGnCN,IAAOP,GAAavD,IACvB8D,EAAGW,iBAAiB,UAAWP,GAC/BX,EAAYO,GAGTJ,GAAeA,EAAc1D,KAEjC0E,MAAMC,IAIN,MAHAJ,QAAQrE,MAAMyE,GACdhJ,GAAU,EACNkI,GAAeA,IACb,IAAIe,MAAMD,KAEhBE,QAAQ,KACRlJ,GAAU,KAIAqI,EAASI,GAEd,eACN,mBACA,CACCnJ,KAAM,IACNmJ,KAAM,CACLU,SAAUV,EAAK5I,SAGjB,MAGWuJ,EAAQX,GAEb,eAAU,kBAAmB,CACnCnJ,KAAM,IACNmJ,KAAM,CACLU,SAAUV,EAAK5I,U,4BCvEX,MAAM,EAAS4I,GAEd,eAAU,aAAc,CAC9BnJ,KAAM,IACNmJ,SAIW,EAASxE,GAEd,eAAU,cAAe,CAC/B3E,KAAM,IACNmJ,KAAM,CACLxE,YAKUoF,EAAW,IAChB,eAAU,kBAAmB,CACnC/J,KAAM,MAIKwI,EAAU,IAEf,eAAU,mBAAoB,CACpCxI,KAAM,MAIKgK,EAAWC,GAEhB,eAAU,mBAAoB,CACpCjK,KAAM,IACNmJ,KAAM,CACLc,gB,gBCpCI,MAAMC,EAAoB,EAAGvF,YAE5B,eAAU,oBAAqB,CACrC3E,KAAM,IACNmJ,KAAM,CACLxE,Y,qLCNGvG,MAAM,S,EACV,yBAAkC,OAA7BA,MAAM,gBAAe,MAAE,G,GACvBA,MAAM,a,GACLA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,GAGrBA,MAAM,O,EACV,yBAAmC,QAA7BA,MAAM,UAAS,WAAO,G,GAGxBA,MAAM,O,+BACgD,M,+BACF,M,GAIpDA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,gUAlBZ,yBAsBM,MAtBN,EAsBM,CArBL,EACA,yBAaM,MAbN,EAaM,CAZL,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAmE,GAAzDa,KAAK,O,WAAgB,EAAAH,SAASqL,Q,qCAAT,EAAArL,SAASqL,QAAO,GAAGvK,UAAW,I,yBAE9D,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAmE,GAAlDX,KAAK,O,WAAgB,EAAAH,SAASsL,O,qCAAT,EAAAtL,SAASsL,OAAM,GAAGrK,IAAK,I,yBAE9D,yBAGM,MAHN,EAGM,CAFL,yBAAwE,GAA7DC,KAAK,UAAUf,KAAK,OAAQ,QAAO,EAAAoL,Y,WAAY,IAAE,C,wBAC5D,yBAAsE,GAA3DrK,KAAK,SAASf,KAAK,OAAQ,QAAO,EAAAqL,W,WAAW,IAAE,C,4BAG5D,yBAKY,G,WALQ,EAAAvJ,Y,qCAAA,EAAAA,YAAW,I,WAC9B,IAGM,CAHN,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA3E,SAAQ,EAAAC,gB,WAA0B,EAAAlC,SAASmC,Q,qCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,kKAerE,+BAAgB,CAC9B5C,KAAM,eACN8C,MAAO,QACPC,KAAM,eACNC,YAAa,oBACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACN9C,SAAU,CACTmC,QAAS,GACTc,KAAM,IACNoI,QAAS,GACTC,OAAQ,IAETrJ,aAAa,EACbwJ,WAAY,GACZC,WAAY,KACZxI,MAAO,OAGT,UACC,eAAe,CAAC,cAAe,eAAgBkH,IAC9C9G,OAAOC,OAAOC,KAAKC,OAAOC,MAAO0G,KAElC5G,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKmI,cACLnI,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENE,SAAU,IACN,eAAS,CAAC,cAAe,iBAE7BE,QAAS,CACR,aACCH,aAAaf,KAAKkI,YAClBlI,KAAKkI,WAAatF,WAAW,KAC5B5C,KAAKoI,eACH,KACH,IAAU,CACTC,QACC,4DACDC,SAAU,KACV5K,KAAM,aAGR,YACCqD,aAAaf,KAAKkI,YAClB,IAAU,CACTG,QAAS,QACTC,SAAU,KACV5K,KAAM,aAGR,cACCqD,aAAaf,KAAKkI,YACdlI,KAAKH,YAAYwC,QAAUrC,KAAKxD,SAASqL,SAC5C,OAAAU,EAAA,MAAK,CACJtK,OAAQ+B,KAAKwI,YAAYvK,OACzBwK,SAAUzI,KAAKwI,YAAYC,SAC3BC,aAAc1I,KAAKwI,YAAYE,aAC/B7B,KAAM,CACL8B,UAAW3I,KAAKwI,YAAYvK,OAC5B2K,OAAQ5I,KAAKH,YAAYwC,OACzBwF,QAAS7H,KAAKxD,SAASqL,WAI1B7H,KAAKkI,WAAatF,WAAW,KAC5B5C,KAAKoI,eACoB,IAAvBpI,KAAKxD,SAASsL,SAElB,cACC/G,aAAaf,KAAKN,OACb,yBAAe,4BAOnB,OAAQmJ,OACP,aACA,CACCnM,OAAQsD,KAAKtD,OACbP,MAAO6D,KAAK7D,MACZ2G,SAAU9C,KAAK8C,SACfrG,gBAAiBuD,KAAKxD,SAASC,gBAC/BmC,IAAKoB,KAAKpB,IACVa,KAAMO,KAAKxD,SAASiD,MAEpB,OAAMO,KAAK4D,SAAS5H,MAhBtB,kBAAK,CACJyE,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,SAkB5CgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,cACCnI,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBoF,SAASC,KAAKzH,MAAM0H,YAAY,SAAajE,KAAKxD,SAASiD,KAAhB,MAE5C,eACCiE,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCjKxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,4LCMR,MAAMyM,EAAU,CAACjM,EAAekM,KACtCA,EAAMC,KAAK,CAACC,EAAQC,IACZA,EAAEC,aAAeF,EAAEE,cAE3B,MAAMC,EAAYL,EAAMM,UACvBC,GAAQzM,EAAQ,KAAQyM,EAAKH,cAE9B,IAAII,EAAY,EAChB,GAAIH,EAAW,CACd,MAAMI,EAAWT,EAAMK,EAAY,GAC/BI,IACHD,EAAoC,IAAxBC,EAASL,aAAsBtM,GAG7C,MAAO,CACNyM,KAAMP,EAAMK,GACZG,cAIWE,EAAgB,CAACpJ,EAAcqJ,KAC3C,MAAMC,EAAYtI,KAAKM,OACjB,KAAE2H,EAAF,UAAQC,GAAcG,EAC5B,MAAO,IACH,oBACAJ,EACHzM,MAAO,eAAawD,GACpBuJ,OAAQ,eAAcvJ,GACtBpC,SAAU,eAAYoC,GACtBwJ,OAAQ,eAAUxJ,GAClByJ,YAAaH,EAAYL,EAAKS,aAC9BnC,QAAS,GACToC,aAAc,EACdC,WAAYN,EACZJ,YACAhI,IAAK,eAAOlB,KAID6J,EAAQ,CAACC,EAAY9J,EAAc0I,KAC/C,MAAMqB,EAAW,eAAa/J,GAAW8J,EAAMtN,MACzCwN,EAAY,eAAchK,GAAW8J,EAAMP,QAC3C,KAAEN,EAAF,UAAQC,GAAcT,EAAQsB,EAAUrB,GAS9C,OARIO,GAAQA,EAAKH,aAAegB,EAAMhB,eACrCgB,EAAML,YAAcK,EAAMF,WAAaX,EAAKS,cAE7CI,EAAMtN,MAAQuN,EACdD,EAAMP,OAASS,EACfF,EAAMZ,UAAYA,EAClBY,EAAMH,cAAgB,IACtBnK,OAAOC,OAAOqK,EAAOb,GACda,GAGKG,EAAgB,CAACjK,EAAckK,KAC3C,IAAKA,EAAMC,QAAQC,gBAClB,OAED,MAAMC,EAAmBH,EAAMtK,MAAM0K,eAAeC,OAAOC,UACrDC,EAAOP,EAAMtK,MAAM6K,MACnB,KAAExB,EAAF,UAAQC,GAAcT,EAC3B,eAAazI,GACbqK,EAAiB3B,OAElB,IAAKO,EACJ,OAED,GAAI,eAAOjJ,KAAayK,EAAKC,YAM5B,YALAD,EAAKE,eAAiBd,EACrBY,EAAKE,eACL3K,EACAqK,EAAiB3B,QAInB,MAAMkC,EAAQH,EAAKI,eAAe/H,KAChCgI,GAAiBA,EAAQ5J,MAAQ,eAAOlB,IAErC4K,GAGJf,EAAMe,EAAO5K,EAASqK,EAAiB3B,OACvC+B,EAAKI,eAAiB,IAAIJ,EAAKI,iBAH/BJ,EAAKI,eAAeE,KAAK3B,EAAcpJ,EAAS,CAAEiJ,OAAMC,eAKzD,OAAM8B,KAAK,uBAGCC,EAAgB,CAACjL,EAAckK,KAC3C,MAAMO,EAAOP,EAAMtK,MAAM6K,KACnBX,EAAQW,EAAKI,eAAe/H,KAChC+F,GAAWA,EAAE3H,MAAQ,eAAOlB,IAE1B8J,IACHA,EAAMvC,QAAU,eAAWvH,GAC3B8J,EAAMH,cAAgB,O,wFCzGjB,MAAMQ,EAAU,CACtB,YAAYvK,GACX,MAC6B,cAA5BA,EAAMsL,aAAaC,MACS,eAA5BvL,EAAMsL,aAAaC,MAGrB,gBAAgBvL,GAAgB,UACb,MAAlB,OAAI,iBACH,UAAOA,EAAM0K,sBAAb,iBAAO,EAAsBC,cAA7B,iBAAO,EAA8BC,iBAArC,aAAO,EAAyCY,OAEjD,UAAOxL,EAAM0K,sBAAb,iBAAO,EAAsBC,cAA7B,iBAAO,EAA8BC,iBAArC,aAAO,EAAyCa,WAEjD,WAAWzL,GACV,MAAmC,iBAA5BA,EAAMsL,aAAaC,MAE3B,UAAUvL,GACT,OAAOA,EAAMsI,YAAYE,cAAgBxI,EAAMsI,YAAYC,UAE5D,gBAAgBvI,GACf,MAAM0L,EAAc,GAcpB,OAbA1L,EAAM2L,cAAczK,QAAS0K,IACvBF,EAAOE,EAAYC,cACvBH,EAAOE,EAAYC,YAAc,CAChChP,MAAO+O,EAAYE,aACnBlP,MAAOgP,EAAYC,WACnBE,SAAU,KAGZL,EAAOE,EAAYC,YAAYE,SAASZ,KAAK,CAC5CtO,MAAO+O,EAAYI,gBACnBpP,MAAOgP,EAAYK,kBAGdrM,OAAOsM,OAAOR,IAEtBS,YAAcnM,GACNA,EAAMoM,eAAeC,WAE7B3B,eAAiB1K,GAAsBxC,GAClCA,EAEIwC,EAAM0K,eAAe,eAASlN,IAC3BwC,EAAMsM,WACTtM,EAAM0K,eAAe6B,QAErBvM,EAAM0K,eAAe8B,K,kHChCxB,MAAMC,EAAiB,CAC7B,QACC,EAAMC,aAAa,kBACnB,EAAM1M,MAAMsL,aAAaC,KAAO,SAChCoB,eAAe3I,QAAQ,UAAW,WAEnC,eAAehE,GACd,OAAK4M,WAAW5M,EAAMsI,aAAa9B,KAAKjE,IACvC,IAAKA,EACJ,MAAM,IAAI4E,MAAM,iBAEb5E,EAAIsK,UACPjN,OAAOC,OAAOG,EAAMN,YAAa6C,EAAIsK,gBAC9BtK,EAAIsK,QACPtK,EAAIJ,QACPvC,OAAOC,OAAOG,EAAML,YAAa4C,OAKrC,eAAevC,EAAkB8M,GAChC,OAAKC,WAAWD,GAAatG,KAAK,KACjC,OAAM4E,KAAK,yBAIb,QAAQpL,GACP,OAAKgN,QAAQhN,EAAMsI,aAAa9B,KAAKjE,IACpC3C,OAAOC,OAAOG,EAAMiN,KAAM1K,GAC1B,OAAM6I,KAAK,gBACX,OAAQzC,OAAO,cAAepG,EAAK,UACnC,OAAQoG,OACP,iBACA,CAAEuE,KAAMlN,EAAMmN,aACd,aAKH,YAAYnN,GACX,OACE6F,WACAW,KAAKjE,IACLvC,EAAM2L,cAAgBpJ,GAAO,KAE7B0E,MAAM,KACNjH,EAAM2L,cAAgB,MAIzB,iBAAiB3L,GAChB,OACEgG,UACAQ,KAAKjE,IACLvC,EAAMoN,cAAgB7K,GAAO,OAAWyD,YAExCiB,MAAM,KACNjH,EAAMoN,cAAgB,OAAWpH,aAIpC,iBAAiBhG,GAChB,MAAMyH,EACLzH,EAAML,YAAY8H,YAAczH,EAAMoN,cAAc3F,WAChDA,GAGL,OACED,QAAQC,GACRjB,KAAKjE,IACLvC,EAAMqN,cAAgB9K,EAAI,IAAM,OAAWiF,YAE3CP,MAAM,KACNjH,EAAMqN,cAAgB,OAAW7F,aAIpC,kBAAkBxH,GACjBA,EAAMoM,eAAekB,QAAU,GAC/BtN,EAAMoM,eAAeC,WAAa,GAClCrM,EAAMsL,aAAe,OAAW9O,SAChCwD,EAAMqN,cAAgB,OAAW7F,UACjCxH,EAAMoN,cAAgB,OAAWpH,UACjChG,EAAML,YAAc,OAAS4N,gBAC7B,EAAMC,OAAO,yBACb,EAAMA,OAAO,iBACb,OAAQ7E,OAAO,eAAgB,GAAI,UACnCgE,eAAe3I,QAAQ,UAAW,IAC9B,kBACH,EAAMwJ,OAAO,qBAGf,uBAAuBxN,GACtB,EAAMwN,OAAO,yBACbxN,EAAMyN,WAAWC,kBAAoBC,YAAY,KAChD3N,EAAMyN,WAAWG,cAChB,IAAIxM,MAAOyM,UAAYC,OAAO9N,EAAML,YAAYoO,gBAC/C,MAEJ,sBAAsB/N,GACrBgO,cAAchO,EAAMyN,WAAWC,oBAEhC,eAAe1N,GACd,EAAMwN,OAAO,iBACbxN,EAAMyN,WAAWQ,UAAYN,YAAY,KACxC,EAAMH,OAAO,cACX,MAEJ,cAAcxN,GACb,EAAMwN,OAAO,aACbQ,cAAchO,EAAMyN,WAAWQ,YAEhC,UAAUjO,GACT,MAAM,OAAEmC,GAAWnC,EAAML,YACpBwC,GAGL,OAAUuF,kBAAkB,CAAEvF,WAAUqE,KAAMjE,IAC7C3C,OAAOC,OAAOG,EAAMyN,WAAWS,UAAW3L,MAG5C,YAAYvC,GAAkB,UAAEmO,EAAF,MAAa9R,IACtC8R,GAAa9R,IAEhB2D,EAAM0K,eAAeyD,GAAWC,cAAgB,IAAU/R,IAE3D,eAAW2D,EAAM0K,gBACjBhI,WAAW,KACV,OAAQiG,OAAO,eAAgB,GAAI,WACjC,MAEJ,eAAe3I,GAAkB,YAAEqO,EAAF,QAAeC,IAC3CD,GAAeC,IAElBtO,EAAM0K,eAAe2D,GAAe,IAAUC,IAE/CtO,EAAM6K,KAAO,OAAK0D,WAClB,eAAWvO,EAAM0K,gBACjBhI,WAAW,KACV,OAAQiG,OAAO,kBAAmB,GAAI,WACpC,MAEJ,eAAe3I,GACd,OAAKwO,iBAAiBhI,KAAMjE,IACvBA,IAAKvC,EAAMmN,YAAc5K,GAC7B,OAAQoG,OACP,iBACA,CAAEuE,KAAMlN,EAAMmN,aACd,aAIH,WAAWnN,EAAkBsB,GAC5B,OAAKmN,WAAWnN,GAAKkF,KAAK,IAAM,EAAMgH,OAAO,oBAE9C,cAAcxN,EAAkBsB,GAC/B,OAAKoN,cAAcpN,GAAKkF,KAAK,IAAM,EAAMgH,OAAO,oBAEjD,QAAQxN,EAAkBsB,GACzB,OAAKqN,cAAc,CAClB5Q,OAAQuD,EACRa,OAAQnC,EAAML,YAAYwC,UAG5B,aAAanC,EAAkBN,GAC9B,MAAMiL,EAAS3K,EAAM0K,eAAeC,OAChCA,EAAOiE,UAAU1L,KAAK2L,GAAKA,EAAE9Q,SAAW2B,EAAY3B,UAGxD4M,EAAOiE,UAAY,CAAClP,KAAgBiL,EAAOiE,WAC3C,EAAMpB,OAAO,UAAW9N,EAAY3B,QACpC,EAAMyP,OAAO,iBAAkB,MAEhC,gBAAgBxN,EAAkBN,GACjC,MAAMiL,EAAS3K,EAAM0K,eAAeC,OAEpCA,EAAOiE,UAAYjE,EAAOiE,UAAUzO,OACnC0O,GAAKA,EAAE9Q,SAAW2B,EAAY3B,QAE/B,EAAMyP,OAAO,iBAAkB,KAEhC,YAAYxN,EAAkBN,GAC7B,MAAMiL,EAAS3K,EAAM0K,eAAeC,OAC/BA,EAAOmE,WAAUnE,EAAOmE,SAAW,IACpCnE,EAAOmE,SAAS5L,KAAK2L,GAAKA,EAAE9Q,SAAW2B,EAAY3B,UAGvD4M,EAAOmE,SAAW,CAACpP,KAAgBiL,EAAOmE,UAC1C,EAAMtB,OAAO,iBAAkB,MAEhC,eAAexN,EAAkBN,GAChC,MAAMiL,EAAS3K,EAAM0K,eAAeC,OAC/BA,EAAOmE,WACZnE,EAAOmE,SAAWnE,EAAOmE,SAAS3O,OACjC0O,GAAKA,EAAE9Q,SAAW2B,EAAY3B,QAE/B,EAAMyP,OAAO,iBAAkB,MAEhC,mBAAmBxN,GAClB,MAAM+O,EAAW/O,EAAM6K,KAAKiE,SACtBA,EAAW9O,EAAM0K,eAAeC,OAAOmE,SAC7C,IAAKA,IAAaA,EAASpR,OAC1B,OAED,MAAMsR,EAAmB,GACzBF,EAAS5N,QAAS+N,IACjBD,EAAY7D,KACX,OAAK+D,YAAY,CAChBnR,OAAQkR,EAAKlR,YAIhBoR,QAAQC,WAAWJ,GAAaxI,KAAMjE,IACrCA,EAAIrB,QAASmO,IAEZ,GADAA,EAAOA,EAAKzS,MACPyS,EAAKtR,OAGV,IACC,MAAMuR,EAAKD,EAAKtR,OACVwR,EAAWF,EAAKE,SAChBC,EAAWtN,QAAQmN,EAAKlN,QAC9B,IAAIsN,GAAc,EACdV,EAASO,IACZG,EAAcV,EAASO,GAAII,SAAWF,EACtCT,EAASO,GAAII,OAASF,IAEtBC,EAAcD,EACdT,EAASO,GAAM,IACX,OAAKK,WACRD,OAAQF,IAGNC,GACH,IAAU,CACTtH,QAASqH,EACN,OAAOD,6CAAoDD,8BACxDC,EAAH,QACHK,0BAA0B,EAC1BxH,SAAU,IACVyH,OAAQ,IACRrS,KAAM,YAGP,MAAOiF,UAIZ,WAAWzC,EAAkB7C,GAC5B,KAAMA,EAAUA,EAAQkG,QACvB,OAED,MAAMsH,EAAS3K,EAAM0K,eAAeC,OACpCxN,EACCA,EAAQ2S,WAAW,sCAAuC,KAC1D3S,EACGwN,EAAOoF,SAAS7M,KAAKlH,GAAOA,IAAQmB,KAGxCwN,EAAOoF,SAAW,CAAC5S,KAAYwN,EAAOoF,UACtC,EAAMvC,OAAO,iBAAkB,MAEhC,cAAcxN,EAAkB7C,GAC/B,MAAMwN,EAAS3K,EAAM0K,eAAeC,OACpCA,EAAOoF,SAAWpF,EAAOoF,SAAS5P,OAAO0O,GAAKA,IAAM1R,GACpD,EAAMqQ,OAAO,iBAAkB,KAEhC,YAAYxN,GACX,OAAQsH,KAAKtH,EAAMsI,cAEpB,OAAOtI,GACN,OAAMoL,KAAK,cAAe,CACzBtP,KAAM,gBAEPkE,EAAMgQ,QAAShQ,EAAMgQ,QAAiB,EAAMzF,QAAQ2E,YACpD,OAAM9D,KAAK,SAAUpL,EAAMgQ,U,6DCvR7B,MAAMC,EAAStJ,GACPA,EAGKuJ,EAAc,CAACxJ,EAAQ4D,KAC/BA,EAAMC,QAAQC,iBACjB,eAAc9D,EAAG4D,IAIN6F,EAAcF,EACdG,EAAe,CAAC1J,EAAQ4D,KACpC,GAAI,iBAAc,CACjB,MAAMwE,EAAWxE,EAAMtK,MAAM0K,eAAeC,OAAOmE,UAAY,GACzDC,EAAWzE,EAAMtK,MAAM6K,KAAKiE,SAC5BQ,EAAK,eAAO5I,GAClB,IAAI2J,GAAa,EACjB,GAAIvB,EAAS5L,KAAM2L,GAAWA,EAAE9Q,SAAWuR,GAAK,CAC/C,MAAMgB,EAAUlP,KAAKM,MACjBqN,EAASO,IACRgB,EAAUvB,EAASO,GAAIiB,UAAY,MACtCF,GAAa,GAEdtB,EAASO,GAAIiB,UAAYD,IAEzBD,GAAa,EACbtB,EAASO,GAAM,IACX,wBACHvR,OAAQuR,EACRiB,UAAWD,IAIVD,GACH,IAAU,CACTlI,QAAY,eAAYzB,GAAf,WACT0B,SAAU,IACVyH,OAAQ,IACRrS,KAAM,cAKGgT,EAAmBP,EACnBQ,EAAc,CAAC/J,EAAQ4D,KAC/BA,EAAMC,QAAQC,iBACjB,eAAc9D,EAAG4D,IAGNoG,EAAkBT,EAClBU,EAAkBV,EAClBW,EAAe,CAAClK,EAAQ4D,OAGxBuG,EAAiB,CAACnK,EAAQ4D,KACtCA,EAAMtK,MAAMyN,WAAWqD,cAAgBpK,EAAEC,KAAKmK,eAGlCC,EAAiB,CAACrK,EAAQ4D,KACtC,MAAM0G,EAAe1G,EAAMtK,MAAMoM,eAAeC,WAChD,GAAI2E,EAAatT,SAAWsT,EAAa,GAAGC,KAC3C,OAED,MAAMjR,EAAQsK,EAAMtK,MACd1D,EAAgB,iBACnB0D,EAAM0K,eAAe6B,QACrBvM,EAAM0K,eAAe8B,IAClB0E,EACLlR,EAAM0K,eAAeC,QAAU,OAAYuG,iBACtCjE,EAAOjN,EAAMiN,MACb,KAAEC,GAAS5C,EAAMtK,MAAMG,OAAOgR,aACnCzK,EAAEC,KAAK9D,IAAKzC,IACJ,CACN5C,KAAM,IACNmJ,KAAMvG,KAGRJ,EAAMoM,eAAeC,WACrB/P,EACA4U,EACAjE,GAED3C,EAAMtK,MAAMoM,eAAeC,WAAaa,GAG5BkE,EAAW1K,IAClB,kBAGL,IAAa,CACZyB,QAAS,WAAWzB,EAAEC,KAAK0K,iBAC3B7T,KAAM,aAIK8T,EAAsB,CAClCC,IAAMrB,EACNsB,KAAMrB,EACNsB,KAAMrB,EACNsB,KAAMlB,EACNmB,KAAM1B,EACN2B,KAAMnB,EACNoB,KAAMnB,EACNoB,KAAMnB,EACNoB,IAAM9B,EACN+B,KAAMpB,EACNqB,KAAMpB,EACNqB,KAAMjC,EACNkC,KAAMpB,EACNqB,KAAMnC,EACNoC,KAAMpC,EACNqC,KAAMrC,EACNsC,KAAMtC,EACNuC,KAAMvC,EACNwC,IAAMxC,EACNyC,KAAMtB,EACNuB,KAAM1C,G,oDC/GP,IAAI2C,EAAyB,KAEzB3Q,EAAQ,EACL,MAAM4Q,EAAU,CACtB,WAAWvI,GAEV,OADAzJ,aAAa+R,GACN,IAAIzD,QAAQ,CAAC2D,EAASC,KAC5B,GAAK,yBAAgD,WAAlCzI,EAAMtK,MAAMsL,aAAaC,KAyC3CuH,GAAQ,OAzCsD,CAC9D,MAAMtT,EAAQkD,WAAW,KACxBkQ,EAAoBlQ,WAAW,KAC9B,MAAM6I,EAAOjB,EAAMtK,MAAMsL,aAAaC,KACtCjB,EAAM0I,SACI,YAATzH,EAAqB,aAAeA,IAEnC,KACHwH,EAAO,IAAI5L,MAAM,uBACf,KACH,OAAO8L,KAAK,CACX1S,OAAQ,KACPM,aAAarB,GACyB,cAAlC8K,EAAMtK,MAAMsL,aAAaC,OAC5BjB,EAAMtK,MAAMsL,aAAaC,KAAO,UAEjC,OAAMH,KAAK,uBACX0H,GAAQ,IAETI,QAAS,KAC8B,cAAlC5I,EAAMtK,MAAMsL,aAAaC,OAC5BoB,eAAe3I,QACd,UACAsG,EAAMtK,MAAMsL,aAAaC,MAEtBjB,EAAMtK,MAAML,YAAYwC,QAC3BwK,eAAe3I,QACd,SACAsG,EAAMtK,MAAML,YAAYwC,SAI3BmI,EAAMkD,OAAO,yBACblD,EAAMkD,OAAO,iBAEblD,EAAMtK,MAAMsL,aAAaC,KAAO,YAChC,OAAMH,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,aAQ7C,OAAOjB,GACNzJ,aAAa+R,GACbA,EAAoBlQ,WAAW,KAC9B4H,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OACtC,MAEJ,MAAMjB,EAAY6I,GACjB,OAAO,IAAIhE,QAAQ,CAAC2D,EAASC,KAC5B,OAAK3Q,MAAM+Q,GACT3M,KAAKjE,IACL+H,EAAMtK,MAAMmT,SAAWA,EACvB7I,EAAMtK,MAAMsI,YAAc,IACtB/F,EAAI6Q,WAGR9I,EAAMtK,MAAMsL,aAAaC,KAAO,aAChC,OAAMH,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,MACxCuH,EAAQvQ,KAER0E,MAAMC,IACNJ,QAAQrE,MAAMyE,GACd6L,EAAO7L,QAIX,aAAaoD,GAEZ,OADAzJ,aAAa+R,GACN,IAAIzD,QAAQ,CAAC2D,EAASC,KAC5B,OACExL,WACAf,KAAKjE,IACDA,EAAI8Q,UACP/I,EAAMtK,MAAMsL,aAAaC,KAAO,aAChC,OAAMH,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OAExCqH,EAAoBlQ,WAAW,KAC9B4H,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OACtC,KAEJuH,EAAQvQ,EAAI8Q,YAEZpM,MAAMxE,IACNqE,QAAQrE,MAAMA,GACdmQ,EAAoBlQ,WAAW,KAC9B4H,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OACtC,UAIP,WAAWjB,GACVzJ,aAAa+R,GACb,MAAM5S,EAAQsK,EAAMtK,MACpB,OAAO,IAAImP,QAAQ,CAAC2D,EAASC,KAC5B,OAAKnG,WAAW5M,EAAMsI,aACpB9B,KAAKjE,IACL,IAAKA,EACJ,MAAM,IAAI4E,MAAM,iBAEjB,GAAI5E,EAAIsK,QAAS,CAChB,MAAM1K,EAASnC,EAAML,YAAYwC,OAIjC,GAHAvC,OAAOC,OAAOG,EAAMN,YAAa6C,EAAIsK,gBAC9BtK,EAAIsK,QACXjN,OAAOC,OAAOG,EAAML,YAAa4C,IAC7BA,EAAIJ,OAUP,MAJIA,IACHnC,EAAMsL,aAAaC,KAAO,cAC1B,OAAMH,KAAK,wBAEN,IAAIjE,MAAM,gBAThBnH,EAAMsL,aAAaC,KAAO,YAC1B,OAAMH,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,MACxCuH,EAAQvQ,MAUV0E,MAAMC,IAEN0L,EAAoBlQ,WAAW,KAC9B4H,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OACtC,KACHwH,EAAO7L,QAIX,UAAUoD,GACTzJ,aAAa+R,GACb,MAAM5S,EAAQsK,EAAMtK,MACdG,EAASH,EAAMG,OACrB,OAAO,IAAIgP,QAAQ,CAAC2D,EAASC,KAE3BpG,eAAelJ,QAAQ,YACvB6P,OAAOhJ,EAAMtK,MAAML,YAAYwC,UAE/BnC,EAAMoM,eAAekB,QAAU,GAC/BtN,EAAMoM,eAAeC,WAAa,IAEnC,MAAMnG,EAAmB9F,IACxB,GAAI,eAAgBA,GAAU,CAC7B,MAAM9D,EAAgB,iBACnB0D,EAAM0K,eAAe6B,QACrBvM,EAAM0K,eAAe8B,IAClB0E,EACLlR,EAAM0K,eAAeC,QAAUvK,EAAQ8Q,iBAClCjE,EAAOjN,EAAMiN,KAGnB,GACCjN,EAAM0K,eAAeC,OAAOiE,UAAU1L,KACpCpF,GACAA,EAAKC,SAAW,eAAYqC,GAASrC,QAIvC,YADAuM,EAAMkD,OAAO,UAAW,eAAYpN,GAASrC,QAI9C,MAAM,SAAEwV,EAAF,KAAYrG,EAAZ,YAAkBsG,GAAgBrT,EAAOgR,aAC9C,CAAC/Q,GACDJ,EAAMoM,eAAeC,WACrB/P,EACA4U,EACAjE,GAED,GAAIsG,EAAS,GAAI,CAEhB,EAAG,OACF,IAAK,iBAAc,MACnB,MAAM/H,EAAM,OAAGlP,QAAH,IAAGA,GAAH,UAAGA,EAAUmX,oBAAb,aAAG,EAAwBjI,OACvC,IAAIkI,GAAa,EACjB,IAAKlI,EAAQ,MASb,KARe,IAAXA,GAGHmI,MAAMC,QAAQpI,IACdA,EAAO5E,SAASxG,EAAQ5C,SAHxBkW,GAAa,IAOTA,EAAY,MACjB,MAAM,MACL5K,EADK,YAEL+K,GACGvX,EAASmX,aACPI,GAAe,eAAQzT,EAASJ,IACrC,eAAK,IACD1D,EAASmX,aACZ3K,MAAOA,EAAM1I,EAAQ5C,MACrB4C,QAASmT,EAAS,GAClBO,QAAS,CAAC9T,EAAM6K,KAAKkJ,qBAGf,GACT3T,EAAUmT,EAAS,QACb,IAAKC,EACX,OAEDxT,EAAMoM,eAAeC,WAAaa,EAClC,eAAkB9M,GAGnB,MAAM4T,EAAU1C,EAAegC,OAAOlT,EAAQ5C,OAC1CwW,GACHA,EAAQ5T,EAASkK,IAGbrE,EAAiB1D,IAClB+H,EAAMtK,MAAML,YAAYwC,QAC3BwK,eAAe3I,QACd,SACAsG,EAAMtK,MAAML,YAAYwC,QAGtBI,GACH3C,OAAOC,OAAOG,EAAML,YAAa4C,EAAI0R,YAEtC3J,EAAMkD,OAAO,0BACblD,EAAMkD,OAAO,kBACbxN,EAAMsL,aAAaC,KAAO,aAC1B,OAAMH,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,MACxCuH,GAAQ,IAEH3M,EAAc,KACnBnG,EAAMsL,aAAaC,KAAO,cAC1B,OAAMH,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OAEnCnF,EAAgB,KACrBkE,EAAMkD,OAAO,yBACblD,EAAMkD,OAAO,iBACboF,EAAoBlQ,WAAW,KAC9B1C,EAAMsL,aAAaC,KAAO,aAC1BjB,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OACtC,MAEJ,OAAWxF,aAAa/F,EAAMsI,YAAa,CAC1CrC,gBACAC,kBACAC,cACAC,qBAIH,WAAWkE,GACVzJ,aAAa+R,GACbtI,EAAMkD,OAAO,WACT,mBACHlD,EAAMkD,OAAO,kBACblD,EAAMkD,OAAO,uBAEdoF,EAAoBlQ,WAAW,KAC9B4H,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OACtC,MAEJ,YAAYjB,GACXzJ,aAAa+R,GACbtI,EAAMkD,OAAO,qBACblD,EAAMtK,MAAMsL,aAAaC,KAAO,aAChCjB,EAAMtK,MAAMgQ,QAAS,EACrB,OAAM5E,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,OAEzC,gBAAgBjB,GACfzJ,aAAa+R,GACb,UACOtI,EAAM0I,SAAS,cACrB,MAAMkB,EAAWvH,eAAelJ,QAAQ,WACxC,GAAiB,WAAbyQ,EAAuB,CAC1B,MAAM3R,QAAY,OAAKH,MAAMkI,EAAMtK,MAAMmT,UACrC,mBACH7I,EAAMtK,MAAMsI,YAAc,IACtB/F,EAAI6Q,YAMT9I,EAAMtK,MAAMsL,aAAaC,KADT,eAAb2I,GAA0C,cAAbA,EACA,aAEAA,EAEjC,OAAM9I,KAAK,uBACXd,EAAM0I,SAAS1I,EAAMtK,MAAMsL,aAAaC,MACxCtJ,EAAQ,EACP,MAAOQ,GAER,GADAR,GAAS,EACL,kBAAgBA,GAAS,EAAG,CAC/B6E,QAAQC,IAAI,cAEZ9E,EAAQ,EACR,UACO,iBACL,MAAOQ,KAGVmQ,EAAoBlQ,WAAW,KAC9B4H,EAAM0I,SAAS,cACb,OAGL,WAAW1I,EAAY6J,GACtB,OAAO,IAAIhF,QAAQ,CAAC2D,EAASC,KAC5B,OACExM,MAAM4N,GACN3N,KAAK4N,UACL,GAAI7R,GAAOA,EAAIJ,OAGd,aAFMmI,EAAM0I,SAAS,mBACrBF,GAAQ,GAGT,MAAM,IAAI3L,MAAM,qBAEhBF,MAAMP,IACNqM,EAAOrM,QAIX,YAAY4D,EAAYnI,GACvB,OAAO,IAAIgN,QAAQ,CAAC2D,EAASC,KAC5B,OACEsB,MAAMlS,GACNqE,KAAKjE,IACLuQ,EAAQvQ,KAER0E,MAAMP,IACNqM,EAAOrM,SC7VN,EAAQ,IAAI,OAAM,CACvB1G,MAAA,OACAuK,UACAkC,YACAoG,YAGc,gB,oCCjBf,W,oKCEOjX,MAAM,gB,GACNA,MAAM,iB,GAEJA,MAAM,kB,+BAKsE,M,+BACA,M,+BACL,M,GASxEA,MAAM,O,EACV,yBAAe,WAAV,QAAI,G,EAMV,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAA4D,OAAvDA,MAAM,QAAO,0C,MAEdA,MAAM,O,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,O,EACV,yBAAqD,OAAhDA,MAAM,QAAO,iCAA6B,G,GAE3CA,MAAM,O,EACV,yBAAkB,WAAb,WAAO,G,GAGRA,MAAM,O,EACV,yBAA4E,OAAvEA,MAAM,QAAO,wDAAoD,G,GAElEA,MAAM,O,EACV,yBAAe,WAAV,QAAI,G,EAGV,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAA4D,OAAvDA,MAAM,QAAO,0C,MAEdA,MAAM,O,EACV,yBAAgB,WAAX,SAAK,G,GAMNA,MAAM,S,EACV,yBAAkB,WAAb,WAAO,G,GAGRA,MAAM,O,EACV,yBAAqC,QAA/BA,MAAM,UAAS,aAAS,G,GAG1BA,MAAM,O,+BAGwE,M,EAKnF,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAA6C,OAAxCA,MAAM,QAAO,2B,MAEdA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,qnBA9EZ,yBAkFM,OAlFDA,MAAM,QAA6BS,MAAK,wBAA0B,EAAAC,SAASC,qB,CAC/E,yBAAuE,MAAvE,EAA0B,QAAK,6BAAE,EAAAD,SAASP,KAAI,iBAAkB,IAAC,GACjE,yBAYM,MAZN,EAYM,E,2BAXL,yBAUM,2CAV4E,EAAAuY,aAAZC,I,yBAAtE,yBAUM,OAVD3Y,MAAK,CAAC,eAAc,QAAiB,EAAA4Y,SAASD,KAA8CvY,IAAKuY,EAASjF,I,CAC9G,yBAGM,MAHN,EAGM,CAFL,yBAA2C,GAAzBzS,MAAO0X,EAAStY,O,kBAClC,yBAA8C,GAA5BY,MAAO0X,EAAShF,U,oBAEnC,yBAIkB,Q,UAHjB,IAA8F,CAA9F,yBAA8F,GAAnF3T,MAAM,MAAMa,KAAK,OAAOe,KAAK,UAAW,QAAK,GAAE,EAAAiX,MAAMF,GAAQ,I,WAAQ,IAAE,C,2BAClF,yBAA8F,GAAnF3Y,MAAM,MAAMa,KAAK,OAAQ,QAAK,IAAE,EAAAiY,WAAaH,EAAS,EAAAI,QAAM,I,WAAS,IAAE,C,2BAClF,yBAAyF,GAA9E/Y,MAAM,MAAMa,KAAK,OAAOe,KAAK,SAAU,QAAK,GAAE,EAAAoX,OAAOL,I,WAAW,IAAE,C,sDAIhF,yBAA0G,GAAhG9X,KAAK,O,WAAgB,EAAAoY,M,qCAAA,EAAAA,MAAK,GAAG,UAAO,qCAAQ,EAAAC,mBAAgB,YAAIzX,YAAY,mB,uBACtF,yBAEY,G,WAFQ,EAAAsX,O,qCAAA,EAAAA,OAAM,I,WACzB,IAAuB,C,0DAArB,EAAAD,WAAWnF,UAAU,QAAU,6BAAE,EAAAmF,WAAWzY,OAAK,K,uBAEpD,yBA8DY,G,WA9DQ,EAAAsC,Y,uCAAA,EAAAA,YAAW,I,WAC9B,IAMM,CANN,yBAMM,MANN,EAMM,CALL,EACA,yBAGY,GAHA,SAAQ,EAAAC,gBAAiB/B,KAAK,O,WAAgB,EAAAH,SAASP,K,qCAAT,EAAAO,SAASP,KAAI,I,WACtE,IAAqC,CAArC,yBAAqC,GAA1Bc,MAAM,OAAQD,MAAO,IAChC,yBAAmC,GAAxBC,MAAM,KAAMD,MAAO,M,oCAGhC,E,4BAGA,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA8F,GAA5E,SAAQ,EAAA4B,gBAAiB/B,KAAK,O,WAAgB,EAAAH,SAASyY,S,qCAAT,EAAAzY,SAASyY,SAAQ,GAAGxX,IAAK,G,qDAFpD,IAAb,EAAAjB,SAASP,Q,4BAIlC,yBAEM,MAFN,EAEM,CADL,G,kBADqC,IAAb,EAAAO,SAASP,Q,4BAGlC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA4E,GAAhE,SAAQ,EAAAyC,gB,WAA0B,EAAAlC,SAAS0Y,kB,qCAAT,EAAA1Y,SAAS0Y,kBAAiB,I,qDAFnC,IAAb,EAAA1Y,SAASP,Q,4BAIlC,yBAEM,MAFN,EAEM,CADL,G,kBADqC,IAAb,EAAAO,SAASP,QAGlC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAkE,GAAjDU,KAAK,O,WAAgB,EAAAH,SAAS2Y,O,qCAAT,EAAA3Y,SAAS2Y,OAAM,GAAG1X,IAAK,G,yBAE9D,EAGA,yBAMM,MANN,EAMM,CALL,EACA,yBAGY,GAHDlB,MAAA,cAAkBI,KAAK,O,WAAgB,EAAAH,SAASsS,U,qCAAT,EAAAtS,SAASsS,UAAS,GAAEzP,SAAA,GAAS+V,WAAA,GAAWC,eAAA,I,WAC9E,IAA0C,E,2BAArD,yBACY,2CADsB,EAAA7Y,SAASsS,UAAS,CAAjC9L,EAAKsS,K,yBAAxB,yBACY,GAD2CpZ,IAAKoZ,EAAQvY,MAAOiG,EAAOlG,MAAOkG,G,6DAI3F,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAoF,GAAxE,SAAQ,EAAAtE,gB,WAA0B,EAAAlC,SAASiD,K,qCAAT,EAAAjD,SAASiD,KAAI,GAAGhC,IAAK,GAAKmB,IAAK,K,oCAE9E,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAgH,GAA9F,SAAQ,EAAAF,gBAAiB/B,KAAK,OAAQ8O,KAAM,G,WAAc,EAAAjP,SAAS+Y,a,uCAAT,EAAA/Y,SAAS+Y,aAAY,GAAG9X,IAAK,I,iDAE1G,yBAMM,MANN,EAMM,CALL,yBAIW,GAJDd,KAAK,OAAQ6Y,cAAa,EAAAC,K,CACxBC,OAAM,EAChB,IAA8F,CAA9F,yBAA8F,GAAnFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,iBAAE,EAAA6Z,KAAK,EAAAF,O,WAAM,IAAE,C,sCAKrF,EAGA,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA3E,SAAQ,EAAA/W,gB,WAA0B,EAAAlC,SAASmC,Q,uCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,sEA/ErD,EAAAC,a,wHA2GhB,+BAAgB,CAC9B7C,KAAM,eACN8C,MAAO,MACPC,KAAM,gBACNC,YACC,2GACDC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNmW,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDQ,SAAU,CACTP,KAAM,EACN0C,QAAS,GACTc,KAAM,IACNwV,SAAU,EACVE,OAAQ,EACRD,mBAAmB,EACnBK,aAAc,GACdzG,UAAW,IAEZ0F,aAAc,GACdsB,gBAAiB,CAChBtG,GAAI,GACJrT,MAAO,GACPsT,SAAU,GACV3F,OAAQ,IAETiM,iBAAkB,EAClBC,WAAY,IAAIC,IAChBC,eAAgB,GAChBzX,aAAa,EACboW,QAAQ,EACRD,WAAY,GACZG,MAAO,GACPrV,MAAO,OAGT,UACC,eAAa,MACb,eACC,CAAC,iBAAkB,cAAe,eAClC,EAAGC,iBAAgBC,cAAa4I,kBAC/B1I,OAAOC,OAAOC,KAAKC,OAAOC,MAAO,CAAEN,cAAa4I,gBAChD,MAAMoD,EAAS,GACf,IAAK,MAAMtL,KAAWX,EAAgB,CACrC,MAAM6P,EAAK,eAAOlP,GAClB,GACC,eAAQA,IACR,eAAaA,GAAW,KAAQN,KAAKxD,SAAS2Y,OAE9CnV,KAAKgW,WAAWG,IAAI3G,QAGrB,GAAI,eAAWlP,IAAYN,KAAKoW,cAAc9V,GAAU,CACvD,GAAI,eAAQA,EAASN,KAAKC,OAAOC,OAMhC,OALAF,KAAK+U,MAAQ,eAAWzU,GAAS+V,QAChC,MACA,SAEDrW,KAAKgV,mBAGN,IAAKhV,KAAKgW,WAAWM,IAAI9G,GAAK,OAC9BxP,KAAKgW,WAAWO,OAAO/G,GACvB5D,EAAOP,KAAK/K,IAGdN,KAAKwW,YAAY5K,KAGnB,OAAQ6K,GAAG,aAAc,KACxBzW,KAAKtB,oBAENsB,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKmI,cACLnI,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENE,SAAU,IACN,eAAS,CAAC,iBAEdE,QAAS,CACRyU,KAAA,OACA,MAAMlB,EAAUiC,GAAQ,GACvB1W,KAAK8V,gBAAkBrB,EACvBzU,KAAKtB,gBAAgBgY,IAEtB,OAAOjC,GACNzU,KAAKwU,aAAexU,KAAKwU,aAAanU,OACrCsW,GAAKA,EAAEnH,KAAOiF,EAASjF,IAEpBxP,KAAK0U,SAASD,KACjBzU,KAAK8V,gBAAkB,CACtB3Z,MAAO,GACPsT,SAAU,GACVD,GAAI,EACJ1F,OAAQ,IAET9J,KAAK+V,iBAAmB,GAEzB/V,KAAKtB,mBAEN,SAAS+V,GAAU,MAClB,OAAOA,EAASjF,MAAT,UAAgBxP,KAAK8V,uBAArB,aAAgB,EAAsBtG,KAE9C,cACCzO,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,SAK5CgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,cAAc7H,GACb,MAAMuH,EAAU,eAAWvH,GAC3B,IAAIsW,GAAa,EACjB,EAAG,CACF,IAAK/O,EAAS,MAEd,GADK7H,KAAKkW,gBAAgBlW,KAAK6W,iBAC1BhP,EAAQf,SAAS,OACrB,MAED,MAAMgQ,EAAUjP,EAAQvE,MAAMtD,KAAKkW,gBACnC,GAAIY,GAAWA,EAAQ,GAAI,MAC3BF,GAAa,QACL,GACT,OAAOA,GAER,gBACC,QAAK5W,KAAKxD,SAASsS,UAAUlR,SAC7BoC,KAAKkW,eAAiB,IAAIjT,OACzBjD,KAAKxD,SAASsS,UAAU5L,KAAK,KAC7B,MAEM,IAER,mBACC,IAAKlD,KAAK+U,MACT,OAED,MAAMgC,EAAOzV,KAAKM,MACZ6S,EAAW,CAChBtY,MAAO6D,KAAK+U,MACZtF,SAAUzP,KAAKJ,YAAY6P,SAC3BD,GAAIuH,EACJjN,OAAQ9J,KAAKJ,YAAYkK,QAI1B,OADA9J,KAAK8V,gBAAkBrB,EACfzU,KAAKxD,SAASP,MACrB,KAAK,EACJ+D,KAAKwU,aAAe,CAACC,GACrBzU,KAAK+V,iBAAmBgB,EACxB,MACD,QACC/W,KAAKwU,aAAavS,QAAQwS,GAC1BzU,KAAK+V,iBAAmB,EACxB,MAEF/V,KAAK+U,MAAQ,GACb/U,KAAKtB,mBAEN,YAAYkN,GACX,IAAKA,EAAOhO,OAAQ,OACpB,MAAMmZ,EAAOzV,KAAKM,MAClB,KACCmV,EAAO/W,KAAK+V,iBACa,IAAzB/V,KAAKxD,SAASyY,SAAkB,IAFjC,CAOA,OAAQjV,KAAKxD,SAASP,MACrB,KAAK,EACJ+D,KAAK8V,gBAAkB9V,KAAKgX,YAAYpL,EAAO,IAC/C5L,KAAKwU,aAAe,CAACxU,KAAK8V,iBAC1B9V,KAAK+V,iBAAmBgB,EACxB,MACD,QACCnL,EAAOxK,QAAQd,IACdN,KAAKwU,aAAavS,QAAQjC,KAAKgX,YAAY1W,MAE5CN,KAAK+V,iBAAmB,EACxB,MAEF/V,KAAKtB,oBAEN,YAAY4B,GACX,MAAO,CACNmP,SAAU,eAAYnP,GACtBkP,GAAI,eAAQlP,GACZnE,MAAO,eAAWmE,GAAS+V,QAAQ,MAAO,IAC1CvM,OAAQ,eAAUxJ,KAGpB,cACCN,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACC,OAAQmK,OACJ7I,KAAK4D,SAAS5H,KAAhB,UACD,CACCQ,SAAUwD,KAAKxD,SACfuZ,iBAAkB/V,KAAK+V,iBACvBtB,SAAUzU,KAAK8V,iBAEf,OAAM9V,KAAK4D,SAAS5H,MAEtB+H,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,MAG1B,eACC+E,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCzVxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,mCAMe,kBACP,CACNoB,KAAM,SACNuZ,WAAY,CACX1a,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX/X,MAAO,eAAS,KAAM,OACtBC,OAAQ,eAAS,KAAM,OACvBmF,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,OAC1C2S,OAAQ,eAAS,KAAM,OACvBC,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAErBrS,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,OAC5BX,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,a,kCCtDpC,W,oCCAA,W,oKCEOjJ,MAAM,gB,GACNA,MAAM,a,GACLA,MAAM,O,EACV,yBAA8B,QAAxBA,MAAM,UAAS,MAAE,G,GAIjBA,MAAM,U,GAGRA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,EAK1B,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAAiD,QAA3CA,MAAM,UAAS,2B,MAEjBA,MAAM,O,+BAGwE,M,GAI9EA,MAAM,O,+BAG8F,Q,SAIrGA,MAAM,a,GACLA,MAAM,S,GAEHA,MAAM,U,GAENA,MAAM,U,GAGTA,MAAM,O,+BAC+E,Q,+BACjB,c,+BACM,Q,GAS1EA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,S,EACV,yBAAkB,WAAb,WAAO,G,meA/Df,yBAmEM,OAnEDA,MAAM,QAA6BS,MAAK,wBAA0B,EAAAC,SAASC,qB,CAC/E,yBAA+E,MAA/E,EAA+E,6BAA7C,YAAN,EAAAC,OAAM,iBAA8B,EAAAP,OAAK,G,4BACrE,yBA+BM,MA/BN,EA+BM,CA9BL,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAwC,GAA9BQ,KAAK,O,WAAgB,EAAAR,M,qCAAA,EAAAA,MAAK,I,qDAErC,yBAGM,2CAHkC,EAAA2G,SAAQ,CAAvBE,EAAKsS,K,yBAA9B,yBAGM,OAHDxZ,MAAM,MAAwCI,IAAKoZ,G,CACvD,yBAAyC,OAAzC,EAAqB,KAAE,6BAAEA,EAAK,MAC9B,yBAA0F,GAAhF3Y,KAAK,O,WAAgBqG,EAAK3F,Q,yBAAL2F,EAAK3F,QAAO,EAAGC,UAAW,EAAGC,YAAY,iB,uDAEzE,yBAKM,MALN,EAKM,CAJL,EACA,yBAEY,GAFDZ,KAAK,O,WAAgB,EAAAM,S,qCAAA,EAAAA,SAAQ,GAAEJ,aAAW,S,WACzC,IAAqB,E,2BAAhC,yBAAoG,2CAA1E,EAAAK,MAARC,I,yBAAlB,yBAAoG,GAAlEjB,IAAKiB,EAAKC,OAASN,MAAOK,EAAKF,SAAWF,MAAOI,EAAKF,U,6DAG1F,EAGA,yBAMM,MANN,EAMM,CALL,yBAIW,GAJDN,KAAK,OAAQ6Y,cAAa,EAAAC,K,CACxBC,OAAM,EAChB,IAA8F,CAA9F,yBAA8F,GAAnFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,eAAE,EAAA6Z,KAAK,EAAAF,O,WAAM,IAAE,C,sCAIrF,yBAKM,MALN,EAKM,CAJwB,EAAA3S,SAASlF,OAAM,G,yBAA5C,yBAA4H,G,MAAjHjB,KAAK,OAAgCe,KAAK,UAAW,QAAO,EAAA6Z,S,WAAS,IAAU,C,6BAAV,aAAU,+BAAI,EAAAzU,SAASlF,QAAQ,IAAC,K,4DAEhH,yBAAwH,GAA7GjB,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAhB,OAAM,UAAY4B,SAAU,EAAAwE,SAASlF,OAAM,IAAK,EAAAX,U,WAAU,IAAI,C,8CA5BzE,WAAN,EAAAP,U,mBAgCiBoK,SAAS,EAAApK,S,yBAAzD,yBAaM,MAbN,EAaM,CAZL,yBAMM,MANN,EAMM,E,2BALL,yBAIM,2CAJkC,EAAAoG,SAAQ,CAAvBE,EAAKsS,K,yBAA9B,yBAIM,OAJDxZ,MAAM,MAAwCI,IAAKoZ,EAAQ/Y,MAAK,WAAkB,EAAAuG,SAASlF,OAA3B,M,CACpE,yBAA0C,OAA1C,EAA0C,6BAAnBoF,EAAKQ,OAAK,GACjC,yBAAwH,OAAnH1H,MAAM,SAAUS,MAAK,SAAeyG,EAAKQ,MAAgB,IAAVR,EAAKQ,MAAU,EAAA5E,IAAG,GAA5C,KAAqD,QAAK,IAAE,EAAA4Y,UAAUlC,EAAM,EAAA/V,WAAS,I,qBAC/G,yBAA4C,OAA5C,EAA4C,6BAArByD,EAAK3F,SAAO,I,aAGrC,yBAIM,MAJN,EAIM,C,4BAHL,yBAAyG,GAA9FV,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAhB,OAAM,U,WAAqC,IAAI,C,2BAAjB,WAAN,EAAAA,U,4BACtE,yBAA8F,GAAnFC,KAAK,OAAOe,KAAK,UAAmCY,SAAA,I,WAAS,IAAU,C,2BAA9B,SAAN,EAAA5B,U,4BAC9C,yBAA8F,GAAnFC,KAAK,OAAOe,KAAK,UAAoC,QAAO,EAAAW,O,WAAO,IAAI,C,qCAA9B,SAAN,EAAA3B,e,uCAGhD,yBAIY,GAJAP,MAAK,IAAM,EAAA2G,SAAS,EAAA0U,WAAW,EAAA1U,SAAS,EAAA0U,WAAWna,QAAO,U,WAAqB,EAAAkC,U,qCAAA,EAAAA,UAAS,I,WAChF,IAAoD,E,2BAAvE,yBAEM,2CAFsC,EAAAuD,SAAS,EAAA0U,WAAW/T,OAAM,CAA3CA,EAAO6R,K,yBAAlC,yBAEM,OAFDxZ,MAAM,QAA8DI,IAAKoZ,G,6BAC3E7R,GAAM,K,uCAGV,yBAaY,G,WAbQ,EAAAhF,Y,uCAAA,EAAAA,YAAW,I,WAC9B,IAGM,CAHN,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuD,G,WAA5B,EAAAjC,SAASC,gB,qCAAT,EAAAD,SAASC,gBAAe,I,yBAEpD,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA3E,SAAQ,EAAAiC,gB,WAA0B,EAAAlC,SAASmC,Q,qCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,oCAEjF,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAoF,GAAxE,SAAQ,EAAAF,gB,WAA0B,EAAAlC,SAASiD,K,qCAAT,EAAAjD,SAASiD,KAAI,GAAGhC,IAAK,GAAKmB,IAAK,K,sEAhElD,EAAAC,a,wHA0FhB,+BAAgB,CAC9B7C,KAAM,kBACN8C,MAAO,SACPC,KAAM,oBACNC,YACC,qCACDC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNT,SAAS,EACTJ,aAAa,EACbc,WAAW,EACX7C,OAAQ,UACRP,MAAO,GACPsb,UAAU,EACV3U,SAAU,GACV4U,WAAY,IAAIzB,IAChBR,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDiB,SAAU,GACV+Y,WAAY,IAAIC,IAChB/Y,MAAO,GACPsC,OAAQ,GACRgY,UAAW,EACXhb,SAAU,CACTmC,QAAS,GACTc,KAAM,IACNhD,gBAAiB,IAElBiD,MAAO,OAGT,UACC,eACC,CAAC,iBAAkB,eACnB,EAAGC,iBAAgBE,kBAClBC,OAAOC,OAAOC,KAAKC,OAAOC,MAAO,CAAEL,gBACf,WAAhBG,KAAKtD,QACRsD,KAAK2X,QACJhY,EAAeU,OACdC,GAAW,eAAWA,IAAY,eAAQA,OAM/CN,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKmI,cACLnI,KAAKU,UACLV,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENE,SAAU,IACN,eAAS,CAAC,gBACb,MACC,OAAOa,KAAKjD,OACRoB,KAAK8C,SAASC,IAAIC,GACbA,EAAKQ,UAKhBtC,QAAS,CACRyU,KAAA,OACA,QACC3V,KAAKtD,OAAS,UACdsD,KAAKR,OAAS,GACdQ,KAAKgW,WAAa,IAAIC,IACtBjW,KAAK0X,WAAa,IAAIzB,IACtBjW,KAAK8C,SAAS1B,QAAQ4B,IACrBA,EAAKS,OAAS,GACdT,EAAKQ,MAAQ,KAGf,gBACC,IAAIrB,EAAQC,QAAQpC,KAAKH,YAAYwC,QACrC,GAAIF,EACH,UACO,OAAKG,MAAM,CAChBC,QAAS,GACTC,SAAU,KAEX,MAAMC,QAAY,OAAKC,YAAY,CAClCL,OAAQrC,KAAKH,YAAYwC,SAE1BrC,KAAK9C,MAAQuF,EACZ,MAAOE,GACRR,GAAQ,EACR6E,QAAQC,IAAItE,GAGTR,GACJS,WAAW,KACV5C,KAAKU,WACH,MAGL,cACCK,aAAaf,KAAKN,OACb,yBAAe,4BAOnB,OAAQmJ,OACP,aACA,CACCnM,OAAQsD,KAAKtD,OACbP,MAAO6D,KAAK7D,MACZ2G,SAAU9C,KAAK8C,SACfrG,gBAAiBuD,KAAKxD,SAASC,gBAC/BQ,SAAU+C,KAAK/C,SACf2B,IAAKoB,KAAKpB,IAEVa,KAAMO,KAAKxD,SAASiD,MAEpB,OAAMO,KAAK4D,SAAS5H,MAlBtB,kBAAK,CACJyE,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,SAoB5CgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,iBACC,MAAMtF,EAAY7C,KAAK8C,SAASC,IAAIC,GAC5B,MAAQA,EAAK3F,SAErBwF,EAAUoG,KAAK,CAACC,EAAGC,IAAMA,EAAEvL,OAASsL,EAAEtL,QACtCoC,KAAKR,OAAS,IAAIyD,OAAOJ,EAAUK,KAAK,KAAM,MAE/C,QAAQC,GACFnD,KAAKR,QAAQQ,KAAK4X,iBACvBzU,EAAS/B,QAAQd,IAChB,MAAMkB,EAAM,eAAOlB,GACnB,GAAI,eAAQA,GAAU,CACrB,GACC,eAAYA,KAAaN,KAAK/C,UAC9B+C,KAAK0X,WAAWpB,IAAI9U,GAEpB,OAGD,YADAxB,KAAKgW,WAAWG,IAAI3U,GAGrB,IAAKxB,KAAKgW,WAAWM,IAAI9U,GAAM,OAC/B,MAAMqG,EAAU,eAAWvH,GAASgD,MAAMtD,KAAKR,QAC/C,IAAKqI,EAAS,OACdA,EAAQoB,KAAK,CAACC,EAAGC,IAAMA,EAAEvL,OAASsL,EAAEtL,QAEpC,MAAMia,EAAQ7X,KAAK8C,SAASM,KAC3BJ,GAAQA,EAAK3F,UAAYwK,EAAQ,GAAGwO,QAAQ,MAAO,KAEhDwB,IACHA,EAAMrU,QACNqU,EAAMpU,OAAO4H,KAAK,eAAY/K,IAC9BN,KAAK0X,WAAWvB,IAAI3U,GACpBxB,KAAKgW,WAAWO,OAAO/U,OAI1B,UACCxB,KAAK8C,SAAW,IACZ9C,KAAK8C,SACR,CACCzF,QAAS,GACTmG,MAAO,EACPC,OAAQ,MAIX,cACCzD,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBoF,SAASC,KAAKzH,MAAM0H,YAAY,SAAajE,KAAKxD,SAASiD,KAAhB,MAE5C,eACCiE,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCnSxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oKCNRR,MAAM,gB,GACNA,MAAM,a,GACLA,MAAM,O,EACV,yBAA8B,QAAxBA,MAAM,UAAS,MAAE,G,GAIjBA,MAAM,U,GAGRA,MAAM,O,EACV,yBAA8B,QAAxBA,MAAM,UAAS,MAAE,G,GAGnBA,MAAM,O,+BAGwE,M,GAI9EA,MAAM,O,+BAGmF,Q,SAI1FA,MAAM,a,GACLA,MAAM,S,GAEHA,MAAM,U,GAENA,MAAM,U,GAGTA,MAAM,O,+BAC+E,Q,+BACjB,c,+BACM,Q,GAS1EA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,S,EACV,yBAAkB,WAAb,WAAO,G,sbA1Df,yBA8DM,OA9DDA,MAAM,QAA6BS,MAAK,wBAA0B,EAAAC,SAASC,qB,CAC/E,yBAA+E,MAA/E,EAA+E,6BAA7C,YAAN,EAAAC,OAAM,iBAA8B,EAAAP,OAAK,G,4BACrE,yBA0BM,MA1BN,EA0BM,CAzBL,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAwC,GAA9BQ,KAAK,O,WAAgB,EAAAR,M,qCAAA,EAAAA,MAAK,I,qDAErC,yBAGM,2CAHkC,EAAA2G,SAAQ,CAAvBE,EAAKsS,K,yBAA9B,yBAGM,OAHDxZ,MAAM,MAAwCI,IAAKoZ,G,CACvD,yBAAyC,OAAzC,EAAqB,KAAE,6BAAEA,EAAK,MAC9B,yBAA0F,GAAhF3Y,KAAK,O,WAAgBqG,EAAK3F,Q,yBAAL2F,EAAK3F,QAAO,EAAGC,UAAW,EAAGC,YAAY,iB,uDAEzE,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAgC,G,WAAZ,EAAAka,S,qCAAA,EAAAA,SAAQ,I,yBAE7B,yBAMM,MANN,EAMM,CALL,yBAIW,GAJD9a,KAAK,OAAQ6Y,cAAa,EAAAC,K,CACxBC,OAAM,EAChB,IAA8F,CAA9F,yBAA8F,GAAnFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,eAAE,EAAA6Z,KAAK,EAAAF,O,WAAM,IAAE,C,sCAIrF,yBAKM,MALN,EAKM,CAJwB,EAAA3S,SAASlF,OAAM,G,yBAA5C,yBAA4H,G,MAAjHjB,KAAK,OAAgCe,KAAK,UAAW,QAAO,EAAA6Z,S,WAAS,IAAU,C,6BAAV,aAAU,+BAAI,EAAAzU,SAASlF,QAAQ,IAAC,K,4DAEhH,yBAA6G,GAAlGjB,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAhB,OAAM,UAAY4B,SAAU,EAAAwE,SAASlF,OAAM,G,WAAI,IAAI,C,8CAvB9D,WAAN,EAAAlB,U,mBA2BiBoK,SAAS,EAAApK,S,yBAAzD,yBAaM,MAbN,EAaM,CAZL,yBAMM,MANN,EAMM,E,2BALL,yBAIM,2CAJkC,EAAAoG,SAAQ,CAAvBE,EAAKsS,K,yBAA9B,yBAIM,OAJDxZ,MAAM,MAAwCI,IAAKoZ,EAAQ/Y,MAAK,WAAkB,EAAAuG,SAASlF,OAA3B,M,CACpE,yBAA0C,OAA1C,EAA0C,6BAAnBoF,EAAKQ,OAAK,GACjC,yBAAwH,OAAnH1H,MAAM,SAAUS,MAAK,SAAeyG,EAAKQ,MAAgB,IAAVR,EAAKQ,MAAU,EAAA5E,IAAG,GAA5C,KAAqD,QAAK,IAAE,EAAA4Y,UAAUlC,EAAM,EAAA/V,WAAS,I,qBAC/G,yBAA4C,OAA5C,EAA4C,6BAArByD,EAAK3F,SAAO,I,aAGrC,yBAIM,MAJN,EAIM,C,4BAHL,yBAAyG,GAA9FV,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAhB,OAAM,U,WAAqC,IAAI,C,2BAAjB,WAAN,EAAAA,U,4BACtE,yBAA8F,GAAnFC,KAAK,OAAOe,KAAK,UAAmCY,SAAA,I,WAAS,IAAU,C,2BAA9B,SAAN,EAAA5B,U,4BAC9C,yBAA8F,GAAnFC,KAAK,OAAOe,KAAK,UAAoC,QAAO,EAAAW,O,WAAO,IAAI,C,qCAA9B,SAAN,EAAA3B,e,uCAGhD,yBAIY,GAJAP,MAAK,IAAM,EAAA2G,SAAS,EAAA0U,WAAW,EAAA1U,SAAS,EAAA0U,WAAWna,QAAO,U,WAAqB,EAAAkC,U,qCAAA,EAAAA,UAAS,I,WAChF,IAAoD,E,2BAAvE,yBAEM,2CAFsC,EAAAuD,SAAS,EAAA0U,WAAW/T,OAAM,CAA3CA,EAAO6R,K,yBAAlC,yBAEM,OAFDxZ,MAAM,QAA8DI,IAAKoZ,G,6BAC3E7R,GAAM,K,uCAGV,yBAaY,G,WAbQ,EAAAhF,Y,uCAAA,EAAAA,YAAW,I,WAC9B,IAGM,CAHN,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuD,G,WAA5B,EAAAjC,SAASC,gB,qCAAT,EAAAD,SAASC,gBAAe,I,yBAEpD,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA3E,SAAQ,EAAAiC,gB,WAA0B,EAAAlC,SAASmC,Q,qCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,oCAEjF,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAoF,GAAxE,SAAQ,EAAAF,gB,WAA0B,EAAAlC,SAASiD,K,qCAAT,EAAAjD,SAASiD,KAAI,GAAGhC,IAAK,GAAKmB,IAAK,K,sEA3DlD,EAAAC,a,gGAgFhB,+BAAgB,CAC9B7C,KAAM,cACN8C,MAAO,OACPC,KAAM,iBACNC,YAAa,0BACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNT,SAAS,EACTJ,aAAa,EACbc,WAAW,EACX7C,OAAQ,UACRP,MAAO,GACPsb,UAAU,EACV3U,SAAU,GACV4U,WAAY,GACZjC,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDwD,OAAQ,GACRgY,UAAW,EACXhb,SAAU,CACTmC,QAAS,GACTc,KAAM,IACNhD,gBAAiB,IAElBiD,MAAO,OAGT,UACC,eAAe,CAAC,kBAAmB,EAAGC,qBACjB,WAAhBK,KAAKtD,QACRsD,KAAK2X,QACJhY,EAAeU,OAAOC,GAAW,eAAWA,OAI/CN,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKmI,cACLnI,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENE,SAAU,CACT,MACC,OAAOa,KAAKjD,OACRoB,KAAK8C,SAASC,IAAIC,GACbA,EAAKQ,UAKhBtC,QAAS,CACRyU,KAAA,OACA,QACC3V,KAAKtD,OAAS,UACdsD,KAAKR,OAAS,GACdQ,KAAKgW,WAAa,IAAIC,IACtBjW,KAAK0X,WAAa,IAAIzB,IACtBjW,KAAK8C,SAAS1B,QAAQ4B,IACrBA,EAAKS,OAAS,GACdT,EAAKQ,MAAQ,KAGf,cACCzC,aAAaf,KAAKN,OACb,yBAAe,4BAOnB,OAAQmJ,OACP,aACA,CACCnM,OAAQsD,KAAKtD,OACbP,MAAO6D,KAAK7D,MACZ2G,SAAU9C,KAAK8C,SACfrG,gBAAiBuD,KAAKxD,SAASC,gBAC/BmC,IAAKoB,KAAKpB,IACVa,KAAMO,KAAKxD,SAASiD,MAEpB,OAAMO,KAAK4D,SAAS5H,MAhBtB,kBAAK,CACJyE,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,SAkB5CgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,iBACC,MAAMtF,EAAY7C,KAAK8C,SAASC,IAAIC,GAC5B,MAAQA,EAAK3F,SAErBwF,EAAUoG,KAAK,CAACC,EAAGC,IAAMA,EAAEvL,OAASsL,EAAEtL,QACtCoC,KAAKR,OAAS,IAAIyD,OAAOJ,EAAUK,KAAK,KAAM,MAE/C,QAAQC,GACFnD,KAAKR,QAAQQ,KAAK4X,iBACvBzU,EAAS/B,QAAQd,IAChB,MAAMkB,EAAM,eAAOlB,GACnB,GAAIN,KAAKyX,UAAYzX,KAAK0X,WAAW5Q,SAAStF,GAC7C,OAED,MAAMqG,EAAU,eAAWvH,GAASgD,MAAMtD,KAAKR,QAC/C,IAAKqI,EAAS,OACdA,EAAQoB,KAAK,CAACC,EAAGC,IAAMA,EAAEvL,OAASsL,EAAEtL,QAEpC,MAAMia,EAAQ7X,KAAK8C,SAASM,KAC3BJ,GAAQA,EAAK3F,UAAYwK,EAAQ,GAAGwO,QAAQ,MAAO,KAEhDwB,IACHA,EAAMrU,QACNqU,EAAMpU,OAAO4H,KAAK,eAAY/K,IAC9BN,KAAK0X,WAAWrM,KAAK7J,OAIxB,UACCxB,KAAK8C,SAAW,IACZ9C,KAAK8C,SACR,CACCzF,QAAS,GACTmG,MAAO,EACPC,OAAQ,MAIX,cACCzD,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBoF,SAASC,KAAKzH,MAAM0H,YAAY,SAAajE,KAAKxD,SAASiD,KAAhB,MAE5C,eACCiE,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UC3OxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kKCPTR,MAAM,Q,GACLA,MAAM,S,GACNA,MAAM,Y,6EAFZ,yBAGM,MAHN,EAGM,CAFL,yBAAyC,MAAzC,EAAyC,6BAApB,EAAA+O,OAAO1O,OAAK,GACjC,yBAA+C,MAA/C,EAA+C,6BAAvB,EAAA0O,OAAOiN,UAAQ,O,gBCA1B,+BAAgB,CAC9B9b,KAAM,WACNgF,SAAU,CAAE6J,OAAA,U,UCAb,EAAOxO,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W,4CCAA,IAAIyG,EAAM,CACT,KAAM,OACN,WAAY,OACZ,YAAa,OACb,mBAAoB,OACpB,sBAAuB,OACvB,gBAAiB,OACjB,mBAAoB,OACpB,iBAAkB,OAClB,qBAAsB,OACtB,YAAa,OACb,aAAc,OACd,oBAAqB,OACrB,uBAAwB,OACxB,iBAAkB,OAClB,oBAAqB,OACrB,kBAAmB,OACnB,sBAAuB,OACvB,cAAe,OACf,eAAgB,OAChB,sBAAuB,OACvB,yBAA0B,OAC1B,mBAAoB,OACpB,sBAAuB,OACvB,oBAAqB,OACrB,wBAAyB,OACzB,UAAW,OACX,aAAc,OACd,cAAe,OACf,eAAgB,OAChB,sBAAuB,OACvB,yBAA0B,OAC1B,mBAAoB,OACpB,sBAAuB,OACvB,oBAAqB,OACrB,wBAAyB,OACzB,UAAW,OACX,WAAY,OACZ,kBAAmB,OACnB,qBAAsB,OACtB,eAAgB,OAChB,kBAAmB,OACnB,gBAAiB,OACjB,oBAAqB,OACrB,gBAAiB,OACjB,iBAAkB,OAClB,wBAAyB,OACzB,2BAA4B,OAC5B,qBAAsB,OACtB,wBAAyB,OACzB,sBAAuB,OACvB,0BAA2B,OAC3B,aAAc,OACd,cAAe,OACf,qBAAsB,OACtB,wBAAyB,OACzB,kBAAmB,OACnB,qBAAsB,OACtB,mBAAoB,OACpB,uBAAwB,OACxB,gBAAiB,OACjB,iBAAkB,OAClB,wBAAyB,OACzB,2BAA4B,OAC5B,qBAAsB,OACtB,wBAAyB,OACzB,sBAAuB,OACvB,0BAA2B,OAC3B,aAAc,OACd,cAAe,OACf,qBAAsB,OACtB,wBAAyB,OACzB,kBAAmB,OACnB,qBAAsB,OACtB,mBAAoB,OACpB,uBAAwB,OACxB,SAAU,OACV,UAAW,OACX,iBAAkB,OAClB,oBAAqB,OACrB,cAAe,OACf,iBAAkB,OAClB,eAAgB,OAChB,mBAAoB,OACpB,cAAe,OACf,eAAgB,OAChB,sBAAuB,OACvB,yBAA0B,OAC1B,mBAAoB,OACpB,sBAAuB,OACvB,oBAAqB,OACrB,wBAAyB,QAG1B,SAASgV,EAAoBC,GAC5B,OAAO3I,QAAQ2D,UAAUtM,MAAK,WAC7B,IAAIuR,EAAoBC,EAAEnV,EAAKiV,GAAM,CACpC,IAAIpR,EAAI,IAAIS,MAAM,uBAAyB2Q,EAAM,KAEjD,MADApR,EAAEuR,KAAO,mBACHvR,EAGP,IAAI4I,EAAKzM,EAAIiV,GACb,OAAOC,EAAoBzI,MAG7BuI,EAAoBK,KAAO,WAC1B,OAAOtY,OAAOsY,KAAKrV,IAEpBgV,EAAoBvI,GAAK,OACzB6I,EAAOC,QAAUP,G,oCC9GjB,W,0KCEOjc,MAAM,gB,mBACNA,MAAM,a,EACV,yBAAqC,OAAhCA,MAAM,gBAAe,SAAK,G,SAE3BA,MAAM,S,GAEHA,MAAM,U,GAENA,MAAM,U,SAGTA,MAAM,SAASS,MAAA,uC,6EAZrB,yBAaM,OAbDT,MAAM,QAASS,MAAK,wBAA0B,EAAAE,mBAAe,KAAY,EAAAgD,KAAZ,M,CAC3B,WAAN,EAAA/C,Q,yBAAhC,yBAAuH,MAAvH,EAAuH,C,kEAA1D,EAAAP,OAAK,GAAsB,SAAN,EAAAO,Q,yBAAZ,yBAA2C,SAAd,Y,iFAChE,WAAN,EAAAA,Q,yBAA7B,yBAEM,MAFN,EAEM,CADL,K,0DAE2CoK,SAAS,EAAApK,S,yBAArD,yBAMM,MANN,EAMM,E,2BALL,yBAIM,2CAJkC,EAAAoG,SAAQ,CAAvBE,EAAKsS,K,yBAA9B,yBAIM,OAJDxZ,MAAM,MAAwCI,IAAKoZ,EAAQ/Y,MAAK,WAAkB,EAAAuG,SAASlF,OAA3B,M,CACpE,yBAA0C,OAA1C,EAA0C,6BAAnBoF,EAAKQ,OAAK,GACjC,yBAAwH,OAAnH1H,MAAM,SAAUS,MAAK,SAAeyG,EAAKQ,MAAgB,IAAVR,EAAKQ,MAAU,EAAA5E,IAAG,GAA5C,KAAqD,QAAK,IAAE,EAAA4Y,UAAUlC,EAAM,EAAA/V,WAAS,I,qBAC/G,yBAA4C,OAA5C,EAA4C,6BAArByD,EAAK3F,SAAO,I,qDAGqC,UAAN,EAAAX,Q,yBAApE,yBAAyG,MAAzG,EAAsF,kB,yEAQzE,+BAAgB,CAC9BV,KAAM,cACN8C,MAAO,OACPC,KAAM,iBACNC,YAAa,qBACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACN5C,OAAQ,UACRP,MAAO,GACP2G,SAAU,GACVrG,gBAAiB,GACjBmC,IAAK,EACLa,KAAM,IACNC,MAAO,OAGT,UACCM,KAAKmI,cACL,OAAQsO,GAAG,aAAc7P,IACxB5G,KAAKtD,OAASkK,EAAElK,OAChBsD,KAAK7D,MAAQyK,EAAEzK,MACf6D,KAAK8C,SAAW8D,EAAE9D,SAClB9C,KAAKvD,gBAAkBmK,EAAEnK,gBACzBuD,KAAKpB,IAAMgI,EAAEhI,KAAO,EACpBoB,KAAKP,KAAOmH,EAAEnH,QAGhB,gBACCsB,aAAaf,KAAKN,QAEnBwB,QAAS,CACR,cACCH,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,OAAM9I,KAAK4D,SAAS5H,SAIzCgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,S,UCjEN,EAAO9L,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,gWCRR,MAAMK,EAAQJ,IACpB,MAAMqP,EAAS,GACT2M,EAAQ,CAAC,QAAS,UAWxB,OAVAA,EAAMnX,QAASzE,IACVJ,EAAMI,GAAQ,IAEjBiP,EAAOjP,GAAWJ,EAAMI,GAAT,MAEZJ,EAAMI,GAAQ,IAEjBiP,EAAOjP,IAAYJ,EAAMI,GAAV,OAGViP,GAEK4M,EAAWjc,IACvB,MAAMkc,EAAc,GACdC,EAAQ,CACb,aACA,eACA,gBACA,eAQD,OANAA,EAAMtX,QAASuX,IACVpc,EAAMoc,KACTF,EAAOE,GACNpc,EAAMoc,GAAQ,EAAOpc,EAAMoc,GAAT,MAAyBpc,EAAMoc,GAAV,OAGnCF,GAEKG,EAAUrc,IACtB,MAAMkc,EAAc,GACdC,EAAQ,CAAC,YAAa,cAAe,eAAgB,cAM3D,OALAA,EAAMtX,QAASuX,IACVpc,EAAMoc,KACTF,EAAOE,GAAWpc,EAAMoc,GAAT,QAGVF,GAEKI,EAAUtc,IACf,CACNsc,OAAQ,GAAGtc,EAAM2I,uBAAuB3I,EAAM4I,gBAGnC2T,EAAYvc,IACxB,MAAMkc,EAAc,CACnB3S,SAAUvJ,EAAMuJ,SAChBb,aAAiB1I,EAAM0I,aAAT,KACdX,cAAe/H,EAAM+H,cACrByU,WAAYxc,EAAMyI,gBAClBgU,eAAgB,aAKjB,OAHIzc,EAAME,kBACTgc,EAAOM,WAAa,OAAOxc,EAAME,oBAE3Bgc,GAEKQ,EAAc,CAACC,EAAa7U,IACnCwP,MAAMC,QAAQoF,IAAYA,EAAOtb,OAGhB,IAAlBsb,EAAOtb,QAAiBsb,EAAO9V,KAAM2L,GAAW1K,GAAU0K,EAAEoK,OAGxD,IAAID,GACTjQ,KAAK,CAACC,EAAQC,IACPA,EAAEgQ,MAAQjQ,EAAEiQ,OAEnB/V,KAAM2L,GAAW1K,GAAU0K,EAAEoK,OAAO5T,MAN/B2T,EAAO,GAAG3T,MAHV,GAYIhB,EAAYhI,IACxB,MAAMqP,EAAS,CACdrH,SAAUhI,EAAMgI,SAChB2S,OAAQ3a,EAAM2a,QAETkC,EAAY,CAAC,OAAQ,MAAO,QAAS,UAO3C,OANAA,EAAUhY,QAASmD,IACdhI,EAAMgI,IAAa,IAEtBqH,EAAOrH,GAAehI,EAAMgI,GAAT,QAGdqH,GAEKyN,EAAQ9c,IACpB,MAAMkc,EAAc,CACnBpT,SAAa9I,EAAM8I,SAAT,KACVC,WAAY/I,EAAM+I,WAClBC,MAAOhJ,EAAMgJ,MACb+T,WAAY,IAAI/c,EAAMmJ,sBAAsBnJ,EAAMmJ,uBAAuBnJ,EAAMoJ,uBAAuBpJ,EAAMmJ,uBAAuBnJ,EAAMoJ,oBAAoBpJ,EAAMmJ,sBAAsBnJ,EAAMmJ,uBAAuBnJ,EAAMoJ,oBAAoBpJ,EAAMmJ,yBAAyBnJ,EAAMoJ,yBACnRpJ,EAAMmJ,qBAAqBnJ,EAAMmJ,uBAAuBnJ,EAAMoJ,sBAAsBpJ,EAAMmJ,uBAAuBnJ,EAAMoJ,qBAAqBpJ,EAAMmJ,qBAAqBnJ,EAAMmJ,uBAAuBnJ,EAAMoJ,qBAAqBpJ,EAAMmJ,yBAAyBnJ,EAAMoJ,kBACtQH,UAAWjJ,EAAMiJ,UACjBC,eAAgBlJ,EAAMkJ,gBAEvB,GAAIlJ,EAAM8c,KAAM,CACf,IAAIE,EAAWhd,EAAM8c,KAAK/V,MAAM,kBAChC,GAAIiW,EAAU,CAEb,GADAA,EAAWA,EAAS,IACfxV,SAASyV,cAAc,SAASD,GAAa,CACjD,MAAME,EAAO1V,SAAS0V,KAChBC,EAAW3V,SAAS4V,cAAc,SACxCD,EAASlK,GAAK+J,EACdG,EAAShc,KAAO,WAChBgc,EAASE,YACR7V,SAAS8V,eAAe,oDAERN,4BACLhd,EAAM8c,mDAIlBI,EAAKG,YAAYF,GAElBjB,EAAOqB,WAAaP,GAGtB,OAAOd,GAGKsB,EAAaxd,IAClB,CACNwd,UAAW,WAAWxd,EAAMsJ,iB,oCC5H9B,W,gDCCAwS,EAAOC,QAAU,CAAC,cAAgB,gBAAgB,cAAgB,kB,oCCDlE,W,oKCEOxc,MAAM,a,GACLA,MAAM,O,EACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,+BAC+B,M,GAEtDA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,SAGrBA,MAAM,O,EACV,yBAAiC,QAA3BA,MAAM,UAAS,SAAK,G,GAGtBA,MAAM,O,+BAGwE,M,2VAjBrF,yBAsBM,OAtBDA,MAAM,QAA6BS,MAAK,wBAA0B,EAAAC,SAASC,qB,CAC/E,yBAoBM,MApBN,EAoBM,CAnBL,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAwE,GAA7DiB,KAAK,UAAUf,KAAK,OAAQ,QAAK,eAAE,EAAAqd,a,WAAY,IAAE,C,YAE7D,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAgE,GAApD,SAAQ,EAAAlZ,a,WAAuB,EAAAtE,SAASyd,S,qCAAT,EAAAzd,SAASyd,SAAQ,I,oCAEtC,EAAAzd,SAASyd,U,yBAAhC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA+F,GAA7E,SAAQ,EAAAnZ,aAAcnE,KAAK,O,WAAgB,EAAAH,SAAS4M,a,qCAAT,EAAA5M,SAAS4M,aAAY,GAAG3L,IAAK,G,4EAE3F,yBAMM,MANN,EAMM,CALL,yBAIW,GAJDd,KAAK,OAAQ6Y,cAAa,EAAAC,K,CACxBC,OAAM,EAChB,IAA8F,CAA9F,yBAA8F,GAAnFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,eAAE,EAAA6Z,KAAK,EAAAF,O,WAAM,IAAE,C,iDAjBzD,EAAA5W,a,sFA4ChB,+BAAgB,CAC9B7C,KAAM,cACN8C,MAAO,SACPC,KAAM,0BACNC,YAAa,0BACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNT,SAAS,EACT4W,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDQ,SAAU,CACTmC,QAAS,GACTyK,aAAc,EACd6Q,UAAU,EACVxd,gBAAiB,IAElBuZ,WAAY,IAAIC,IAChBiE,SACC,6DACDxa,MAAO,OAGT,UACC,eACC,CAAC,iBAAkB,eACnB,EAAGC,iBAAgB6I,kBAClB1I,OAAOC,OAAOC,KAAKC,OAAOC,MAAO,CAAEsI,gBACnC,IAAK,MAAMlI,KAAWX,EAAgB,CACrC,MAAM6B,EAAM,eAAOlB,GAQnB,GANCN,KAAKxD,SAASyd,UACd,eAAQ3Z,IACR,eAAaA,IAAYN,KAAKxD,SAAS4M,cAEvCpJ,KAAKgW,WAAWG,IAAI3U,GAEjB,eAAWlB,GAAU,CACxB,IACE,eAAQA,EAASN,KAAKC,OAAOC,QAC9BF,KAAKxD,SAASyd,WACbja,KAAKgW,WAAWM,IAAI9U,GAErB,SAED,MAAMqG,EAAU,eAAWvH,GAC3B,IAAKuH,IAAYA,EAAQf,SAAS,SACjC,SAID,OAFA9G,KAAKgW,WAAWO,OAAO/U,QACvBxB,KAAKga,eAMTha,KAAKmI,cACLnI,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENI,QAAS,CACRyU,KAAA,OACA,WACM3V,KAAKka,UAGVC,MAAMna,KAAKka,UAAUxT,KAAKjE,IACzBzC,KAAKxD,SAASC,gBAAkBgG,EAAIgT,OAGtC,cACC1U,aAAaf,KAAKN,OACb,yBAAe,4BAOnB,OAAQmJ,OACP,aACA,CACCpM,gBAAiBuD,KAAKxD,SAASC,iBAE/B,OAAMuD,KAAK4D,SAAS5H,MAXtB,kBAAK,CACJyE,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,SAa5CgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,eACC,IAAI3L,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBqB,KAAKc,gBAEN,eACC4C,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCjKxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,mOCPd,yBAGM,OAHDR,MAAM,QAA6CS,MAAO,EAAAA,O,6BAC9D,yBAAwF,OAAnFT,MAAM,QAASS,MAAO,EAAA6I,a,6BAAgD,EAAA+T,OAAK,I,sBAAhC,EAAA3K,e,iBAAA,EAASpK,c,aAAT,EAAiBC,U,4BACjE,yBAAwG,OAAnGvI,MAAM,OAAQS,MAAO,EAAAqJ,W,6BAA4C,EAAAwU,SAAS,EAAA9Z,SAAS+Z,UAAQ,I,sBAAnD,EAAA7L,e,iBAAA,EAASpK,c,aAAT,EAAiBpI,S,iBAFpC,EAAAoe,SAAS,EAAA9Z,SAAS+Z,c,oDCc/B,+BAAgB,CAC9Bre,KAAM,cACN8C,MAAO,WACPwb,cAAe,CACdC,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,MACpCC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,wBAEVC,WAAY,CACXD,SAAS,IAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,QACsB,QAArB,OAAIhB,KAAK2a,WACR,UAAO3a,KAAKwO,eAAZ,iBAAO,EAAcpK,cAArB,aAAO,EAAsB0W,QAEvB,eAAS9a,KAAKM,SAAS6Y,OAE/B,QAAK,UAEJ,MAAM5c,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,IAAKA,EACJ,MAAO,GAER,MAAMgJ,EAAQ,eAAW,UAACvF,KAAKwO,eAAN,iBAAC,EAAcpK,cAAf,aAAC,EAAsBmB,MAAOvF,KAAKmZ,OAE5D,MAAO,IACH,eAAQ5c,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,MACVyD,KAAK+a,iBAAiBxe,EAAOgJ,KAGlC,cAAW,UAEV,MAAMhJ,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcpJ,YAC5B,IAAK7I,EACJ,MAAO,GAER,MAAMgJ,EAAQ,eAAW,UAACvF,KAAKwO,eAAN,iBAAC,EAAcpK,cAAf,aAAC,EAAsBmB,MAAOvF,KAAKmZ,OAE5D,MAAO,IACH,eAAQ5c,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,MACVyD,KAAK+a,iBAAiBxe,EAAOgJ,KAGlC,YAAS,UAER,MAAMhJ,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAc5I,UAC5B,IAAKrJ,EACJ,MAAO,GAER,MAAMgJ,EAAQ,eAAW,UAACvF,KAAKwO,eAAN,iBAAC,EAAcpK,cAAf,aAAC,EAAsBmB,MAAOvF,KAAKmZ,OAE5D,MAAO,IACH,eAAQ5c,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,MACVyD,KAAK+a,iBAAiBxe,EAAOgJ,MAInCrE,QAAS,CACRkZ,SAAA,OACA,iBAAiB7d,EAAYgJ,GAC5B,IAAKA,EACJ,MAAO,GAER,MAAMkT,EAAc,GAUpB,OATKlc,EAAMye,gBACVvC,EAAOlT,MAAQA,GAEXhJ,EAAM0e,0BACVxC,EAAOzT,gBAAkBO,GAErBhJ,EAAM2e,sBACVzC,EAAOtT,YAAcI,GAEfkT,M,UClHV,EAAOpc,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,qBCAA,IAAIyG,EAAM,CACT,qBAAsB,OACtB,sBAAuB,OACvB,wBAAyB,OACzB,wBAAyB,OACzB,oBAAqB,OACrB,0BAA2B,OAC3B,uBAAwB,OACxB,0BAA2B,OAC3B,uBAAwB,OACxB,mBAAoB,OACpB,wBAAyB,QAI1B,SAASoY,EAAenD,GACvB,IAAIxI,EAAK4L,EAAsBpD,GAC/B,OAAOC,EAAoBzI,GAE5B,SAAS4L,EAAsBpD,GAC9B,IAAIC,EAAoBC,EAAEnV,EAAKiV,GAAM,CACpC,IAAIpR,EAAI,IAAIS,MAAM,uBAAyB2Q,EAAM,KAEjD,MADApR,EAAEuR,KAAO,mBACHvR,EAEP,OAAO7D,EAAIiV,GAEZmD,EAAe/C,KAAO,WACrB,OAAOtY,OAAOsY,KAAKrV,IAEpBoY,EAAenI,QAAUoI,EACzB/C,EAAOC,QAAU6C,EACjBA,EAAe3L,GAAK,Q,uBChCpB,IAAIzM,EAAM,CACT,KAAM,OACN,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,sBAAuB,OACvB,uBAAwB,OACxB,4BAA6B,OAC7B,gCAAiC,OACjC,0BAA2B,OAC3B,8BAA+B,OAC/B,aAAc,OACd,cAAe,OACf,mBAAoB,OACpB,uBAAwB,OACxB,iBAAkB,OAClB,qBAAsB,OACtB,UAAW,OACX,aAAc,OACd,YAAa,OACb,aAAc,OACd,kBAAmB,OACnB,sBAAuB,OACvB,iBAAkB,OAClB,kBAAmB,OACnB,uBAAwB,OACxB,2BAA4B,OAC5B,qBAAsB,OACtB,yBAA0B,OAC1B,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,oBAAqB,OACrB,wBAAyB,OACzB,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,oBAAqB,OACrB,wBAAyB,OACzB,UAAW,OACX,WAAY,OACZ,gBAAiB,OACjB,oBAAqB,OACrB,SAAU,OACV,UAAW,OACX,eAAgB,OAChB,mBAAoB,OACpB,aAAc,OACd,iBAAkB,QAGnB,SAASgV,EAAoBC,GAC5B,OAAO3I,QAAQ2D,UAAUtM,MAAK,WAC7B,IAAIuR,EAAoBC,EAAEnV,EAAKiV,GAAM,CACpC,IAAIpR,EAAI,IAAIS,MAAM,uBAAyB2Q,EAAM,KAEjD,MADApR,EAAEuR,KAAO,mBACHvR,EAGP,IAAI4I,EAAKzM,EAAIiV,GACb,OAAOC,EAAoBzI,MAG7BuI,EAAoBK,KAAO,WAC1B,OAAOtY,OAAOsY,KAAKrV,IAEpBgV,EAAoBvI,GAAK,OACzB6I,EAAOC,QAAUP,G,oCC1EjB,W,qLCCC,yBAAgE,OAA3Djc,MAAM,OAAQS,MAAO,EAAA8e,QAAQ9e,O,6BAAS,EAAA8e,QAAQC,MAAI,K,oDCazC,+BAAgB,CAC9Btf,KAAM,OACN8C,MAAO,KACPwb,cAAe,CACdC,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,MAC1CC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,wBAEVC,WAAY,CACXD,SAAS,IAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,UACC,IAAIzE,EAAa,GACb+e,EAAO,GAqBX,OApBItb,KAAK2a,YAERpe,EAAQyD,KAAKwO,QAAQxO,KAAKwO,QAAQpK,OAAO0W,QAAU,SAEnDQ,EAAOtb,KAAKwO,QAAQpK,OACnBpE,KAAKwO,QAAQpK,OAAO0W,QAAU,UAG/B9a,KAAKwO,QAAQpK,OAAO2Q,OACpB,eAAQ/U,KAAKM,QAASN,KAAKC,OAAOC,QAElC3D,EAAQyD,KAAKwO,QAAQ+M,WACrBD,EAAOtb,KAAKwO,QAAQpK,OAAOoX,YAE3Bxb,KAAKwO,QAAQpK,OAAOqX,SACpB,eAAUzb,KAAKM,QAASN,KAAKC,OAAOC,SAEpC3D,EAAQyD,KAAKwO,QAAQkN,aACrBJ,EAAOtb,KAAKwO,QAAQpK,OAAOuX,cAEvBpf,EAQE,CACNA,MAAO,IACH,eAAKA,MACL,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,IAEd+e,QAjBO,CACN/e,MAAO,CACN8e,QAAS,QAEVC,KAAM,Q,UC9DX,EAAOjf,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,OAAe,kBACP,CACN8H,OAAQ,GACR7H,MAAO,CACNgI,SAAU,WACVrF,MAAO,GACPC,OAAQ,GACRqF,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdE,aAAc,GACdC,YAAa,EACbC,YAAa,OACbb,cAAe,a,6DClBlB,W,uBCAA,IAAIvB,EAAM,CACT,2BAA4B,OAC5B,4BAA6B,OAC7B,wBAAyB,OACzB,uBAAwB,OACxB,0BAA2B,OAC3B,mBAAoB,OACpB,6BAA8B,OAC9B,6BAA8B,OAC9B,8BAA+B,OAC/B,gCAAiC,OACjC,kBAAmB,OACnB,0BAA2B,OAC3B,6BAA8B,OAC9B,0BAA2B,OAC3B,6BAA8B,QAI/B,SAASoY,EAAenD,GACvB,IAAIxI,EAAK4L,EAAsBpD,GAC/B,OAAOC,EAAoBzI,GAE5B,SAAS4L,EAAsBpD,GAC9B,IAAIC,EAAoBC,EAAEnV,EAAKiV,GAAM,CACpC,IAAIpR,EAAI,IAAIS,MAAM,uBAAyB2Q,EAAM,KAEjD,MADApR,EAAEuR,KAAO,mBACHvR,EAEP,OAAO7D,EAAIiV,GAEZmD,EAAe/C,KAAO,WACrB,OAAOtY,OAAOsY,KAAKrV,IAEpBoY,EAAenI,QAAUoI,EACzB/C,EAAOC,QAAU6C,EACjBA,EAAe3L,GAAK,Q,kCCpCpB,kDACA,MAAMoM,EAAgB,GACtB,IAAIC,GAAU,EACP,MAAMtT,EAAO,EAAGtK,SAAQwK,WAAUC,eAAc7B,WACtD,MAAMyU,EAAOzU,EAAKgB,QACbyT,IAGDO,EACHD,EAASvQ,KAAK,CAAEpN,SAAQwK,WAAUC,eAAc7B,SAEhDiV,EAAS,CAAE7d,SAAQwK,WAAUC,eAAc7B,WAIhCiV,EAAYjV,IACxBgV,GAAU,EACV,eAAShV,GAAMS,QAAQ,KACtB1E,WAAW,KACViZ,GAAU,EACND,EAAS,IACZE,EAASF,EAAS9Z,UAEjB,S,kKCtBChG,MAAM,S,GACLA,MAAM,a,GACLA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,SAGrBA,MAAM,O,EACV,yBAAiC,QAA3BA,MAAM,UAAS,SAAK,G,GAGtBA,MAAM,O,+BAGwE,M,2VAbrF,yBAkBM,MAlBN,EAkBM,CAjBL,yBAgBM,MAhBN,EAgBM,CAfL,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAgE,GAApD,SAAQ,EAAAgF,a,WAAuB,EAAAtE,SAASyd,S,qCAAT,EAAAzd,SAASyd,SAAQ,I,oCAEtC,EAAAzd,SAASyd,U,yBAAhC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA+F,GAA7E,SAAQ,EAAAnZ,aAAcnE,KAAK,O,WAAgB,EAAAH,SAAS4M,a,qCAAT,EAAA5M,SAAS4M,aAAY,GAAG3L,IAAK,G,4EAE3F,yBAMM,MANN,EAMM,CALL,yBAIW,GAJDd,KAAK,OAAQ6Y,cAAa,EAAAC,K,CACxBC,OAAM,EAChB,IAA8F,CAA9F,yBAA8F,GAAnFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,eAAE,EAAA6Z,KAAK,EAAAF,O,WAAM,IAAE,C,mDAbzD,EAAA5W,a,sFAwChB,+BAAgB,CAC9B7C,KAAM,cACN8C,MAAO,SACPC,KAAM,0BACNC,YAAa,0BACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNT,SAAS,EACT4W,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDQ,SAAU,CACTmC,QAAS,GACTyK,aAAc,EACd6Q,UAAU,EACV8B,QAAS,EACTC,SAAU,IAEXhG,WAAY,IAAIC,IAChBvW,MAAO,OAGT,UACC,eAAe,CAAC,kBAAmB,EAAGC,qBACrC,IAAK,MAAMW,KAAWX,EAAgB,CACrC,MAAM6B,EAAM,eAAOlB,GAQnB,GANCN,KAAKxD,SAASyd,UACd,eAAQ3Z,IACR,eAAaA,IAAYN,KAAKxD,SAAS4M,cAEvCpJ,KAAKgW,WAAWG,IAAI3U,GAEjB,eAAWlB,GAAU,CACxB,IACE,eAAQA,EAASN,KAAKC,OAAOC,QAC9BF,KAAKxD,SAASyd,WACbja,KAAKgW,WAAWM,IAAI9U,GAErB,SAED,MAAMqG,EAAU,eAAWvH,GAC3B,IAAKuH,IAAYA,EAAQf,SAAS,SACjC,SAID,OAFA9G,KAAKgW,WAAWO,OAAO/U,QACvBxB,KAAKga,eAKRha,KAAKmI,cACLnI,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,OAClBM,KAAKc,gBAENI,QAAS,CACRyU,KAAA,OACA,WACC,IAAI8C,EAAS,EACb,GACCA,EAASwD,SAASpa,KAAKqa,SAAWlc,KAAKxD,SAASwf,UAAY,QACpDvD,IAAWzY,KAAKxD,SAASuf,SAClC/b,KAAKxD,SAASuf,QAAUtD,GAEzB,cACC1X,aAAaf,KAAKN,OACb,yBAAe,4BAOnB,OAAQmJ,OACP,aACA,CACCkT,QAAS/b,KAAKxD,SAASuf,SAEvB,OAAM/b,KAAK4D,SAAS5H,MAXtB,kBAAK,CACJyE,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,SAa5CgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,eACC,IAAI3L,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBqB,KAAKc,gBAEN,eACC4C,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCvJxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,wLCPd,yBAGM,OAHDR,MAAM,QAA6CS,MAAO,EAAAA,O,6BAC9D,yBAAwG,OAAnGT,MAAM,QAASS,MAAO,EAAA6I,a,6BAA8C,EAAAgV,SAAS,EAAA9Z,SAAS6Y,OAAK,I,YAAhD,EAAA3K,QAAQpK,OAAOC,U,4BAC/D,yBAAsG,OAAjGvI,MAAM,OAAQS,MAAO,EAAAqJ,W,6BAA0C,EAAAwU,SAAS,EAAA9Z,SAAS+Z,UAAQ,I,YAAjD,EAAA7L,QAAQpK,OAAOpI,S,iBAFlC,EAAAoe,SAAS,EAAA9Z,SAAS+Z,a,oDCa/B,+BAAgB,CAC9Bre,KAAM,QACN8C,MAAO,KACPwb,cAAe,CACdC,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,MACpCC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,yBAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,IARN,IAWT,cAAW,MAEV,MAAMA,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcpJ,YAC5B,OAAK7I,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,IAYT,YAAS,MAER,MAAMA,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAc5I,UAC5B,OAAKrJ,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,KAaV2E,QAAS,CACR,SAASZ,GACR,OAAO,eAASA,O,UCjFnB,EAAOjE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,2ICPR,MAAM6f,EAAS,KAErBtP,eAAe3I,QAAQ,UAAW,SAElCtD,OAAOgV,SAASS,QAAQ,UAAUzV,OAAOgV,SAASC,eAGtCuG,EAAU,KACtB,IAAa,CACZjgB,MAAO,QACPkgB,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,OAChB7V,KAAK8V,IAEIA,EAAmB,KAC/B3P,eAAe4P,QAEf7b,OAAOgV,SAASS,QAAQ,UAAUzV,OAAOgV,SAASC,gB,kCCnBnD,W,6DCAA,OAAe,kBACP,CACNzR,OAAQ,CACP2Q,OAAO,EACP1Q,QAAQ,EACRrI,MAAM,EACN8e,QAAS,EACTvV,MAAO,CACN,CACC4T,MAAO,EACP5T,MAAO,wBAER,CACC4T,MAAO,EACP5T,MAAO,yBAER,CACC4T,MAAO,EACP5T,MAAO,wBAER,CACC4T,MAAO,EACP5T,MAAO,wBAER,CACC4T,MAAO,GACP5T,MAAO,2BAIVhJ,MAAO,CACN+H,cAAe,SACfC,SAAU,WACVC,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdkW,yBAAyB,EACzBjW,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,wBAEdC,YAAa,CACZd,cAAe,MACfC,SAAU,WACV8U,KAAM,mBACNhU,SAAU,GACVC,WAAY,OACZ0V,eAAe,EACfzV,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,EACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,YAAa,EACbC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,uBACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,QAEdS,UAAW,CACVtB,cAAe,SACfC,SAAU,MACV8U,KAAM,mBACNhU,SAAU,GACVC,WAAY,SACZ0V,eAAe,EACfzV,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,IACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdkW,yBAAyB,EACzBjW,gBAAiB,sBACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,W,oKC/FVrJ,MAAM,S,GAGJA,MAAM,U,GAKNA,MAAM,QAAQ0T,GAAG,a,GAChB1T,MAAM,c,SACLA,MAAM,a,SAMRA,MAAM,mB,GACLA,MAAM,a,+BAK6D,M,GAInEA,MAAM,a,+BAKiD,M,+BACuB,M,GAIhFA,MAAM,O,GAQLA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,EAM1B,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAA0C,QAApCA,MAAM,QAAO,sB,MAEfA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,GAGrBA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,EAG1B,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAAyC,QAAnCA,MAAM,QAAO,qB,MAEfA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,EAG1B,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAA2D,QAArDA,MAAM,QAAO,uC,MAEfA,MAAM,O,EACV,yBAAmC,QAA7BA,MAAM,UAAS,WAAO,G,GAGxBA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,SAGrBA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,SAGrBA,MAAM,O,EACV,yBAA0E,QAApEA,MAAM,QAAO,oDAAgD,G,SAE/DA,MAAM,O,EACV,yBAAsC,QAAhCA,MAAM,UAAS,cAAU,G,SAG3BA,MAAM,O,EACV,yBAA+E,QAAzEA,MAAM,QAAO,yDAAqD,G,EAEzE,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAAyC,QAAnCA,MAAM,UAAS,mB,MAEjBA,MAAM,O,EAKX,yBAGM,OAHDA,MAAM,OAAK,CACf,yBAAwC,QAAlCA,MAAM,UAAS,kB,MAGjBA,MAAM,O,GAKNA,MAAM,O,EACV,yBAAuC,QAAjCA,MAAM,UAAS,eAAW,G,SAG5BA,MAAM,O,EACV,yBAAmC,QAA7BA,MAAM,UAAS,WAAO,G,+BAG0D,M,SAIlFA,MAAM,O,EACV,yBAA0E,QAApEA,MAAM,QAAO,oDAAgD,G,SAE/DA,MAAM,O,EACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,GACrBA,MAAM,U,IAERA,MAAM,O,GACV,yBAAoC,QAA9BA,MAAM,UAAS,YAAQ,G,IAGzBA,MAAM,O,GACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,IAGrBA,MAAM,O,GACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,IAGrBA,MAAM,O,GACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,IAGvBA,MAAM,O,GACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,IAGvBA,MAAM,O,GACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,IAGrBA,MAAM,O,GACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,IAGrBA,MAAM,O,GACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,IAGvBA,MAAM,O,GACV,yBAAkC,QAA5BA,MAAM,UAAS,UAAM,G,IAGvBA,MAAM,O,gCAGwE,M,IAI9EA,MAAM,S,GACV,yBAAe,WAAV,QAAI,G,GAGV,yBAA4C,QAAtCA,MAAM,QAAO,sBAAkB,G,6pBAjLvC,yBAmLM,MAnLN,EAmLM,CAlLL,yBAKY,IALDA,MAAM,WAAWK,MAAM,MAAMugB,aAAa,Q,WACpD,IAAmJ,CAAnJ,yBAAmJ,IAAlIngB,MAAA,sCAAuCQ,MAAK,QAAU,EAAA4f,SAASxgB,OAAK,YAAc,EAAAwgB,SAASC,OAAM,MAAO,EAAAD,SAASC,OAAM,M,kBACxI,yBAEM,MAFN,EAEM,CADL,yBAAyE,SAAjEC,SAAU,EAAArgB,SAASqgB,SAAUC,SAAA,GAAUC,IAAK,EAAAC,cAAcvH,K,qCAGpE,yBAOY,IAPD3Z,MAAM,YAAYK,MAAM,KAAKugB,aAAa,Q,WACpD,IAKM,CALN,yBAKM,MALN,EAKM,CAJL,yBAGM,MAHN,EAGM,CAFyB,EAAAO,aAAarf,O,iEAA3C,yBAAiE,MAAjE,EAAmD,c,2BACnD,yBAA+H,2CAAhF,EAAAqf,aAAY,CAA5BC,EAAM5H,K,yBAArC,yBAA+H,OAA1HxZ,MAAK,CAAC,YAAW,QAAsEohB,EAAMC,SAApCjhB,IAAKoZ,G,6BAA0C4H,EAAM5B,MAAI,K,kBAI1H,yBAoBY,IApBDxf,MAAM,sBAAsBK,MAAM,OAAOugB,aAAa,Q,WAChE,IAQM,CAR6B,EAAAU,S,yBAAnC,yBAQM,MARN,EAQM,CAPL,yBAGM,MAHN,EAGM,CAFL,yBAA0C,IAAxBrgB,MAAO,EAAAqgB,QAAQjhB,O,kBACjC,yBAA6C,IAA3BY,MAAO,EAAAqgB,QAAQlf,U,oBAElC,yBAEkB,S,UADjB,IAAqF,CAArF,yBAAqF,IAA1EpC,MAAM,MAAMa,KAAK,OAAQ,QAAK,gBAAE,EAAAygB,QAAO,KAAQ,EAAAC,e,WAAa,IAAE,C,wFAG3E,yBASM,2CAT+B,EAAAjf,QAARkf,I,yBAA7B,yBASM,OATDxhB,MAAM,WAAoCI,IAAKohB,EAAKnhB,O,CACxD,yBAGM,MAHN,EAGM,CAFL,yBAAuC,IAArBY,MAAOugB,EAAKnhB,O,kBAC9B,yBAA0C,IAAxBY,MAAOugB,EAAKpf,U,oBAE/B,yBAGkB,S,UAFjB,IAAyE,CAAzE,yBAAyE,IAA9DpC,MAAM,MAAMa,KAAK,OAAQ,QAAK,GAAE,EAAA4gB,SAASD,I,WAAO,IAAE,C,2BAC7D,yBAAgG,IAArFxhB,MAAM,MAAMa,KAAK,OAAQ,QAAK,GAAE,EAAAyB,QAAU,EAAAA,QAAQiC,OAAO0O,GAAGA,IAAIuO,I,WAAO,IAAE,C,0DAIvF,yBAMM,MANN,EAMM,CALL,yBAGY,IAHD/gB,MAAA,gBAAoBI,KAAK,O,WAAgB,EAAAH,SAASghB,Q,qCAAT,EAAAhhB,SAASghB,QAAO,I,WACnE,IAAmC,CAAnC,yBAAmC,IAAxBzgB,MAAM,KAAKD,MAAM,OAC5B,yBAAqC,IAA1BC,MAAM,KAAKD,MAAM,W,uBAE7B,yBAA0H,IAAhHH,KAAK,O,WAAgB,EAAA8gB,O,qCAAA,EAAAA,OAAM,GAAElgB,YAAY,kBAAmB,UAAO,sBAAQ,EAAAmgB,cAAa,WAAGpf,SAAU,EAAAO,S,gDAEhH,yBAuIY,I,WAvIQ,EAAAJ,Y,uCAAA,EAAAA,YAAW,I,WAC9B,IAMM,CANN,yBAMM,MANN,EAMM,CALL,EACA,yBAGY,IAHDlC,MAAA,gBAAoBI,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAASmhB,O,qCAAT,EAAAnhB,SAASmhB,OAAM,I,WAC5F,IAAyC,CAAzC,yBAAyC,IAA9B5gB,MAAM,MAAMD,MAAM,YAC7B,yBAAsC,IAA3BC,MAAM,KAAKD,MAAM,Y,oCAG9B,EAGA,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA+E,IAAnE,SAAQ,EAAA4B,gBAAiB/B,KAAK,O,WAAgB,EAAAH,SAASqgB,S,qCAAT,EAAArgB,SAASqgB,SAAQ,I,oCAE5E,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAiG,IAA/E,SAAQ,EAAAne,gBAAiB/B,KAAK,O,WAAgB,EAAAH,SAASohB,Y,qCAAT,EAAAphB,SAASohB,YAAW,GAAGngB,IAAK,G,oCAE7F,EAGA,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA+E,IAApEd,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAASqhB,S,qCAAT,EAAArhB,SAASqhB,SAAQ,I,oCAE5E,EAGA,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA+E,IAApElhB,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAASyd,S,qCAAT,EAAAzd,SAASyd,SAAQ,I,oCAE5E,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAkF,IAAvEtd,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAASshB,Y,qCAAT,EAAAthB,SAASshB,YAAW,I,oCAExD,EAAAthB,SAASshB,a,yBAAhC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAmG,IAAlFnhB,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAASuhB,c,uCAAT,EAAAvhB,SAASuhB,cAAa,GAAGtgB,IAAK,G,4EAExE,EAAAjB,SAASshB,a,yBAAhC,yBAEM,MAFN,EAEM,CADL,K,uCAEsB,EAAAthB,SAASyd,UAAU,EAAAzd,SAASshB,a,yBAAnD,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA4G,IAA1F,SAAM,kBAAE,EAAAE,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASyhB,U,uCAAT,EAAAzhB,SAASyhB,UAAS,GAAGxgB,IAAK,G,iEAEjF,EAAAjB,SAASyd,UAAU,EAAAzd,SAASshB,a,yBAAnD,yBAEM,MAFN,EAEM,CADL,K,uCAED,EAGA,yBAIM,MAJN,EAIM,CAHL,yBAEY,IAFDvhB,MAAA,eAAmBI,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAAS0hB,gB,uCAAT,EAAA1hB,SAAS0hB,gBAAe,GAAE7e,SAAA,GAAS+V,WAAA,GAAWC,eAAA,GAAa8I,gBAAA,GAAc5gB,YAAY,W,WACtJ,IAAgD,E,2BAA3D,yBAAuG,2CAArE,EAAAf,SAAS0hB,gBAAe,CAAvClb,EAAKsS,K,yBAAxB,yBAAuG,IAA1CpZ,IAAKoZ,EAAQvY,MAAOiG,EAAOlG,MAAOkG,G,wEAGjG,EAIA,yBAIM,MAJN,EAIM,CAHL,yBAEY,IAFDzG,MAAA,eAAmBI,KAAK,OAAQ,SAAQ,EAAA+B,gB,WAA0B,EAAAlC,SAAS4hB,iB,uCAAT,EAAA5hB,SAAS4hB,iBAAgB,GAAE/e,SAAA,GAAS+V,WAAA,GAAWC,eAAA,GAAa8I,gBAAA,GAAc5gB,YAAY,W,WACvJ,IAAiD,E,2BAA5D,yBAAwG,2CAAtE,EAAAf,SAAS4hB,iBAAgB,CAAxCpb,EAAKsS,K,yBAAxB,yBAAwG,IAA1CpZ,IAAKoZ,EAAQvY,MAAOiG,EAAOlG,MAAOkG,G,wEAGlG,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA8F,IAAnFrG,KAAK,OAAQ,SAAM,iBAAE,EAAA+B,mB,WAA4B,EAAAlC,SAAS6hB,sB,uCAAT,EAAA7hB,SAAS6hB,sBAAqB,I,yBAEpE,EAAA7hB,SAAS6hB,uB,yBAAhC,yBAOM,MAPN,EAOM,CANL,EACA,yBAIW,IAJD1hB,KAAK,O,WAAgB,EAAA2hB,W,uCAAA,EAAAA,WAAU,GAAE/gB,YAAY,Q,CAC3CmY,OAAM,EAChB,IAAkG,CAAlG,yBAAkG,IAAvFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,iBAAE,EAAAyiB,gB,WAAe,IAAE,C,6EAIlE,EAAA/hB,SAAS6hB,uB,yBAAhC,yBAEM,MAFN,EAEM,CADL,K,uCAEsB,EAAA7hB,SAAS6hB,uB,yBAAhC,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA6D,OAA7D,EAAqB,MAAG,6BAAE,EAAA7hB,SAASgiB,SAAS5gB,QAAQ,KAAE,M,uCAEvD,yBAGM,MAHN,GAGM,CAFL,GACA,yBAAuF,IAA5EjB,KAAK,OAAQ,SAAM,iBAAE,EAAA+B,mB,WAA4B,EAAAlC,SAASiiB,e,uCAAT,EAAAjiB,SAASiiB,eAAc,I,yBAEpF,yBAGM,MAHN,GAGM,CAFL,GACA,yBAA4G,IAA1F,SAAM,kBAAE,EAAAT,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASkiB,U,uCAAT,EAAAliB,SAASkiB,UAAS,GAAGjhB,IAAK,G,yBAExG,yBAGM,MAHN,GAGM,CAFL,GACA,yBAAoG,IAAlF,SAAM,kBAAE,EAAAugB,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASmiB,W,uCAAT,EAAAniB,SAASmiB,WAAU,I,yBAEjG,yBAGM,MAHN,GAGM,CAFL,GACA,yBAAqG,IAAnF,SAAM,kBAAE,EAAAX,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASoiB,Y,uCAAT,EAAApiB,SAASoiB,YAAW,I,yBAElG,yBAGM,MAHN,GAGM,CAFL,GACA,yBAA6H,IAA3G,SAAM,kBAAE,EAAAZ,WAAW,EAAAtf,oBAAmB/B,KAAK,OAAQ8O,KAAM,G,WAAc,EAAAjP,SAAS+Y,a,uCAAT,EAAA/Y,SAAS+Y,aAAY,GAAG9X,IAAK,I,sCAEvH,yBAGM,MAHN,GAGM,CAFL,GACA,yBAA4G,IAA1F,SAAM,kBAAE,EAAAugB,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASqiB,U,uCAAT,EAAAriB,SAASqiB,UAAS,GAAGphB,IAAK,G,yBAExG,yBAGM,MAHN,GAGM,CAFL,GACA,yBAAoG,IAAlF,SAAM,kBAAE,EAAAugB,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASsiB,W,uCAAT,EAAAtiB,SAASsiB,WAAU,I,yBAEjG,yBAGM,MAHN,GAGM,CAFL,GACA,yBAAqG,IAAnF,SAAM,kBAAE,EAAAd,WAAW,EAAAtf,oBAAmB/B,KAAK,O,WAAgB,EAAAH,SAASuiB,Y,uCAAT,EAAAviB,SAASuiB,YAAW,I,yBAElG,yBAGM,MAHN,GAGM,CAFL,GACA,yBAA6H,IAA3G,SAAM,kBAAE,EAAAf,WAAW,EAAAtf,oBAAmB/B,KAAK,OAAQ8O,KAAM,G,WAAc,EAAAjP,SAASwiB,a,uCAAT,EAAAxiB,SAASwiB,aAAY,GAAGvhB,IAAK,I,sCAEvH,yBAMM,MANN,GAMM,CALL,yBAIW,IAJDd,KAAK,OAAQ6Y,cAAa,EAAAC,K,CACxBC,OAAM,EAChB,IAA8F,CAA9F,yBAA8F,IAAnFhY,KAAK,UAAUf,KAAK,OAAOb,MAAM,iBAAkB,QAAK,iBAAE,EAAA6Z,KAAK,EAAAF,O,WAAM,IAAE,C,uCAIrF,yBAGM,MAHN,GAGM,CAFL,GACA,yBAAuF,IAA3E,SAAQ,EAAA/W,gB,WAA0B,EAAAlC,SAASmC,Q,uCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,oCAEjF,K,uQAiCY,gCAAgB,CAC9B5C,KAAM,oBACN8C,MAAO,QACPC,KAAM,eACNC,YACC,sJACDC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACN2f,WAAY,IAAIhJ,IAChBiJ,cAAe,GACf9gB,QAAS,GACT+gB,QAAS,GACT/B,QAAS,KACTgC,UAAW,EACXC,cAAe,KACf5B,OAAQ,GACR5e,SAAS,EACTygB,cAAc,EACd9iB,SAAU,CACTohB,YAAa,EACba,gBAAgB,EAChBjB,QAAS,OACT+B,UAAU,EACVzB,aAAa,EACbC,cAAe,EACfF,UAAU,EACVF,OAAQ,UACR1D,UAAU,EACVgE,UAAW,EACXY,UAAW,GACXC,WAAY,sBACZC,YAAa,gBACbC,aAAc,GACdN,UAAW,GACXC,WAAY,sBACZC,YAAa,gBACbrJ,aAAc,GACd5W,QAAS,GACT0f,uBAAuB,EACvBG,SAAU,GACVN,gBAAiB,GACjBE,iBAAkB,IAEnBoB,UAAW,CACVrjB,MAAO,GACPsjB,OAAQ,IAET9C,SAAU,CACTxgB,MAAO,GACP+gB,MAAO,GACPN,OAAQ,IAET0B,WAAY,GACZoB,YAAY,EACZC,SAAU,EACVC,eAAgB,EAChB1iB,MAAO,GACPuY,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDyC,aAAa,IAGf,UACC,gBAAa,OACb,gBACC,CAAC,iBAAkB,cAAe,cAAe,eACjD,EAAGkB,iBAAgBC,cAAaC,cAAa2I,kBAC5C1I,OAAOC,OAAOC,KAAKC,OAAOC,MAAO,CAChCN,cACAC,cACA2I,gBAED,MAAMoD,EAAS,GACf,IAAK,MAAMtL,KAAWX,GAEnBK,KAAKxD,SAASyd,UAAYja,KAAKxD,SAASshB,cACzC,gBAAQxd,IACP,gBAAaA,GAAW,gBAAcA,GACtC,KACA2b,SAASjc,KAAKxD,SAASyhB,WAExBje,KAAKif,WAAW9I,IAAI,gBAAO7V,IAGxB,gBAAWA,IACdsL,EAAOP,KAAK/K,GAIdN,KAAK6f,QAAQjU,KAGf5L,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKmI,cACLnI,KAAKU,UACLV,KAAK8f,gBACL9f,KAAKW,eACLX,KAAK+f,oBACLnf,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,kBACAC,aAAaf,KAAKN,QAEnBsB,SAAU,IACN,gBAAS,CAAC,cAAe,cAAe,gBAC3C,eACC,MAAO,IAAIhB,KAAKwf,UAAUC,QAAQO,WAEnC,gBACC,OAAIhgB,KAAKod,SAEPpd,KAAKod,QAAQoB,SAASxe,KAAKof,YAMtB,CAAE3J,IAAK,GAAIwK,IAAK,MAGzB/e,QAAS,CACRyU,KAAA,QACA,cACC,MAAMuK,EAAM,IAAIC,eAEhBD,EAAI/hB,KACH,MACC,0DAAyD6B,KAAKse,YAEhE4B,EAAIE,UAAY,KACf,MAAM3H,EAAS5U,KAAKC,MAAMoc,EAAIG,cACV,MAAhB5H,EAAON,MAQXnY,KAAKxD,SAASgiB,SAAW/F,EAAO6H,SAASC,SAASxd,IAAIC,GAC9CA,EAAKwM,IAEb,KAAU,CACTnH,QAAU,QAAOrI,KAAKxD,SAASgiB,SAAS5gB,YACxCF,KAAM,UACN4K,SAAU,OAEXtI,KAAKqd,aAfJ,KAAU,CACThV,QAASoQ,EAAO+H,IAChB9iB,KAAM,QACN4K,SAAU,QAcb4X,EAAIO,KAAK,OAEV,gBACC,IAAKzgB,KAAKgd,cAAcvH,KAAOzV,KAAKsf,aAAc,OAClDtf,KAAKsf,cAAe,EACpB,MAAM9P,EAAKxP,KAAKgd,cAAcxN,IAAMxP,KAAKgd,cAAc0D,OACjDR,EAAM,IAAIC,eAChBD,EAAI/hB,KACH,MACC,gDAA+CqR,GAEjD0Q,EAAIE,UAAY,KAAM,QACrB,MAAM3d,EAAMoB,KAAKC,MAAMoc,EAAIG,cAC3B,IAAIJ,EAAE,OAAIxd,QAAJ,IAAIA,GAAJ,UAAIA,EAAKwd,WAAT,aAAI,EAAU/C,MACoC,MAApDld,KAAKxD,SAASiiB,gBAAd,OAAgChc,QAAhC,IAAgCA,GAAhC,UAAgCA,EAAKke,cAArC,OAAgC,EAAazD,QAChD+C,EAAE,OAAIxd,QAAJ,IAAIA,GAAJ,UAAIA,EAAKke,cAAT,aAAI,EAAazD,OAEpB,GAAI+C,EACH,IAEC,MAAMW,EAAOX,EAAIY,MAAM,MAAMxgB,OAAO0O,GAAKA,EAAExL,QACrCud,EAAUF,EAAKZ,UACrBhgB,KAAKwf,UAAUC,OAASqB,EAAQ/d,IAAIge,IACnC,MAAMC,EAAWD,EACfF,MAAM,UACNxgB,OAAO0O,GAAKA,GACd,MAAO,CACNgI,KAAMiK,EAAS,GACbH,MAAM,KACNI,OAAO,CAACC,EAAKnK,IAAS,GAAKmK,IAAOnK,GACpCuE,KAAM0F,EAAS,MAGjBhhB,KAAKwf,UAAUC,OAASzf,KAAKwf,UAAUC,OAAOpf,OAC7C0O,GACQA,EAAEuM,MAGXtb,KAAKwf,UAAUrjB,MAAQ6D,KAAKgd,cAAc7gB,MACzC,MAAOwG,GACRqE,QAAQrE,MAAMA,QAIf3C,KAAKwf,UAAUC,OAAS,GACxBzf,KAAKwf,UAAUrjB,MAAQ6D,KAAKgd,cAAc7gB,MAE3C6D,KAAKsf,cAAe,GAErBY,EAAIO,KAAK,OAEV,oBACC,MAAMU,EAAQpd,SAASyV,cAAc,SAC/B4H,EAAYrd,SAASyV,cAAc,cACzC2H,EAAME,aAAe,KAASza,IAC7B5G,KAAK2f,SAAWwB,EAAMG,YACtB,IAAIpE,EAAQ,GACR/gB,EAAQ,GACRygB,EAAS,GACT2E,GAAe,EACnB,EAAG,CACF,IAAKvhB,KAAKgd,cAAcvH,IAAK,MACzBzV,KAAKwf,UAAUrjB,QAAU6D,KAAKgd,cAAc7gB,OAC/C6D,KAAKwhB,gBAEN,IAAIC,EAAWzhB,KAAKwf,UAAUC,OAAOrc,KACpCse,GAAMA,EAAG3K,KAAO/W,KAAK2f,SAAW,IAE7B8B,IAAaA,EAAStE,SACzBnd,KAAKwf,UAAUC,OAAOre,QAAQ2N,IAC7BA,EAAEoO,QAAS,IAEZsE,EAAStE,QAAS,EAClBnd,KAAK2hB,UAAU,KACd,MAAMxE,EAASiE,EAAU5H,cAAc,WACvC4H,EAAUQ,UAAYzE,EAAO0E,UAAY,MAG3C3E,EAAI,OAAIuE,QAAJ,IAAIA,OAAJ,EAAIA,EAAUnG,KAClBnf,EAAQ6D,KAAKgd,cAAc7gB,MAC3BygB,EAAS5c,KAAKgd,cAAcJ,OAC5B2E,EACCrE,IAAUld,KAAK2c,SAASO,OACxBN,IAAW5c,KAAK2c,SAASC,QACzBzgB,IAAU6D,KAAK2c,SAASxgB,YACjB,GAELolB,IACHvhB,KAAK2c,SAAW,CAAEO,QAAO/gB,QAAOygB,UAChC5c,KAAKge,aAEJ,KACHmD,EAAMW,QAAUX,EAAMY,UAAYnb,IAC5B5G,KAAKod,QAINpd,KAAKof,UAAYpf,KAAKod,QAAQoB,SAAS5gB,OAAS,EACnDoC,KAAKof,WAAa,GAGnBpf,KAAKod,QAAU,KACfpd,KAAKqd,aARJrd,KAAKqd,aAUP8D,EAAMa,QAAUpb,IACf5G,KAAKod,QAAU,KACfpd,KAAKqd,cAGP,gBACC,IAAIlb,EAAQC,QAAQpC,KAAKH,YAAYwC,QACrC,GAAIF,EACH,UACO,QAAKG,MAAM,CAChBC,QAAS,GACTC,SAAU,KAEX,MAAMC,QAAY,QAAKC,YAAY,CAClCL,OAAQrC,KAAKH,YAAYwC,SAE1BrC,KAAK9C,MAAQuF,EACZ,MAAOE,GACRR,GAAQ,EACR6E,QAAQC,IAAItE,GAGTR,GACJS,WAAW,KACV5C,KAAKU,WACH,MAGL,gBACCK,aAAaf,KAAKqf,eAClB,MAAMxB,EAAW7d,KAAKkf,cAAcpd,QACpC,GAAI9B,KAAKxD,SAASqhB,UAAYA,EAAU,CACvC,MAAMhW,EAAW,MAAK7H,KAAKiiB,QAC1BpE,EAAS3f,SACT,SACM8B,KAAKiiB,QAAQpE,EAAS1hB,MAAO,OAAO0hB,EAASngB,QACnDmgB,EAASxV,UAEV,IAAI6Z,EAAO,GACPzb,EAAQ,EACZ,MAAQyb,EAAOra,EAAQsa,MAAM1b,EAAOA,EAAQ,IAC3C,OAAA8B,GAAA,MAAK,CACJtK,OAAQ+B,KAAKwI,YAAYvK,OACzBwK,SAAUzI,KAAKwI,YAAYC,SAC3BC,aAAc1I,KAAKwI,YAAYE,aAC/B7B,KAAM,CACL8B,UAAW3I,KAAKwI,YAAYvK,OAC5B2K,OAAQ5I,KAAKH,YAAYwC,OACzBwF,QAASqa,KAGXzb,GAAS,GAGXzG,KAAKqf,cAAgBzc,WAAW,KAC/B5C,KAAK8f,iBACH,MAEJ,QAAQ3e,EAAK7D,GACZ,OAAI6D,EAAIvD,QAAUN,EACV6D,EAAIihB,OAAO,EAAG9kB,EAAY,GAAK,IAEhC6D,GAER,QAAQkhB,EAAU3kB,EAAO,QACxB,OAAO,IAAI2R,QAAQ,CAAC2D,EAASC,KAAW,QACvC,MAAMqP,EAAW,IAAIC,SAEM,WAA1B,UAAAviB,KAAKxD,gBAAL,eAAemhB,SACN,SAATjgB,GACC2kB,EAASvb,SAAS,QAEnBub,GAAY,QAEbC,EAAS5M,OAAO,QAAS2M,GACzBC,EAAS5M,OAAO,SAAUhY,GAC1B4kB,EAAS5M,OAAO,QAAQ,UAAA1V,KAAKxD,gBAAL,eAAemhB,SAAU,WACjD2E,EAAS5M,OAAO,OAAQ,KAExB,MAAMwK,EAAM,IAAIC,eAEhBD,EAAI/hB,KAAK,OAAQ,2BAEjB+hB,EAAIsC,iBAAiB,mBAAoB,kBACzCtC,EAAIsC,iBACH,eACA,oDAEDtC,EAAIE,UAAY,KACfpN,EAAQnP,KAAKC,MAAMoc,EAAIG,cAAcxZ,OAEtCqZ,EAAIO,KAAK,IAAIgC,gBAAgBH,GAAUI,eAGzC,gBACC,GAAI1iB,KAAKnB,QACR,OAED,MAAMwjB,EAAWriB,KAAKyd,OACtB,IAAK4E,EAAU,OACf,MAAM3kB,EAAOsC,KAAKxD,SAASghB,QAC3Bxd,KAAKnB,SAAU,EACfmB,KAAK2iB,QAAQN,EAAU3kB,GACrBgJ,KAAK8X,IACL,IAAKA,EAAS5gB,OAMb,YALA,KAAU,CACTF,KAAM,QACN2K,QAAS,QACTC,SAAU,OAIZ,MAAMsa,EAAU,CACf3kB,OAAQ,QACR4J,QAAS,GACT3J,SAAU,KACV/B,MAAgB,SAATuB,EAAkB2kB,EAAW7D,EAAS,GAAGriB,MAChD4a,KAAM,IACNyH,SAAUA,EAASzb,IAAIua,IACjBA,EAAK7H,MAAK6H,EAAK7H,IAAM,aACnB6H,KAITtd,KAAK5B,QAAU,IAAI4B,KAAK5B,QAASwkB,GACjC5iB,KAAKyd,OAAS,KAEdtW,MAAMP,IACN,KAAU,CACTlJ,KAAM,QACN2K,QAASzB,EAAE8b,WACXpa,SAAU,SAIXhB,QAAQ,KACRtH,KAAKnB,SAAU,EACfmB,KAAKqd,eAGR,cACCtc,aAAaf,KAAKN,OACb,0BAAe,8BACnB,mBAAK,CACJe,OAAQ,KACP,QAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,MACzCgE,KAAKge,cAKRhe,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,WACC,IAAI,UACH0W,EADG,WAEHC,EAFG,YAGHC,EAHG,aAIHC,EAJG,UAKHN,EALG,WAMHC,EANG,YAOHC,EAPG,aAQHrJ,GACGvV,KAAKxD,SAET,QAAQqM,OACN,eACD,CACC8T,SAAU3c,KAAK2c,SACfngB,SAAU,CACTqiB,YACAC,aACAC,cACAC,eACAN,YACAC,aACAC,cACArJ,iBAGD,cAGH,WAAWrX,EAAUsD,EAAKqhB,GAAU,GACnC,MAAMC,EAAK,CAAC,OAAQ,SAAU,QAAQhc,SAAStF,GACzCI,EAAMN,KAAKM,MACjB,EAAG,CACF,GAAIihB,GAAYC,GAAM9iB,KAAK0f,WAAa,MACxC,IAAK1f,KAAKxD,SAASshB,YAAa,OAChC,IAAK9d,KAAKif,WAAW3I,IAAI9U,GAAM,aACvB,GACT,MAAMuhB,EACyB,GAA9B/iB,KAAKxD,SAASuhB,cAAqB,KAClCnc,EAAM5B,KAAK4f,gBACb,GAAImD,EAAY,EAQf,YAPA/iB,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAO,OACP8B,OAAQuD,EACR9D,KAAM,KACN2K,QAAU,eAAc0a,EAAY,SAItC,MAAMzF,EAAOtd,KAAK5B,QAAQgF,KAAK2L,GAAKA,EAAE9Q,SAAWuD,GAC5C8b,GAWLtd,KAAKud,SAASD,GACdtd,KAAKif,WAAW1I,OAAO/U,GACvBxB,KAAK4f,eAAiBhe,GAZrB5B,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAO,KACP8B,OAAQuD,EACR9D,KAAM,KACN2K,QAAS,cASZ,QAAQlF,GACP,MAAM4T,EAAOzV,KAAKM,MAClB5B,KAAKmf,QAAUnf,KAAKmf,QAAQ9e,OAC3B0O,GAAKgI,EAAOhI,EAAEgI,KAAO,IAAY/W,KAAKxD,SAASohB,aAEhDza,EAAS/B,QAAQd,IAChB,MAAMkB,EAAM,gBAAOlB,GACbpC,EAAW,gBAAYoC,GACvByU,EAAQ,gBAAQzU,EAASN,KAAKC,OAAOC,OACrC2H,EAAU,gBAAWvH,GACrBwiB,EAAK,CAAC,OAAQ,SAAU,QAAQhc,SAAStF,GAC/C,GAAIshB,GAAMjb,EAAQf,SAAS,WAAa9G,KAAK0f,WAS5C,OARA1f,KAAK0f,YAAa,OAClB1f,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAO,OACP8B,OAAQuD,EACR9D,KAAM,OACN2K,QAAS,WAIX,KACGya,IAAO9iB,KAAK0f,aACd1f,KAAKxD,SAAS0hB,gBAAgBpX,SAAS0M,OAAOhS,IAE9C,OAED,GAAIqG,EAAQf,SAAS,QAMpB,YALA9G,KAAKgjB,WAAW,CACf9kB,WACA2J,UACArG,QAIF,GAAIqG,EAAQf,SAAS,QAEpB,YADA9G,KAAKijB,WAAW/kB,EAAUsD,EAAKuT,GAGhC,IAAKlN,EAAQf,SAAS,OAAQ,OAC9B,EAAG,CACF,GAAIgc,GAAM9iB,KAAK0f,WAAY,MAC3B,GAAI1f,KAAKmf,QAAQ/b,KAAK2L,GAAKA,EAAE9Q,SAAWuD,GACvC,OAED,IACEuT,GACD/U,KAAKxD,SAASyd,WACbja,KAAKif,WAAW3I,IAAI9U,GAErB,aAEO,GAET,MAAM0hB,EAAgBrb,EAAQgZ,MAAM,KAAK,GACzC,IAAKqC,EAAe,OAEpB,IAAKb,EAAU/M,GAAS4N,EAAcrC,MAAM,KAAK9d,IAAIgM,GAC7CA,EAAExL,QAEV,IAAK,MAAMlG,KAAW2C,KAAKxD,SAAS4hB,iBACnC,GAAIiE,EAASvb,SAASzJ,GACrB,OAGFiY,EAAQ2G,SAAS3G,GACjB,IAAI5X,EAAO,OACPmK,EAAQf,SAAS,QACpBpJ,EAAO,MAERsC,KAAK2iB,QAAQN,EAAU3kB,GACrBgJ,KAAK8X,IAIL,IAHK2E,MAAM7N,IAAUA,EAAQ,IAC5BkJ,EAAWA,EAAS2D,MAAM7M,EAAQ,KAE9BkJ,EAAS5gB,OAQb,YAPAoC,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAOkmB,EACPpkB,OAAQuD,EACR9D,KAAM,KACN2K,QAAS,WAKXga,EAAW7D,EAAS,GAAGriB,MACvB,MAAMymB,EAAU,CACf3kB,OAAQuD,EACRqG,UACA3J,WACA/B,MAAOkmB,EACPtL,OACAyH,SAAUA,EAASzb,IAAIua,IACjBA,EAAK7H,MAAK6H,EAAK7H,IAAM,aACnB6H,KAITtd,KAAK5B,QAAU,IAAI4B,KAAK5B,QAASwkB,GAE7B5iB,KAAKxD,SAASyd,UACjBja,KAAKif,WAAW1I,OAAO/U,GAEnBuT,IACJ/U,KAAKmf,QAAU,CAACyD,KAAY5iB,KAAKmf,SACjCnf,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAOkmB,EACPpkB,OAAQuD,EACR9D,KAAM,KACN2K,QAAU,YAAWrI,KAAK5B,QAAQR,UAIpCoC,KAAKqd,cAELlW,MAAMP,IACN5G,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAOkmB,EACPpkB,OAAQuD,EACR9D,KAAM,KACN2K,QAASzB,EAAE8b,kBAKhB,cACC1iB,KAAKvB,aAAeuB,KAAKvB,aAE1B,YAAW,SAAEP,EAAF,QAAY2J,EAAZ,IAAqBrG,IAC/B,IAAKqG,EACJ,OAED,MAAMwa,EAAWxa,EAAQgZ,MAAM,KAAK,GACpC7gB,KAAK2iB,QAAQN,EAAU,QACrB3b,KAAK8X,IACL,IAAKA,EAAS5gB,OAQb,YAPAoC,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAQ,QAAOkmB,EACfpkB,OAAQuD,EACR9D,KAAM,KACN2K,QAAS,YAIX,IAAIA,EAAU,GACViN,EAAQ,EACZ,MAAOjN,EAAQzK,OAAS,KAAO4gB,EAAS5gB,OAAQ,CAC/C,MAAM0f,EAAOkB,EAAS1c,QACtBuG,GAAY,GAAEiN,KAAStV,KAAKiiB,QAAQ3E,EAAKV,OAAQ,OACjDtH,IAEDtV,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAQ,QAAOkmB,EACfpkB,OAAQuD,EACR9D,KAAM,GACN2K,cAGDlB,MAAMP,IACN5G,KAAKkf,cAAc7T,KAAK,CACvBnN,WACA/B,MAAOkmB,EACPpkB,OAAQuD,EACR9D,KAAM,KACN2K,QAASzB,EAAE8b,gBAIfrF,UAAW,MAAS,WACnB,GAAIrd,KAAKod,QACR,OAGD,MAAMgG,EAAUpjB,KAAKxD,SAASgiB,SAAS5gB,OACvC,IACEoC,KAAK5B,QAAQR,QACdoC,KAAKxD,SAAS6hB,uBACd+E,EAOA,OALApjB,KAAKyd,OAASzd,KAAKxD,SAASgiB,SAC3BvC,SAASpa,KAAKqa,SAAWkH,IAE1BpjB,KAAKxD,SAASghB,QAAU,UACxBxd,KAAK0d,gBAGN1d,KAAKof,UAAY,EACjBpf,KAAKod,QAAUpd,KAAK5B,QAAQ0D,UAC1B,KACH,SAASwb,GACRtd,KAAKwf,UAAY,CAChBrjB,MAAO,GACPsjB,OAAQ,IAETzf,KAAK5B,QAAU4B,KAAK5B,QAAQiC,OAAO0O,GAAKA,IAAMuO,GAC9Ctd,KAAKof,UAAY,EACjBpf,KAAKod,QAAUE,GAEhB,eACC,IAAI9gB,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MAC5D,GAAIQ,EACH,IACCA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,GAC5B,MAAOmG,IAGV3C,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBqB,KAAKc,gBAEN,eACC4C,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCj5BxB,GAAOH,OAASA,GAChB,GAAOC,UAAY,kBAEJ,iB,oNCMf,MAAM+mB,EAAQ,iBAActgB,IAAKgM,GAAWA,EAAEjS,OAExC,MAAOwmB,EAAb,cACC,KAAAC,SAAgB,GAChB,KAAAvU,SAAgB,GAChB,KAAAwU,UAAiB,GACjB,KAAAnjB,OAAS,CACRC,GACED,SAAQojB,SAAQC,YAAWpV,kBAC3BQ,YAAWmB,YACb9C,KAKA,GAHA7M,EAAUA,EAAQD,OAAO0O,GACjBsU,EAAM7kB,QAAQuQ,EAAErR,OAAS,IAE5B2C,EAAOlC,KACX,OAAOmC,EAAQ6hB,MAAM,EAAGsB,GAEzB,MAAMrL,EAAOtY,OAAOsY,KAAK9J,GACzB,IAAI9K,EAAQ,EACRkQ,GAAc,EACdiQ,GAAe,EACfC,GAAoB,EAExB,MAAMhY,EAAqB,GAC3B,IAAK,IAAImD,KAAKzO,EAAS,SACtB,IAAIujB,GAAa,EACjB,MAAMhB,EAAU,eAAU9T,EAAG,QAC7B,GAAIvL,EAAQigB,EACX,MAED,KACCpjB,EAAOgjB,MAAM7kB,QAAQuQ,EAAErR,MAAQ,GAC/B0a,EAAK5Z,QAAQgV,OAAOzE,EAAErR,OAAS,GAKhC,IACEmlB,GACDxiB,EAAOyO,WACPA,EAAU1L,KAAK0gB,GAEbA,IAAM,eAAY/U,GAAG9Q,QACrB6lB,EAAE7lB,SAAW,eAAY8Q,GAAG9Q,QAI9B0lB,GAAe,OAIhB,IACEd,IACDxiB,EAAO0jB,WACP5W,EAAKkN,WACL,yBAAStL,UAAT,eAAasL,YAAalN,EAAKkN,YAI3BwI,MAAW,yBAAS9T,UAAT,eAAaoK,OAAQuK,IAGrC,GACEb,GACU,MAAX9T,EAAErR,OACFuS,EAAS7M,KAAK0gB,GACN,eAAW/U,GAAGjI,SAASgd,IAJhC,CASO,GAAe,OAAX/U,EAAErR,MAAiB2C,EAAO2jB,YAAa,CACjDhkB,KAAKgP,SAAWhP,KAAKgP,SAASmT,MAAM,EAAG,GACvC,MAAMhT,EAAOnP,KAAKgP,SAAS5L,KAAM6gB,GAAW,eAAWlV,EAAGkV,IAC1D,GAAI9U,EAAM,CACTA,EAAK+U,cAAgB,EACrBxQ,GAAc,EACd,SAEAmQ,GAAa,EACb9U,EAAI,IACAA,EACHmV,aAAc,GAEflkB,KAAKgP,SAAS/M,QAAQ8M,QAEjB,GAAe,OAAXA,EAAErR,MAAiB2C,EAAO8jB,aAAc,CAClDnkB,KAAKwjB,UAAYxjB,KAAKwjB,UAAUrB,MAAM,EAAG,IACzC,MAAMiC,EAAQpkB,KAAKwjB,UAAUpgB,KAAM6gB,GAAW,eAAWlV,EAAGkV,IAC5D,GAAIG,EAAO,CACVA,EAAMF,cAAgB,EACtBxQ,GAAc,EACd,SAEAmQ,GAAa,EACb9U,EAAI,IACAA,EACHmV,aAAc,GAEflkB,KAAKwjB,UAAUvhB,QAAQ8M,QAElB,GAAe,OAAXA,EAAErR,MAAiB2C,EAAOgkB,YAAa,CACjD,MAAMziB,EAAMN,KAAKM,MACjB5B,KAAKujB,SAAWvjB,KAAKujB,SAASljB,OAC5B0O,GAAWnN,EAAMmN,EAAEuV,QAErB,MAAMnnB,EAAO6C,KAAKujB,SAASngB,KACzBmhB,GAAW,eAAWxV,EAAGwV,IAAM,eAASxV,EAAGwV,IAE7C,GAAIpnB,EAAM,CACTA,EAAKqG,OAASuL,EAAElI,KAAKrD,MACrBrG,EAAKmnB,OAAS1iB,EAAM,IACpB8R,GAAc,EACd,SAEAmQ,GAAa,EACb9U,EAAI,IACAA,EACHuV,OAAQ1iB,EAAM,IACd4B,MAAOuL,EAAElI,KAAKrD,OAEfxD,KAAKujB,SAASthB,QAAQ8M,GAGxBnD,EAAOP,KAAKwY,EAAa/jB,OAAO0kB,OAAOzV,GAAKA,GAC5CvL,SAxDCogB,GAAoB,EA2DtB,MAAO,CACNnQ,SAAU7H,EACV8H,cACAiQ,eACAC,sBAIF,KAAAvS,aAAe,CACdoT,EACAC,EACAloB,EACA4U,EACAjE,KAEA,MAAMsL,EAASzY,KAAKK,OAAOokB,EAAYjoB,EAAU4U,EAAgBjE,GACjE,MAAO,CACNC,KAAMpN,KAAK2kB,cACV,IAAIlM,EAAOhF,SAASuM,aAAc0E,GAClCloB,MAEEic,IAIL,KAAAkM,cAAgB,CAACrkB,EAAqB9D,IACjC8D,EAAQ1C,OAA2B,EAAlBpB,EAASinB,OACtBnjB,EAAQ6hB,MAAM,EAAG3lB,EAASinB,QAE3BnjB,GAIF,MAAMskB,EAAO,CACnBtkB,EACAkK,KAEA,IAAKlK,EACJ,MAAO,GAER,MAAMV,EAAc,eAAYU,GAC1BuiB,EAAU,eAAUviB,EAASkK,EAAMtK,OACnC2kB,EAAY,eAAYvkB,EAASkK,EAAMtK,OACvC4kB,EAActa,EAAMtK,MAAM0K,eAAeC,OAAOiE,UAAU1L,KAC9D2L,GAAWA,EAAE9Q,SAAW2B,EAAY3B,QAEhC+Q,EAAWxE,EAAMtK,MAAM0K,eAAeC,OAAOmE,UAAY,GACzD+V,EAAa/V,EAAS5L,KAC1B2L,GAAWA,EAAE9Q,SAAW2B,EAAY3B,QAEtC,MAAO,CACN,CACCjC,KAAM,QAAQ,eAAYsE,GAASmP,SACnC1Q,KAAM,qBACNimB,MAAM,EACN1mB,UAAU,GAEX,CACCtC,KAAM,OACN+C,KAAM,sBACNimB,MAAM,EACN1mB,UAAU,EACV2mB,MAAO,KACNrkB,OAAOzC,KAAK,0BAA0B,eAAOmC,MAG/C,CACCtE,KAAM,OACN+C,KAAM,sBACNimB,MAAOnC,GAAWgC,EAClBvmB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,gBAAiB9N,EAAY3B,QAC1C,IAAU,CACTqK,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,mBAI7B,CACCzT,KAAM,OACN+C,KAAM,sBACNimB,MAAOnC,IAAYgC,EACnBvmB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,aAAc9N,EAAY3B,QACvC,IAAU,CACTqK,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,mBAI7B,CACCzT,KAAM,SACN+C,KAAM,sBACNimB,MAAOnC,IAAYkC,EACnBzmB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,cAAe,CAC3BzP,OAAQ2B,EAAY3B,OACpBwR,SAAU7P,EAAY6P,WAEvB,IAAU,CACTnH,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,qBAI7B,CACCzT,KAAM,SACN+C,KAAM,sBACNimB,MAAOnC,GAAWkC,EAClBzmB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,iBAAkB,CAC9BzP,OAAQ2B,EAAY3B,OACpBwR,SAAU7P,EAAY6P,WAEvB,IAAU,CACTnH,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,qBAI7B,CACCzT,KAAM,YACN+C,KAAM,sBACNimB,MAAOnC,GAAWiC,EAClBxmB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,kBAAmB,CAC/BzP,OAAQ2B,EAAY3B,OACpBwR,SAAU7P,EAAY6P,WAEvB,IAAU,CACTnH,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,oBAI7B,CACCzT,KAAM,OACN+C,KAAM,sBACNimB,MAAOnC,IAAYiC,EACnBxmB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,eAAgB,CAC5BzP,OAAQ2B,EAAY3B,OACpBwR,SAAU7P,EAAY6P,WAEvB,IAAU,CACTnH,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,iBAI7B,CACCzT,KAAM,OACN+C,KAAM,sBACNimB,MAAOnC,EACPvkB,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,UAAW9N,EAAY3B,QACpC,IAAU,CACTqK,SAAU,KACV5K,KAAM,UACN2K,QAAS,KAAKzI,EAAY6P,oBAI7B,CACCzT,KAAM,SACN+C,KAAM,sBACNimB,KAAM5iB,QAAQ,eAAW9B,IACzBhC,UAAU,EACV2mB,MAAO,KACNza,EAAMkD,OAAO,aAAc,eAAWpN,IACtC,IAAU,CACTgI,SAAU,KACV5K,KAAM,UACN2K,QAAS,MAAM,eAAW/H,kB,oCCzU/B,sGAAO,MAgBM4kB,EAAc,IACnB,CACN,CACCnoB,MAAO,KACPW,KAAM,OACNZ,MAAO,KAER,CACCC,MAAO,KACPW,KAAM,OACNZ,MAAO,MAER,CACCC,MAAO,OACPW,KAAM,QACNZ,MAAO,MAER,CACCC,MAAO,KACPW,KAAM,YACNZ,MAAO,MAER,CACCC,MAAO,KACPW,KAAM,OACNZ,MAAO,MAER,CACCC,MAAO,OACPW,KAAM,WACNZ,MAAO,MAER,CACCC,MAAO,QACPW,KAAM,WACNZ,MAAO,OAIGqoB,EAAkB,IACvB,CACN,CACCpoB,MAAO,OACPD,MAAO,WAER,CACCC,MAAO,OACPD,MAAO,QAER,CACCC,MAAO,KACPD,MAAO,SAER,CACCC,MAAO,KACPD,MAAO,WAIGsoB,EAAejN,IAC3B,MAAMkN,EAAcH,IAAc9hB,KAAM2L,GAChCA,EAAEjS,QAAUqb,GAEpB,OAAKkN,EAGE,CACNtoB,MAAOsoB,EAAYtoB,MACnBob,OACAza,KAAM2nB,EAAY3nB,KAClB4nB,QAAS,IANF,K,oCChFT,OAAe,kBACP,CACNlhB,OAAQ,CACPmhB,OAAQ,WACRC,QAAS,GACTC,MAAO,IAERlpB,MAAO,CACN+H,cAAe,SACf+U,KAAM,mBACNhU,SAAU,GACVC,WAAY,UACZC,MAAO,yBACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,GACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,W,kKC3BVrJ,MAAM,W,SACLA,MAAM,uB,+BACuE,S,EACjF,yBAA2B,OAAtBA,MAAM,SAAQ,MAAE,G,SAGjBA,MAAM,iB,EACV,yBAA4B,OAAvBA,MAAM,SAAQ,OAAG,G,GACjBA,MAAM,S,+BAC4D,M,SAEnEA,MAAM,iB,EACV,yBAA8B,OAAzBA,MAAM,SAAQ,SAAK,G,SAEoBS,MAAA,8B,GACvCT,MAAM,Q,GACLA,MAAM,Y,GAMPA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,GAGLA,MAAM,S,EACV,yBAAe,WAAV,QAAI,G,6XA3BZ,yBA+BM,MA/BN,EA+BM,CA9B+C,WAAb,EAAA4pB,e,yBAAvC,yBAIM,MAJN,EAIM,CAHL,yBAAkG,GAAvF/oB,KAAK,OAAOe,KAAK,UAAW,QAAK,gBAAE,EAAA2nB,YAAW,OAAQ,EAAApf,kB,WAAgB,IAAK,C,UACtF,EACA,yBAAiJ,GAAvItJ,KAAK,OAAOJ,MAAA,gB,WAA6B,EAAAgL,S,qCAAA,EAAAA,SAAQ,GAAEhK,YAAY,kBAAmB,UAAO,sCAAQ,EAAA8nB,YAAW,QAAS,EAAApf,gBAAY,a,0BAEzF,SAAb,EAAAyf,e,yBAAtC,yBAIM,MAJN,EAIM,CAHL,EACA,yBAAsC,MAAtC,EAAsC,6BAAjB,EAAAC,WAAS,GAC9B,yBAAqF,GAA1EhpB,KAAK,OAAOe,KAAK,UAAW,QAAK,eAAE,EAAAgoB,cAAa,Y,WAAY,IAAE,C,aAEvB,OAAb,EAAAA,e,yBAAtC,yBAEM,MAFN,EAEM,CADL,KAE4B,cAAb,EAAAA,e,yBAAhB,yBAKM,MALN,EAKM,CAJL,yBAEM,MAFN,EAEM,CAFY,yBAAiD,OAA5C5pB,MAAM,SAAUihB,IAAK,EAAA6I,aAAa9b,Q,gBACxD,yBAAqD,MAArD,EAAqD,6BAA7B,EAAA8b,aAAanW,UAAQ,KAE9C,yBAA+H,GAAxHjT,SAAU,EAAAD,MAAOA,MAA2C,CAA3C,0CAA+E,sBAAlC8P,YAAa,EAAAA,a,qFAGnF,yBASY,G,WATQ,EAAA5N,Y,qCAAA,EAAAA,YAAW,I,WAC9B,IAGM,CAHN,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuF,GAA3E,SAAQ,EAAAC,gB,WAA0B,EAAAlC,SAASmC,Q,qCAAT,EAAAnC,SAASmC,QAAO,GAAGlB,IAAK,GAAKmB,IAAK,K,oCAEjF,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAoF,GAAxE,SAAQ,EAAAF,gB,WAA0B,EAAAlC,SAASiD,K,qCAAT,EAAAjD,SAASiD,KAAI,GAAGhC,IAAK,GAAKmB,IAAK,K,wEA5BhD,EAAAC,a,sHA2ClB,+BAAgB,CAC9B7C,KAAM,cACN8C,MAAO,QACPC,KAAM,2BACNC,YACC,mCACDC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEXumB,WAAY,CAAEC,KAAA,QACd,OACC,MAAO,CACNJ,cAAe,UACfL,YAAa,OACbU,UAAW,CACVtW,SAAU,GACV3F,OAAQ,IAETvC,SAAU,GACVoe,UAAW,GACX9mB,SAAS,EACT0N,WAAY,GACZ9N,aAAa,EACb4B,OAAQ,IAAI,OACZ9D,MAAO,CACN8D,OAAQ,CACPlC,MAAM,EACN6nB,SAAS,EACTjC,UAAU,EACVjV,WAAW,EACXzR,SAAS,EACTgnB,aAAa,EACbL,aAAa,EACbG,cAAc,EACdd,MAAO,CAAC,MAETI,OAAQ,IACRC,UAAW,EACXuC,MAAO,OACPC,WAAY,CACXC,MAAM,EACN1K,SAAS,EACT2K,WAAW,GAEZ9X,cAAe,GACf+X,WAAW,EACXvX,UAAW,GACXmB,SAAU,IAEXzT,SAAU,CACTmC,QAAS,GACTc,KAAM,OAIT,UACC,eACC,CAAC,iBAAkB,iBAAkB,eACrCmH,IACC9G,OAAOC,OAAOC,KAAKC,OAAOC,MAAO0G,KAGnC5G,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,aAC7BqZ,MAAM,wBACJzT,KAAKjE,GAAOA,EAAI6jB,QAChB5f,KAAK4f,IACLxmB,OAAOC,OAAOC,KAAKzD,MAAM+R,cAAegY,MAG3C,gBACC,iBACAtmB,KAAKc,gBAENE,SAAU,IACN,eAAS,CAAC,iBAAkB,iBAAkB,gBACjD,cACC,MAAyB,SAArBhB,KAAKqlB,YACDrlB,KAAKsM,eAAeC,WAErBvM,KAAKuM,YAEb,eACC,MAAyB,SAArBvM,KAAKqlB,YACDrlB,KAAKJ,YAENI,KAAK+lB,YAGd7kB,QAAS,CACR,QACClB,KAAK0lB,cAAgB,UACrB1lB,KAAKqlB,YAAc,OACnBrlB,KAAKuH,SAAW,GAChBvH,KAAK2lB,UAAY,IAElB,qBACC,GAAyB,SAArB3lB,KAAKqlB,YAER,YADArlB,KAAK0lB,cAAgB,cAItB1lB,KAAKnB,SAAU,EACf,MAAMqB,EAAQF,KAAKC,OAAOC,MAC1BF,KAAKuM,WAAa,GAClB,MAAMnG,EAAkB9F,IACvB,GAAI,eAAgBA,GAAU,CAC7B,MAAM9D,EAAWwD,KAAKzD,MAChB6U,EAAiBlR,EAAM0K,eAAeC,OACtCsC,EAAOjN,EAAMiN,MAIb,KAAEC,GAASpN,KAAKK,OAAOgR,aAC5B,CAAC/Q,GACDN,KAAKuM,WACL/P,EACA4U,EACAjE,GAEDnN,KAAKuM,WAAaa,IAGdjH,EAAgB1D,IACrBzC,KAAKnB,SAAU,EACfmB,KAAK0lB,cAAgB,cAEhBrf,EAAc,KACnBrG,KAAKnB,SAAU,EACfmB,KAAK0lB,cAAgB,OAEhBpf,EAAgBM,IACrB5G,KAAKnB,SAAU,EACfmB,KAAK2lB,UAAY/e,EACjB5G,KAAK0lB,cAAgB,QACjB9kB,OAAO4F,KAAK5F,OAAO4F,IAAI+N,SAExB3T,OAAO4F,KAAK5F,OAAO4F,IAAI+N,QAC3B,OAAOpB,KAAK,CACX1S,OAAQ6T,gBACD,OAAKhS,MAAM,CAChBC,QAAS,GACTC,SAAU,KAEX,IAAIC,EAAM,GACV,IACCA,QAAY,OAAK2M,YAAY,CAC5BnR,OAAQge,SAASjc,KAAKuH,YAEtB,MAAO5E,GAQR,OAPAqE,QAAQC,IAAItE,GACZ,IAAU,CACT0F,QAAS,UACTC,SAAU,KACV5K,KAAM,eAEPsC,KAAKnB,SAAU,GAGhB,MAAM,SAAE4Q,EAAF,OAAY3F,EAAZ,OAAoBzH,GAAWI,EAKrC,GAJAzC,KAAK+lB,UAAY,CAChBtW,WACA3F,WAEIzH,EAOJ,OANA,IAAU,CACTgG,QAAYoH,EAAF,aACVnH,SAAU,KACV5K,KAAM,eAEPsC,KAAKnB,SAAU,GAGhB,UACO,IAAa,CAClB1C,MAAUsT,EAAF,WACR4M,kBAAkB,EAClBC,kBAAmB,IACnBC,iBAAkB,OAElB,MAAO5Z,GAER,YADA3C,KAAKnB,SAAU,GAGhB,OACEoH,aACA,CAAEhI,OAAQ+P,OAAOhO,KAAKuH,WACtB,CACCpB,gBACAC,kBACAC,cACAC,kBAGDa,MAAMP,IACN5G,KAAK2lB,UAAY/e,EACbhG,OAAO4F,KAAK5F,OAAO4F,IAAI+N,WAG9BnB,QAAS,KACRpT,KAAKnB,SAAU,EACfmB,KAAK0lB,cAAgB,YAIxB,cACC1lB,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MACxDQ,IACHA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,IAG9BwD,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,KAEzBoF,SAASC,KAAKzH,MAAM0H,YAAY,SAAajE,KAAKxD,SAASiD,KAAhB,MAE5C,eACCiE,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UC/QxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,2DCRf,oEAAO,MAAMiqB,EAASC,GACdA,EAEKC,EAAYD,GACjBhT,OAAOgT,I,kCCJf,W,sFCAA,W,kCCAA,W,oCCWA,4PAAO,MAAMzZ,EAAU,KACf,CACN1K,OAAQ,GACRsF,WAAY,GACZxL,MAAO,GACPuqB,UAAW,GACXzY,cAAe,EACf0Y,WAAW,EACXC,QAAS,GACTC,cAAe,OAmBJpZ,EAAgB,KACrB,IACHV,IACH+Z,SAAUC,IACVC,aAAa,EACbC,UAAW,EACXC,YAAa,EACbC,UAAU,EACVC,uBAAuB,EACvBC,oBAAoB,IAWTN,EAAW,KAChB,CACNhb,WAAY,EACZC,aAAc,GACdG,cAAe,EACfD,gBAAiB,KAaNkC,EAAY,KACjB,CACN6Y,UAAW,EACXK,UAAW,EACXC,aAAc,EACdC,YAAa,EACbC,WAAY,EACZnf,SAAU,IAYC5L,EAAS,KACd,CACNkR,kBAAmB,KACnBO,UAAW,KACXL,aAAc,EACdkD,cAAe,IACf5C,UAAWA,MAYAjB,EAAO,KACZ,CACNua,SAAU,GACVrN,SAAU,GACVsN,WAAY,EACZC,UAAU,EACVC,qBAAsB,EACtBC,SAAU,K,qLCxHX,yBAAqC,OAAhChsB,MAAM,SAAUS,MAAO,EAAAA,O,8DCad,+BAAgB,CAC9BP,KAAM,SACN8C,MAAO,OACPwb,cAAe,CACdC,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,MACpCC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,yBAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAKA,MACL,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,GACbwc,WAAY,OAAO,eAAU/Y,KAAKM,uBAV3B,O,UCnCX,EAAOjE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,4JCPd,yBAAoE,QAA9DR,MAAM,UAAWS,MAAO,EAAAA,O,6BAAS,EAAAwrB,YAAY,EAAAznB,UAAO,K,oDCa5C,+BAAgB,CAC9BtE,KAAM,WACN8C,MAAO,OACPwb,cAAe,CACdC,UAAW,CAAC,MACZC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,wBAEVC,WAAY,CACXD,SAAS,IAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,KAaV2E,QAAS,CAAE6mB,YAAA,U,UCnDZ,EAAO1rB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,OAAe,kBACP,CACN8H,OAAQ,CACPC,QAAQ,EACRrI,MAAM,GAEPO,MAAO,CACN2C,MAAO,GACPC,OAAQ,GAERqF,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EAEdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,OACbb,cAAe,a,oCCvBlB,8DAGA,MAAM0jB,UAAgB,OAGrB,cACCC,QAHD,KAAAC,YAAa,EACb,KAAA1Y,GAAK,GAGJxP,KAAKwP,GAAK,GAGX,SAASA,GACR,OAAKxP,KAAKmoB,iBACF,eAAU,WAAY,CAC5BzqB,KAAM,EACNmJ,KAAM,CACLuhB,SAAU5Y,KAET9I,KAAK,KACP,OAASH,GAAGW,iBAAiB,UAAYN,IACxC,MAAMC,EAAOhD,KAAKC,MAAM8C,EAAEC,MAC1B,GAAkB,IAAdA,EAAKnJ,KACR,IACC,GAAImJ,EAAKlE,MACR,MAAM,IAAI0E,MAAMR,EAAKlE,OAGtB,MAAM0lB,EAAWxkB,KAAKC,MAAM+C,EAAKA,KAAKwB,SAClCggB,EAASC,WAAatoB,KAAKwP,IAC9BxP,KAAKsL,KAAK+c,EAASpD,MAAOoD,EAASxhB,MAEnC,MAAOlE,GACRqE,QAAQrE,MAAMA,MAIjB,OAAS4D,GAAGW,iBAAiB,QAAUN,IACtC5G,KAAKkoB,YAAa,IAEnBloB,KAAKkoB,YAAa,EAClBloB,KAAKwP,GAAKA,EACVxP,KAAKsL,KAAK,gBAMb,aACC,OAAItL,KAAKwP,GACDxP,KAAK8I,SAAS9I,KAAKwP,KAE1BxI,QAAQC,IAAI,wBACL,GAIT,gBAEC,OADKjH,KAAKkoB,YAAYlhB,QAAQC,IAAI,qBAC3BjH,KAAKkoB,WAGb,OAAOK,EAAgB1hB,EAAY,GAAI2hB,EAAW,IACjD,MAAMC,EAAU,IACR,eAAU,oBAAqB,CACrC/qB,KAAM,EACNmJ,KAAM,CACLuhB,SAAUI,EACVngB,QAASxE,KAAKM,UAAU,CACvBmkB,SAAUtoB,KAAKwP,GACfyV,MAAOsD,EACP1hB,YAKJ,GAAI7G,KAAKmoB,gBACR,OAAOM,KASH,MAAMC,EAAU,IAAIV,G,0JCpF1B,yBAAwE,OAAnElsB,MAAM,eAAgBS,MAAO,EAAAA,MAAO,UAAQ,EAAAosB,WAAW,EAAAroB,U,wJCiB9C,+BAAgB,CAC9BtE,KAAM,cACN8C,MAAO,QACPwb,cAAe,CACdC,UAAW,GACXC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,yBAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,IACN,eAAS,CAAC,iBAAkB,SAC/B,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAKA,MACL,eAAKA,MACL,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,IAVN,KAcV2E,QAAS,CACR,aAAU,UACT,IAAI2G,EAAO,UAAG7H,KAAKwO,eAAR,iBAAG,EAAcpK,cAAjB,aAAG,EAAsBkX,KACpC,IAAKzT,EACJ,MAAO,GAER,GAAI,UAAC7H,KAAK4K,eAAeC,cAArB,QAAC,EAA4B+d,QAChC,OAAO/gB,EAER,IAAI,YAAEoM,EAAF,aAAe4U,GAAiB7oB,KAAK+K,KACzC,IAAKkJ,IAAgB4U,EAAc,CAClC,MAAM,QAAEC,EAAF,OAAW3oB,GAAWH,KAAK4X,iBACjC3D,EAAcjU,KAAK+K,KAAKkJ,YAAc9T,EACtC0oB,EAAe7oB,KAAK+K,KAAK8d,aAAeC,EAErC,kBACH,IAAIjhB,EAAQkhB,SAAS,WAAW3nB,QAAQkC,IACvCuE,EAAU,IACTA,EACAvE,EAAM,GACN,mDAAmDA,EAAM,sCAAsCA,EAAM,kBAIxG,MAAM1E,EAAMoB,KAAK4K,eAAeC,OAAOme,YAAc,EAerD,MAdA,IAAInhB,EAAQkhB,SAAS9U,IAAc7S,QAAQ,CAACkC,EAAOgS,KAClD,IAAKuT,EAAavlB,EAAM,IACvB,OAED,IAAI2lB,EAAc,GACd3T,EAAQ1W,IACXqqB,EAAc,yBACbJ,EAAavlB,EAAM,IAAI4lB,sEAEvBL,EAAavlB,EAAM,IAAImS,WAGzB5N,EAAUA,EAAQwO,QAAQ/S,EAAM,GAAI2lB,KAE9BphB,GAER,iBACC,MAAMihB,EAAU,GACVjmB,EAAiB,GACvB7C,KAAK4K,eAAeC,OAAOse,OAAO/nB,QAASgoB,IAC1C,MAAMC,EAAQ,eAAaD,EAAME,SACjCzmB,EAAUwI,KAAKge,GAEfP,EAAQM,EAAME,SAAW,CACxB7T,IAAK2T,EAAM3T,IACXyT,MAAOE,EAAMF,MACbG,MAAO,IAAIpmB,OAAOomB,EAAO,QAG3B,MAAMlpB,EAAUH,KAAK+K,KAAKkJ,YAAc,IAAIhR,OAC3CJ,EAAUK,KAAK,KACf,KAGD,OADAlD,KAAK+K,KAAK8d,aAAeC,EAClB,CACN3oB,SACA2oB,e,UCnHJ,EAAOzsB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oKCPd,yBAEM,OAFDR,MAAM,eAAgB,YAAS,oBAAE,EAAAytB,mBAAA,EAAAA,qBAAA,K,CACrC,wBAAQ,qB,sBCCK,+BAAgB,CAC9BvtB,KAAM,eACN,OACC,MAAMW,EAAY,KAClB,MAAO,CACNA,SAGFuE,QAAS,CACR,kBAAkB0F,GACjB,MAAM4iB,EAAS5iB,EAAE6iB,QACXC,EAAS9iB,EAAE+iB,QACXC,EAAc,OAAIC,cAClBC,EAAeC,IACf/pB,KAAKrD,OACTqD,KAAKrD,KAAO,CACXwC,OAAQyB,OAAOopB,YACf9qB,MAAO0B,OAAOqpB,aAGhB,OAAIC,UAAU,IACVlqB,KAAKrD,KACRwtB,EAAGP,EAAY,IAAMG,EAAIN,QAAUD,GACnCY,EAAGR,EAAY,IAAMG,EAAIJ,QAAUD,MAGrC9oB,OAAOsG,iBAAiB,YAAa4iB,GACrClpB,OAAOsG,iBACN,UACA,KACCtG,OAAOmG,oBAAoB,YAAa+iB,GACxC9pB,KAAKrD,KAAO,MAEb,CACC0tB,MAAM,Q,UChCX,EAAOhuB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,kCAAO,MAAMkQ,EAAa,IAClBpK,QAAQxB,QAAUA,OAAO0pB,SAAW1pB,OAAO0pB,QAAQ5sB,O,oCCD3D,W,oCCAA,W,0JCCC,yBAAwD,QAAlD5B,MAAM,UAAWS,MAAO,EAAAA,MAAO,UAAQ,EAAAsL,S,oKCiB/B,+BAAgB,CAC9B7L,KAAM,UACN8C,MAAO,OACPwb,cAAe,CACdC,UAAW,CAAC,KACZC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,wBAEVC,WAAY,CACXD,SAAS,IAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,IACN,eAAS,CAAC,iBAAkB,SAC/B,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,IAYT,UAAO,YACN,MAAMguB,GAAS,UAAAvqB,KAAKwO,eAAL,mBAAcpK,cAAd,eAAsBohB,UAAW,GAC1CC,GAAQ,UAAAzlB,KAAKwO,eAAL,mBAAcpK,cAAd,eAAsBqhB,QAAS,GAC7C,MAAO,GAAG8E,IAASvqB,KAAK2oB,WAAW3oB,KAAKM,WAAWmlB,MAGrDvkB,QAAS,CACR,WAAWZ,GAAY,QACtB,IAAIuH,EAAU,eAAWvH,GACzB,GAAI,UAACN,KAAK4K,sBAAN,iBAAC,EAAqBC,cAAtB,QAAC,EAA6B+d,SAAW5oB,KAAK2a,WACjD,OAAO9S,EAER,IAAI,YAAEoM,EAAF,aAAe4U,GAAiB7oB,KAAK+K,KACzC,IAAKkJ,IAAgB4U,EAAc,CAClC,MAAM,QAAEC,EAAF,OAAW3oB,GAAWH,KAAK4X,iBACjC3D,EAAcjU,KAAK+K,KAAKkJ,YAAc9T,EACtC0oB,EAAe7oB,KAAK+K,KAAK8d,aAAeC,EAErC,kBACH,IAAIjhB,EAAQkhB,SAAS,sBAAsB3nB,QAAQkC,IAClDuE,EAAU,IACTA,EACAvE,EAAM,GACN,mDAAmDA,EAAM,sCAAsCA,EAAM,kBAIxG,MAAM1E,EAAMoB,KAAK4K,eAAeC,OAAOme,YAAc,EAerD,MAdA,IAAInhB,EAAQkhB,SAAS9U,IAAc7S,QAAQ,CAACkC,EAAOgS,KAClD,IAAKuT,EAAavlB,EAAM,IACvB,OAED,IAAI2lB,EAAc,GACd3T,EAAQ1W,IACXqqB,EAAc,yBACbJ,EAAavlB,EAAM,IAAI4lB,sEAEvBL,EAAavlB,EAAM,IAAImS,WAGzB5N,EAAUA,EAAQwO,QAAQ/S,EAAM,GAAI2lB,KAE9BphB,GAER,iBACC,MAAMihB,EAAU,GACVjmB,EAAiB,GACvB7C,KAAK4K,eAAeC,OAAOse,OAAO/nB,QAASgoB,IAC1C,MAAMC,EAAQ,eAAaD,EAAME,SACjCzmB,EAAUwI,KAAKge,GAEfP,EAAQM,EAAME,SAAW,CACxB7T,IAAK2T,EAAM3T,IACXyT,MAAOE,EAAMF,MACbG,MAAO,IAAIpmB,OAAOomB,EAAO,QAG3B,MAAMlpB,EAAUH,KAAK+K,KAAKkJ,YAAc,IAAIhR,OAC3CJ,EAAUK,KAAK,KACf,KAGD,OADAlD,KAAK+K,KAAK8d,aAAeC,EAClB,CACN3oB,SACA2oB,e,UCvHJ,EAAOzsB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,mHCPd,yBAEM,OAFDR,MAAM,UAAWS,MAAK,OAAgB,IAAJ,EAAAiuB,KAAI,GAAhB,M,CAC1B,wBAAQ,qB,GCAK,mCAAgB,CAC9BxuB,KAAM,UACNI,MAAO,CACNouB,KAAM,CACL9sB,KAAMsQ,OACN0M,QAAS,O,UCFZ,EAAOre,OAASA,EAED,gB,oCCPf,mCAWe,kBACP,CACNqB,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXqE,KAAM,eAAQ,QAAS,SAGzB/e,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX/X,MAAO,eAAS,KAAM,OACtBC,OAAQ,eAAS,KAAM,OACvBmF,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,OAC1C2S,OAAQ,eAAS,KAAM,OACvBC,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAGrB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eACf,KACA,OAAMA,iBACN,OAEDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCvI,gBAAiB,eAAiB,QAClCwI,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,a,sICjFjC,OAAe,kBACP,CACNf,OAAQ,CACPohB,QAAS,GACTC,MAAO,IAERlpB,MAAO,CACN+H,cAAe,SACf+U,KAAM,mBACNhU,SAAU,GACVC,WAAY,UACZC,MAAO,yBACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,GACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,W,0TC1BVqK,GAAG,Q,GACF1T,MAAM,c,GAQNA,MAAM,W,2LATZ,yBAgBM,MAhBN,EAgBM,CAfL,yBAOM,MAPN,EAOM,CANL,yBAAsE,GAAtDA,MAAM,WAAS,C,UAAC,IAAqB,C,0DAAnB,EAAA2uB,OAAOC,KAAK5rB,OAAK,K,MACnD,yBAAwE,OAAnEhD,MAAM,+BAAgC,QAAK,eAAE,EAAAuC,SAASlC,MAAM,OACvB,EAAAwuB,Y,yBAA1C,yBAAyF,O,MAApF7uB,MAAM,yBAA4C,QAAK,eAAE,EAAA6uB,cAAcxuB,MAAM,Q,uCAClF,yBAAmH,OAA9GL,MAAK,CAAC,6BAA4B,QAAiB,EAAA8uB,QAAS,QAAK,gBAAE,EAAAA,OAAS,EAAAA,MAAM,EAAAC,OAAO,EAAAD,SAAQzuB,MAAM,M,QAC5G,yBAAoE,OAA/DL,MAAM,uBAAwB,QAAK,eAAE,EAAAgvB,YAAY3uB,MAAM,QAC5D,yBAAgE,OAA3DL,MAAM,uBAAwB,QAAK,eAAE,EAAAyY,SAASpY,MAAM,SAE1D,yBAMM,MANN,EAMM,CALL,yBAIc,Q,UAHb,EADsB4uB,eAAS,CAC/B,yBAEa,iBAFD/uB,KAAK,OAAOC,KAAK,U,WAC5B,IAA6D,E,yBAA7D,yBAA6D,qCAAb8uB,GAAS,CAA7C,aAAU,eAAE,EAAAJ,WAAWK,Q,qDAWzB,+BAAgB,CAC9BhvB,KAAM,OACN6pB,WAAY,CAAEoF,gBAAA,YACd/pB,QAAS,CACR2pB,OAAA,OACAC,SAAA,OACAvW,MAAA,OACA,QACC3T,OAAOgV,SAASsV,WAGlB,OACC,MAAO,CACNP,YAAY,EACZC,OAAO,IAGT,UACC7mB,SAASC,KAAKmnB,UAAUhV,IAAI,a,oBCpC9B,EAAO9Z,OAASA,EAChB,EAAOC,UAAY,kBAEJ,QCPA,GACdN,KAAM,UACNovB,KAAM,WACNC,UAAW,EACXpf,SAAU,mBAAclJ,IAAI,EAAG/G,OAAMqvB,YAAWvsB,YACxC,CACN9C,OACAqvB,YACAX,KAAM,CACL5rB,SAEDssB,KAAM,YAAYpvB,MCZN,GACd,CACCovB,KAAM,eACNpvB,KAAM,UACN0uB,KAAM,CACL3tB,MAAO,MACPgC,KAAM,2BACNusB,OAAQ,SACRC,YAAY,GAEbF,UAAW,IAAM,yFAGf,gBAAWtoB,IAAI,EAAG/G,OAAMqvB,YAAWvsB,YAC9B,CACN9C,OACAqvB,YACAX,KAAM,CACL5rB,QACAysB,YAAY,GAEbH,KAAM,QAAQpvB,KAGhB,CACCovB,KAAM,OACNpvB,KAAM,MACNqvB,UAAW,IAAM,kDCvBnB,MAAMG,EAAgC,iBACnC,IAAI,OAAQC,GACZ,EAEGC,EAAS,eAAa,CAC3BC,QAAS,eAAiB,KAC1BH,WAEI,iBACJE,EAAOE,WAAW,CAACC,EAAIC,EAAMC,KAC5B,GAAK,iBAQE,CAEN,GAAIF,EAAGnB,KAAKpsB,UAAYutB,EAAGnB,KAAKpsB,WAE/B,YADAytB,GAAK,GAGN,GAAIF,EAAGG,SAASllB,SAAS,UAExB,YADAilB,IAID,GAA0C,SAAtClf,eAAelJ,QAAQ,WAC1B,MAAgB,UAAZkoB,EAAG7vB,UACN+vB,SAGDA,EAAK,CACJ/vB,KAAM,cAIR,GAAgB,UAAZ6vB,EAAG7vB,KAEN,YADA+vB,IAGDA,EAAK,CACJ/vB,KAAM,cAlCW,CAClB,GAAI6vB,EAAGnB,KAAKa,YAA0B,QAAZM,EAAG7vB,KAE5B,YADA+vB,IAGDA,EAAK,CACJ/vB,KAAM,WAkCK,Q,6GCxCd,yBAMM,OANDwT,GAAG,MAAO1T,MAAK,SAAW,EAAAmE,OAAOC,MAAM+rB,Y,CAC3C,yBAIc,Q,6BAHb,EADsBlB,eAAS,CAC/B,yBAEa,iBAFD/uB,KAAK,OAAOC,KAAK,U,8BAC5B,IAA6B,E,yBAA7B,yBAA6B,qCAAb8uB,O,uBCfL,mCAAgB,CAC9B/uB,KAAM,Q,UCCP,EAAOK,OAAS,EAED,Q,UCNR,MAAM6vB,EAAkBC,IAC9B,MAAMC,EAAmB,UAMzBA,EAAiBhU,OAAOhX,QAAQirB,IAC/B,MAAMC,EAAkBF,EAAiBC,GACzCF,EAAGd,UACFiB,EAAgB5R,QAAQ1e,MACvBqwB,EAAShW,QAAQ,KAAM,IAAIA,QAAQ,OAAQ,IAC5CiW,EAAgB5R,SAAW4R,MCbjBC,EAAa,IAClB,CACN,CAAC,EAAG,QACJ,CAAC,KAAM,QACP,CAAC,IAAK,OACN,CAAC,KAAM,Q,gBCDT,MAAMC,EAAiBD,IAEVE,EAAa,KACzB,MAAMC,EAAM9rB,OAAO+rB,iBACnB,IAAK,MAAM5d,KAAKyd,EAAUxM,UACzB,GAAI0M,GAAO3d,EAAE,GAEZ,YADAhL,SAASC,KAAKzH,MAAMkD,KAAOsP,EAAE,IAI/BhL,SAASC,KAAKzH,MAAMkD,KAAO,QAEfmtB,EAAS,KAEsB,CAM1C,MAAMjqB,EAAQqE,QAAQrE,MAChBkqB,EAAK7lB,QAAQC,IACnBD,QAAQrE,MAASiE,IAChBjE,EAAMiE,GACFA,aAAaS,OAChB,eAAImM,OAAO5M,EAAEkmB,OAAS,IAAI,iBAASC,UAGrC/lB,QAAQC,IAAM,IAAIL,KACjBimB,KAAMjmB,GACN,eAAI/C,KAAKM,UAAUyC,KAEpBhG,OAAOsG,iBAAiB,qBAAsBN,IACzCA,EAAEomB,kBAAkB3lB,OACvB,eAAImM,OAAO5M,EAAEomB,OAAOF,OAAS,IAAI,iBAASC,WAG5CnsB,OAAOsG,iBAAiB,QAASN,IAChC,eAAI4M,OAAO5M,EAAEjE,MAAMmqB,OAAS,IAAI,iBAASC,aAI/BE,EAAgB,CAACR,EAAYG,GAE7BM,EAAiB,KAC7BD,EAAc7rB,QAAS8S,IACtBA,OC5BIiZ,EAAM,uBAAU,CACrB9wB,OAAQ,IAAM,eAAE+wB,KAEfC,IAHU,KAIVA,IAAI,GACJA,IAAI7iB,EAAA,MACN0hB,EAAeiB,GACfD,IACAC,EAAIG,MAAM,S,oCC9BV,W,mKCGG,yBAAiC,QAA3BxxB,MAAM,oBAAkB,S,wIAFhC,yBAKa,EALO,EAAAyxB,OAAM,CACdC,UAAS,EACnB,IAAiC,CAAjC,I,UAED,IAAQ,CAAR,wBAAQ,sB,WAMK,mCAAgB,CAC9BxxB,KAAM,eCTP,EAAOK,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,0KCJRR,MAAM,gB,mBACNA,MAAM,a,EACV,yBAAqC,OAAhCA,MAAM,gBAAe,SAAK,G,SAE3BA,MAAM,S,GAEHA,MAAM,U,GAENA,MAAM,U,SAGTA,MAAM,SAASS,MAAA,uC,6EAZrB,yBAaM,OAbDT,MAAM,QAASS,MAAK,wBAA0B,EAAAE,mBAAe,KAAY,EAAAgD,KAAZ,M,CAC3B,WAAN,EAAA/C,Q,yBAAhC,yBAAuH,MAAvH,EAAuH,C,kEAA1D,EAAAP,OAAK,GAAsB,SAAN,EAAAO,Q,yBAAZ,yBAA2C,SAAd,Y,iFAChE,WAAN,EAAAA,Q,yBAA7B,yBAEM,MAFN,EAEM,CADL,K,0DAE2CoK,SAAS,EAAApK,S,yBAArD,yBAMM,MANN,EAMM,E,2BALL,yBAIM,2CAJkC,EAAAoG,SAAQ,CAAvBE,EAAKsS,K,yBAA9B,yBAIM,OAJDxZ,MAAM,MAAwCI,IAAKoZ,EAAQ/Y,MAAK,WAAkB,EAAAuG,SAASlF,OAA3B,M,CACpE,yBAA0C,OAA1C,EAA0C,6BAAnBoF,EAAKQ,OAAK,GACjC,yBAAwH,OAAnH1H,MAAM,SAAUS,MAAK,SAAeyG,EAAKQ,MAAgB,IAAVR,EAAKQ,MAAU,EAAA5E,IAAG,GAA5C,KAAqD,QAAK,IAAE,EAAA4Y,UAAUlC,EAAM,EAAA/V,WAAS,I,qBAC/G,yBAA4C,OAA5C,EAA4C,6BAArByD,EAAK3F,SAAO,I,qDAGqC,UAAN,EAAAX,Q,yBAApE,yBAAiI,MAAjI,EAAsF,MAAG,6BAAE,EAAAO,UAAU,yBAAsB,I,yEAQ9G,+BAAgB,CAC9BjB,KAAM,kBACN8C,MAAO,SACPC,KAAM,iBACNC,YAAa,0BACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACN5C,OAAQ,UACRP,MAAO,GACP2G,SAAU,GACVrG,gBAAiB,GACjBmC,IAAK,EACL3B,SAAU,GACVwC,KAAM,IACNC,MAAO,OAGT,UACCM,KAAKmI,cACL,OAAQsO,GAAG,aAAc7P,IACxB5G,KAAKtD,OAASkK,EAAElK,OAChBsD,KAAK7D,MAAQyK,EAAEzK,MACf6D,KAAK8C,SAAW8D,EAAE9D,SAClB9C,KAAKvD,gBAAkBmK,EAAEnK,gBACzBuD,KAAK/C,SAAW2J,EAAE3J,SAClB+C,KAAKpB,IAAMgI,EAAEhI,KAAO,EACpBoB,KAAKP,KAAOmH,EAAEnH,QAGhB,gBACCsB,aAAaf,KAAKN,QAEnBwB,QAAS,CACR,cACCH,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,OAAM9I,KAAK4D,SAAS5H,SAIzCgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,S,UCnEN,EAAO9L,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,oFCAA,W,oCCAA,mCAWe,kBACd,MAAM8H,EAAS,CACdE,cAAe,eAAQ,OAAQ,OAAMA,gBAAiB,OACtDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YAAa,gDACV,eAAS,MAAO,QAEpBC,MAAO,CACN,YAAa,gDACV,eAAS,MAAO,QAEpBC,IAAK,CACJ,YAAa,gDACV,eAAS,OAAQ,QAErBC,OAAQ,CACP,YAAa,gDACV,eAAS,OAAQ,QAErB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eAAQ,KAAM,OAAMA,iBAAkB,OACtDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,QAE7B,MAAO,CACNzH,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX5S,OAAQ,eAAS,KAAM,OACvBrI,KAAM,eAAS,MAAO,SAGxBO,MAAO,CACNmB,KAAM,SACNvB,MAAO,OACP8a,WAAY,CACX3S,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAErB9S,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,SAG9BC,YAAa,CACZ1H,KAAM,SACNvB,MAAO,OACP,YAAa,kCACb8a,WAAY7S,GAEbwB,UAAW,CACVlI,KAAM,SACNvB,MAAO,QACP,YAAa,gCACb8a,WAAY7S,O,oFCvHhB,W,6DCAA,W,oCCAA,W,qLCCC,yBAEM,OAFDtI,MAAK,CAAC,eAAuB,EAAA2xB,Q,CACjC,wBAAQ,qB,KCAK,mCAAgB,CAC9BzxB,KAAM,eACNI,MAAO,CACNqxB,MAAO,CACN/vB,KAAM8V,OACNkH,QAAS,a,UCFZ,EAAOre,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,6DCRf,mCAYA,MAAM8H,EAAS,KACP,CACN1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX3S,cAAe,eAAQ,OAAQ,OAAMA,gBAAiB,OACtDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YAAa,gDACV,eAAS,MAAO,QAEpBC,MAAO,CACN,YAAa,gDACV,eAAS,MAAO,QAEpBC,IAAK,CACJ,YAAa,gDACV,eAAS,OAAQ,QAErBC,OAAQ,CACP,YAAa,gDACV,eAAS,OAAQ,QAGrB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eAAQ,KAAM,OAAMA,iBAAkB,OACtDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,UAIhB,kBACP,CACNzH,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX6D,QAAS,eACR,OACA,CACC,CACC/d,MAAO,KACPD,MAAO,SAER,CACCC,MAAO,MACPD,MAAO,YAGT,QAEDiY,MAAO,CACN,YAAa,0CACV,eAAS,WAEbyG,WAAY,CACX,YAAa,0CACV,eAAQ,SAEZC,QAAS,CACR,YAAa,4CACV,eAAS,WAEbE,aAAc,CACb,YAAa,4CACV,eAAQ,WAIdJ,WAAY,CACX,YAAa,iDACVnX,KAEJsX,aAAc,CACb,YAAa,mDACVtX,S,kCC1GP,W,kCCAA,W,kCCAA,mCAYe,kBACd,MAAMA,EAAS,CACdE,cAAe,eAAQ,OAAQ,OAAMA,gBAAiB,OACtDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YAAa,gDACV,eAAS,MAAO,QAEpBC,MAAO,CACN,YAAa,gDACV,eAAS,MAAO,QAEpBC,IAAK,CACJ,YAAa,gDACV,eAAS,OAAQ,QAErBC,OAAQ,CACP,YAAa,gDACV,eAAS,OAAQ,QAErB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9C0V,cAAe,eAAS,UAAW,OACnCzV,MAAO,IACH,eAAO,OAAQ,OAClB,YAAa,qCAEdC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eAAQ,KAAM,OAAMA,iBAAkB,OACtDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BkW,wBAAyB,eAAS,UAAW,OAC7CjW,gBAAiB,IACb,eAAU,OAAQ,OACrB,YAAa,+CAEdC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BgW,oBAAqB,eAAS,UAAW,OACzC/V,YAAa,IACT,eAAO,OAAQ,OAClB,YAAa,4CAGf,MAAO,CACNzH,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXlC,MAAO,eAAS,UAAW,OAC3B1Q,OAAQ,eAAS,KAAM,OACvBrI,KAAM,eAAS,MAAO,OACtB8e,QAAS,eAAS,OAAQ,QAC1BvV,MAAO,IACH,eAAQ,OAAQ,QACnBvG,YACC,8CAIJzC,MAAO,CACNmB,KAAM,SACNvB,MAAO,OACP8a,WAAY,CACX3S,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAErB9S,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BkW,wBAAyB,eAAS,UAAW,OAC7CjW,gBAAiB,IACb,eAAU,OAAQ,OACrB,YACC,+CAEFC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BgW,oBAAqB,eAAS,UAAW,OACzC/V,YAAa,IACT,eAAO,OAAQ,OAClB,YAAa,6CAIhBC,YAAa,CACZ1H,KAAM,SACNvB,MAAO,OACP,YAAa,kCACb8a,WAAY7S,GAEbwB,UAAW,CACVlI,KAAM,SACNvB,MAAO,QACP,YAAa,gCACb8a,WAAY7S,O,kCCpJhB,OAAe,kBACP,CACNA,OAAQ,CACP0W,QAAS,UACT/F,OAAO,EACPyG,WAAY,KACZC,SAAS,EACTE,aAAc,KAEfJ,WAAY,CACXjX,cAAe,SACf+U,KAAM,mBACNhU,SAAU,GACVC,WAAY,SACZC,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,IACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,sBACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,QAEduW,aAAc,CACbpX,cAAe,SACf+U,KAAM,mBACNhU,SAAU,GACVC,WAAY,SACZC,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,EACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,sBACjBC,aAAc,GACdC,YAAa,EACbC,YAAa,W,2DCrDhB,mCAUe,kBACP,CACNzH,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXsO,OAAQ,eAAQ,OAAQ,OACxBC,QAAS,eAAQ,KAAM,OACvBC,MAAO,eAAQ,KAAM,SAGvBlpB,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX3S,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAGrB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eACf,KACA,OAAMA,iBACN,OAEDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,a,qTC7EhC,yBAIM,OAJDrJ,MAAM,eAAgB,YAAS,oBAAE,EAAA4xB,aAAA,EAAAA,eAAA,IAAc,aAAU,gBAAE,EAAAC,YAAU,IAAS,aAAU,eAAE,EAAAA,YAAU,I,CACxG,yBAEmB,sBAFD3xB,KAAK,QAAM,C,UACmC,IAA8C,E,2BAA7G,yBAAyL,+CAApG,EAAA4xB,cAAc5N,UAA7B1f,G,sDAAtE,yBAAyL,GAA7J,cAAW,GAAE,EAAAutB,WAAavtB,EAAyDpE,IAAK,EAAA4xB,OAAOxtB,GAAWA,QAASA,EAAUkO,QAAS,EAAAuf,WAAWztB,I,mDAAxJ,EAAA8M,S,sHCMT,+BAAgB,CAC9BpR,KAAM,OACN6pB,WAAY,CAAEmI,aAAA,MACd5xB,MAAO,CACNiQ,YAAa,CACZqO,QAAS,IACD,IAGTle,SAAU,CACTie,UAAU,GAEXE,WAAY,CACXD,SAAS,IAGXuT,WAAY,CACXrJ,KAAM,OAAAA,EAAA,SAEP,OACC,MAAMsJ,OAAsBC,EACtBC,EAAmB,KACzB,MAAO,CACNF,iBACAE,cACAT,YAAY,EACZE,WAAY,OAGd7sB,SAAU,CACT,eACC,OAAOhB,KAAKqM,aAEb,OACC,OAAIrM,KAAK2a,WACD,GAED,eAAS3a,KAAK6tB,WAAY7tB,KAAKC,UAGxC,UACCD,KAAKkuB,eAAiB,IAAIG,iBAAiBruB,KAAKsuB,gBAChDtuB,KAAKkuB,eAAeK,QAAQvuB,KAAKwuB,IAAK,CACrCC,WAAW,EACXC,SAAS,IAEV1uB,KAAKsuB,iBACL,OAAM7X,GAAG,SAAUzW,KAAKsuB,iBAEzB,gBACCtuB,KAAKkuB,eAAeS,aACpB,OAAMC,IAAI,SAAU5uB,KAAKsuB,iBAE1BptB,QAAS,CACR,OAAOZ,GACN,OAAO,eAAQA,IAEhBguB,eAAgB,KAAS,WAExB,MAAMO,EAAO7uB,KAER6uB,EAAKlB,aACT5sB,aAAa8tB,EAAKT,aAClBS,EAAKlN,UAAU,KACdkN,EAAKL,IAAIM,SAAS,CACjBzX,IAAKwX,EAAKL,IAAIO,aACdC,SAAU,gBAIX,KACH,WAAW1uB,GAAY,MAEtB,MAAMkO,EAAO,UAAGxO,KAAKxD,gBAAR,aAAG,EAAe8R,cAAchO,EAAQ5C,MACrD,OAAI8Q,GAGG,eAAYlO,EAAQ5C,OAE5B,cACMsC,KAAK2tB,aAGV5sB,aAAaf,KAAKouB,aAClBpuB,KAAKouB,YAAcxrB,WAAW,KAC7B5C,KAAK2tB,YAAa,EAClB3tB,KAAKsuB,kBACH,U,UC3FN,EAAOjyB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,oCCRf,W,oCCAA,mCAUe,kBACP,CACNoB,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXuO,QAAS,eAAQ,KAAM,OACvBC,MAAO,eAAQ,KAAM,SAGvBlpB,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX3S,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAGrB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eACf,KACA,OAAMA,iBACN,OAEDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,a,6DC7EjC,W,oCCAA,W,4ICAA,qfAEO,MAAM8H,EAAcpG,GAEnB,eAAU,iBAAkB,CAClCnJ,KAAM,IACNmJ,SAIWooB,EAAa,IAClB,eAAU,iBAAkB,CAClCvxB,KAAM,MAIKwP,EAAWrG,GAChB,eAAU,UAAW,CAC3BnJ,KAAM,IACNmJ,KAAM,CACLU,SAAUV,EAAK5I,UAKLyC,EAAU,IACf,eAAU,UAAW,CAAEhD,KAAM,MAGxBgF,EAAc,EAAGL,YACtB,eAAU,cAAe,CAC/B3E,KAAM,IACNmJ,KAAM,CACLxE,YAKU6sB,EAAaroB,GAClB,eAAU,YAAa,CAC7BnJ,KAAM,IACNmJ,KAAM,CACLU,SAAUV,EAAK5I,UAKLkxB,EAAetoB,GACpB,eAAU,cAAe,CAC/BnJ,KAAM,IACNmJ,SAIW6H,EAAiB,IACtB,eAAU,iBAAkB,CAClChR,KAAM,MAIKiR,EAAc1Q,GACnB,eAAU,aAAc,CAC9BP,KAAM,IACNmJ,KAAM,CACLuoB,WAAYnxB,KAIF2Q,EAAiB3Q,GACtB,eAAU,gBAAiB,CACjCP,KAAM,IACNmJ,KAAM,CACLuoB,WAAYnxB,KAIF4Q,EAAgB,EAAG5Q,SAAQoE,YAChC,eAAU,gBAAiB,CACjC3E,KAAM,IACNmJ,KAAM,CACLwoB,UAAWpxB,EACXoE,a,kCCjFH,W,oCCAA,W,oCCAA,W,2FCEA,MAAM+pB,EAAmB,UAMnBxgB,EAAc,GAEpBwgB,EAAiBhU,OAAOhX,QAAQirB,IAC/B,MAAMvV,EAAUuV,EAAS/oB,MAAM,6BAC/B,GAAIwT,EAAS,SACZ,MAAMuU,EAAYe,EAAiBC,GAAU3R,QAC7C9O,EAAOyf,EAAUrvB,MAAQ,CACxBwT,GAAI,eAAS,GACbzS,MAAOsuB,EAAUvsB,MACjBwwB,QAASxY,EAAQ,GACjBwD,cAAe+Q,EAAU/Q,cACzB+Q,UAAW,qBACV,kCAAqB,IACpB,UACC,KAAyCgB,EAAShW,QACjD,KACA,OAKJkZ,UAAS,UAAElE,EAAUxkB,cAAZ,aAAE,EAAkBgU,cAC7B2U,WAAU,UAAEnE,EAAUxkB,cAAZ,aAAE,EAAkB+T,mBAIlB,gB,mJCjCd,yBAGM,OAHD9e,MAAK,CAAC,cAAa,QAAiB,EAAA6e,aAAcpe,MAAO,EAAAA,O,6BAC7D,yBAAoM,2CAAxK,EAAAiS,QAAQ8W,QAAlBmK,I,yBAAlB,yBAAoM,qCAAlJ,EAAAnK,QAAQmK,EAAOH,SAASjE,WAAS,CAAGqE,cAAa,EAAA/U,WAAaze,IAAKuzB,EAAOjgB,GAAKlP,QAAS,EAAAA,QAAUkO,QAASihB,EAAO3yB,MAAQ0G,MAAO,EAAAlD,QAAQkD,O,4DAChL,EAAAlD,QAAQ4jB,aAAY,G,yBAA/B,yBAA4G,OAAzEpoB,MAAM,QAASI,IAAK,EAAAoE,QAAQ4jB,cAAc,IAAC,6BAAE,EAAA5jB,QAAQ4jB,cAAY,I,qFCQvF,+BAAgB,CAC9BloB,KAAM,aACNI,MAAO,CACNoS,QAAS,CACRiM,UAAU,GAEXna,QAAS,CACRma,UAAU,GAEXE,WAAY,CACXD,SAAS,IAGX,OACC,MAAO,CACN4K,UAAA,aAGFtkB,SAAU,CACT,iBAEC,OAAOhB,KAAKwO,QAAQ8W,QAAQjlB,OAC1BovB,GAAmC,cAAnBA,EAAOH,UAG1B,QACC,IAAI,MAEH,MAAM/yB,EAAK,UAAGyD,KAAKwO,QAAQ8W,QAAQliB,KACjCqsB,GAAmC,cAAnBA,EAAOH,gBADd,aAAG,EAEXxyB,MAAMP,MACT,OAAIA,EACI,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAUA,IAGR,GACN,MAAOoG,GAER,OADAqE,QAAQrE,MAAMA,GACP,MAIVzB,QAAS,CAAEyuB,YAAA,U,UCrDZ,EAAOtzB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,oCCRf,oEAAM,MAAOszB,EAEZ,cADA,KAAAC,OAAc,GAEb7vB,KAAK6vB,OAAS,GAGf,GAAGtH,EAAgBuH,GAClB9vB,KAAK6vB,OAAOtH,GAAavoB,KAAK6vB,OAAOtH,IAAc,GACnDvoB,KAAK6vB,OAAOtH,GAAWld,KAAKykB,GAG7B,KAAKvH,EAAgBuH,GACpB9vB,KAAK6vB,OAAOtH,GAAavoB,KAAK6vB,OAAOtH,IAAc,GACnD,MAAM8B,EAAO,KACZrqB,KAAK4uB,IAAIrG,EAAW8B,GACpByF,KAED9vB,KAAK6vB,OAAOtH,GAAWld,KAAKgf,GAG7B,IAAI9B,EAAgBuH,GACnB,GAAI9vB,KAAK6vB,OAAOtH,GACf,IAAK,IAAIxZ,EAAI,EAAGA,EAAI/O,KAAK6vB,OAAOtH,GAAW3qB,OAAQmR,IAClD,GAAI/O,KAAK6vB,OAAOtH,GAAWxZ,KAAO+gB,EAAI,CACrC9vB,KAAK6vB,OAAOtH,GAAWvmB,OAAO+M,EAAG,GACjC,OAMJ,KAAKwZ,EAAgB1hB,EAAY,IAC5B7G,KAAK6vB,OAAOtH,IACfvoB,KAAK6vB,OAAOtH,GAAWnnB,QAAS0uB,IAC3BA,GAAIA,EAAGjpB,MAMR,MAAMoe,EAAQ,IAAI2K,G,2DCvCzB,oJACO,MAAMttB,EAASuE,GAEd,eAAU,QAAS,CACzBnJ,KAAM,EACNmJ,SAIWiG,EAAa,EAAG7O,YAErB,eAAU,oBAAqB,CACrCP,KAAM,IACNmJ,KAAM,CACL5I,YAKUmR,EAAc,EAAGnR,YAEtB,eAAU,oBAAqB,CACrCP,KAAM,IACNmJ,KAAM,CACL5I,a,oCCzBH,mCAQe,kBACP,CACNP,KAAM,SACNuZ,WAAY,CACX1a,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXpR,QAAS,eAAS,KAAM,OACxBC,SAAU,eACT,KACA,OAAMA,WAAWqc,MAAM,EAAG,GAC1B,OAED3d,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,a,oCC1BjC,oEAAO,MAAM4qB,EAAwB,KAC7B,CACN3mB,aAAc,GACd4mB,MAAO,CACN5rB,OAAQ,CACPkX,KAAM,YAEPvC,WAAY,CACXkX,eAAgB,EAChBjrB,gBAAiB,qBACjBvI,gBAAiB,GACjBuc,eAAgB,IAChBkX,mBAAoB,SACpBC,kBAAmB,UACnBC,mBAAoB,EACpBC,kBAAmB,KAEpBC,UAAW,CACVjX,KAAM,mBACNhU,SAAU,GACVC,WAAY,SACZC,MAAO,yBACPG,gBAAiB,GACjBC,gBAAiB,QAElB4qB,WAAY,CACXlX,KAAM,mBACNhU,SAAU,GACVC,WAAY,UACZC,MAAO,yBACPG,gBAAiB,GACjBC,gBAAiB,SAGnB6qB,QAAS,IACTxmB,aAAc,OAkBHiB,EAAiB,KACtB,IACH8kB,IACH9lB,aAAc,EACdF,YAAa,EACbG,WAAY,EACZpN,MAAO,EACP+K,QAAS,GACTiC,OAAQ,GACR5L,SAAU,GACVuyB,QAAQ,EACR5mB,OAAQ,EACRL,UAAW,EACXhI,IAAK,K,oCCzEP,wIAAO,MAAM8C,EAAgB,IACrB,CACN,CACCvH,MAAO,KACPD,MAAO,OAER,CACCC,MAAO,KACPD,MAAO,UAER,CACCC,MAAO,KACPD,MAAO,WAKGwI,EAAa,IAClB,CACN,CACCvI,MAAO,IACPD,MAAO,WAER,CACCC,MAAO,KACPD,MAAO,UAER,CACCC,MAAO,IACPD,MAAO,QAER,CACCC,MAAO,KACPD,MAAO,WAIG0I,EAAY,IACjB,CACN,CACCzI,MAAO,KACPD,MAAO,UAER,CACCC,MAAO,KACPD,MAAO,UAER,CACCC,MAAO,KACPD,MAAO,YAKG2I,EAAiB,IACtB,CACN,CACC1I,MAAO,IACPD,MAAO,QAER,CACCC,MAAO,MACPD,MAAO,aAER,CACCC,MAAO,MACPD,MAAO,YAER,CACCC,MAAO,MACPD,MAAO,iBAKGgJ,EAAW,IAChB,CACN,CACC/I,MAAO,KACPD,MAAO,WAER,CACCC,MAAO,KACPD,MAAO,UAER,CACCC,MAAO,KACPD,MAAO,WAKGyH,EAAW,IAChB,CACN,CACCxH,MAAO,MACPD,MAAO,IAER,CACCC,MAAO,OACPD,MAAO,YAER,CACCC,MAAO,OACPD,MAAO,aAKGmzB,EAAiB,IACtB,CACN,CACClzB,MAAO,QACPD,MAAO,GAER,CACCC,MAAO,UACPD,MAAO,IAKGozB,EAAqB,IAC1B,CACN,CACCnzB,MAAO,KACPD,MAAO,YAER,CACCC,MAAO,IACPD,MAAO,cAER,CACCC,MAAO,KACPD,MAAO,aAER,CACCC,MAAO,IACPD,MAAO,eAER,CACCC,MAAO,IACPD,MAAO,UAER,CACCC,MAAO,IACPD,MAAO,gBAER,CACCC,MAAO,KACPD,MAAO,eAER,CACCC,MAAO,IACPD,MAAO,iBAER,CACCC,MAAO,KACPD,MAAO,iBAKGszB,EAAqB,IAC1B,CACN,CACCrzB,MAAO,IACPD,MAAO,GAER,CACCC,MAAO,KACPD,MAAO,WAER,CACCC,MAAO,KACPD,MAAO,SAER,CACCC,MAAO,KACPD,MAAO,cAIK,QACdwH,gBACAgB,aACAE,YACAC,iBACAK,WACAvB,WACA0rB,iBACAC,qBACAE,uB,4JC/LA,yBAAwD,OAAnDt0B,MAAM,WAAYS,MAAO,EAAAA,O,6BAAS,EAAA2B,UAAQ,K,oDCajC,+BAAgB,CAC9BlC,KAAM,WACN8C,MAAO,MACPwb,cAAe,CACdC,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,MAC1CC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,yBAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAKA,MACL,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,IATN,IAYT,WAAQ,YACP,MAAMipB,GAAU,UAAAxlB,KAAKwO,eAAL,mBAAcpK,cAAd,eAAsBohB,UAAW,GAC3CC,GAAQ,UAAAzlB,KAAKwO,eAAL,mBAAcpK,cAAd,eAAsBqhB,QAAS,GAC7C,MAAO,GAAGD,IAAU,eAAYxlB,KAAKM,WAAWmlB,Q,UClDnD,EAAOppB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,+LCEOR,MAAM,S,6EADZ,yBAKM,OALDA,MAAM,WAAYS,MAAK,OAAG,EAAA2C,Q,CACL,EAAA/C,O,yBAAzB,yBAA+C,MAA/C,EAA+C,6BAAb,EAAAA,OAAK,I,uCACvC,yBAEM,OAFAL,MAAK,UAAY,EAAA40B,oBAAmB,KAAM,EAAAC,MAAM,EAAAjU,e,CACrD,wBAAQ,qB,SCFI,mCAAgB,CAC9B1gB,KAAM,WACNI,MAAO,CACND,MAAO,CACNuB,KAAM8V,QAEPkJ,aAAc,CACbhf,KAAM8V,QAEPkd,oBAAqB,CACpBhzB,KAAM0E,QACNsY,SAAS,GAEViW,KAAM,CACLjzB,KAAM0E,QACNsY,SAAS,GAEVxb,MAAO,CACNxB,KAAM8V,OACNkH,QAAS,U,UChBZ,EAAOre,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,0KCRR,MAAMgG,EAAQ,KACb,CACNsuB,WACC,2SACDC,YAAa,8BACbC,YAAa,0B,gBCJR,MAAMjmB,EAAS,KACd,CACN1O,MAAO,QACP2b,SAAU,QACViZ,aAAc,mBACdhE,QAAA,SCNWiE,EAAU,KACf,CACN3oB,QACC,0CACD4oB,OAAQ,CACP,CACC90B,MAAO,aACPuB,KAAM,OACNZ,MACC,gFAEF,CACCX,MAAO,OACPuB,KAAM,OACNZ,MAAO,CAAC,OAAQ,SAAU,SAE3B,CACCX,MAAO,KACPuB,KAAM,OACNZ,MACC,oMAEF,CACCX,MAAO,SACPuB,KAAM,OACNZ,MAAO,CACN,wCACA,oBACA,UACA,0CACA,yBACA,gBAGF,CACCX,MAAO,OACPuB,KAAM,OACNZ,MAAO,CACN,4EACA,uEACA,oBAGF,CACCX,MAAO,QACPuB,KAAM,SACNZ,MAAO,cC9CEo0B,EAAS,KACd,CACNC,KACC,kFACDC,KAAM,uD,oLCJO,SAASC,IACtB,OAAO,IAAIC,aAAaC,IAAxB,uCCGF,IAAIC,EAAe,KACf7xB,EAAsB,GAEnB,MAAM8xB,EAAqBnxB,IACjCX,EAAesC,QAAQ3B,IAGXoxB,EAAa,KACrBF,GAEHG,IAEDH,EAAU,IAAI,EACdA,EAAQI,KAAKnrB,QACb7F,OAAOsG,iBAAiB,eAAgB,KACvCsqB,EAAQI,KAAKC,YAAY,CAAC,YAEpBL,GAEKM,EAAgBtnB,IAC5B,MAAMunB,EAASL,IACfK,EAAOH,KAAKC,YAAY,CAAC,iBAEzBE,EAAOH,KAAKI,UAAaprB,IACxB,MAAO4Z,KAAQ9H,GAAS9R,EAAEC,KAE1B,GADAG,QAAQC,IAAIL,EAAEC,MACF,gBAAR2Z,EAAuB,CAC1B,MAAOhR,KAAOyiB,GAAUvZ,EAClB9M,EAAc,GACpBqmB,EAAO7wB,QAASlB,IAEd0L,EAAO1L,GADM,mBAAVA,EACaP,EAEA6K,EAAMtK,MAAMA,KAG9B6xB,EAAOH,KAAKC,YAAY,CACvB,eACAriB,EACA3L,KAAKM,UAAUyH,KAGL,WAAR4U,IACH7gB,EAAiB,MAKPuyB,EAAiB,CAACC,EAA0BC,KACxD,MAAML,EAASL,IACfK,EAAOH,KAAKC,YAAY,CAAC,oBAAqBM,IAC9CJ,EAAOH,KAAKI,UAAaprB,IACxB,MAAO4Z,EAAK3Z,GAAQD,EAAEC,KACtBG,QAAQC,IAAIL,EAAEC,MACF,aAAR2Z,GACH4R,EAASvuB,KAAKC,MAAM+C,MAKV8qB,EAAc,KACrBH,IAGLA,EAAQI,KAAKC,YAAY,CAAC,UAC1BL,EAAQI,KAAKrd,QACbid,EAAU,Q,kCCtEX,W,kCCAA,mCAUe,kBACP,CACN9zB,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXuO,QAAS,eAAQ,KAAM,OACvBC,MAAO,eAAQ,KAAM,SAGvBlpB,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX3S,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAErB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eACf,KACA,OAAMA,iBACN,OAEDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,a,kCC5EjC,0EAQA,MAAMyW,EAAgB,GACtB,IAAIyW,EAAe,KACfC,GAAU,EAEP,MAAMC,EAAO,EACnBC,QACAC,MACAxM,QACAyM,SACApyB,UACA0I,QACA2pB,eACA3e,UAAU,OAEV,IAAInM,EAAU,GACd,IAAKmB,EACJ,OAED,IAAI4pB,EAAW,GACf,GAAgC,MAA5B,eAAetyB,GAAmB,CAKrC,GAJAsyB,EAAW,eAAWtyB,GACtB0T,EAAQ5S,QAASf,IAChBuyB,EAAWA,EAAS5iB,WAAW3P,EAAQ,OAEnC,eAAkBuyB,GAAU5iB,WAAW,IAAK,IAChD,OAGA2iB,GACAN,GAC4B,MAA5B,eAAeA,IACf,eAAO/xB,KAAa,eAAO+xB,KAE3BxqB,EAAU+qB,GAsBZ,GAnBK/qB,GACJmB,EAAM5H,QAASmI,IACd,OAAQA,EAAK7L,MACZ,IAAK,OACJmK,GAAW0B,EAAKzM,MAChB,MACD,IAAK,WACe,eAAfyM,EAAKzM,OAA0B81B,EAClC/qB,GAAW+qB,EAGP,OAAarpB,EAAKzM,SAErB+K,GAAW,OAAa0B,EAAKzM,OAAOwD,QAMrCuH,EACJ,OAED,MAAMhB,EAAO,CACZ2rB,QACAC,MACAxM,QACAyM,SACApX,KAAMzT,EACNgrB,OAAQvyB,GAELgyB,GACC1W,EAAShe,QAAU,IACtBge,EAAS5Z,OAAO,GAEjB4Z,EAASvQ,KAAKxE,IAEdisB,EAASjsB,IAIEisB,EAAYjsB,IACxByrB,GAAU,EACVD,EAAUxrB,EAAKgsB,OACf,IAAIE,EAAc,OAAOrY,QACrB7T,EAAK2rB,QAERO,EAAS,OAAOlsB,EAAK2rB,QAAU,OAAO9X,SAEvCqY,EAAOlsB,GACLM,MAAOP,IACPI,QAAQrE,MAAMiE,KAEdU,QAAQ,KACR1E,WAAW,KACV0vB,GAAU,EACN1W,EAAS,IACZkX,EAASlX,EAAS5Z,OAAO,EAAG,GAAG,KAE9B,S,kCCtGN,OAAe,kBACP,CACNzF,MAAO,CACN+H,cAAe,SACf+U,KAAM,mBACNhU,SAAU,GACVC,WAAY,SACZC,MAAO,OACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,IACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,W,kKCtBVrJ,MAAM,Q,GAEHA,MAAM,mB,GACNA,MAAM,kB,SAEeA,MAAM,S,6EALnC,yBAMM,MANN,EAMM,E,2BALL,yBAGM,2CAH8D,EAAAsR,KAAL2B,I,yBAA/D,yBAGM,OAHDjT,MAAK,CAAC,YAAW,UAAmB,EAAAk3B,WAAWjkB,IAAuB7S,IAAK6S,EAAES,I,CACjF,yBAAgD,OAAhD,EAAgD,6BAAhBT,EAAEhS,OAAK,GACvC,yBAA0H,OAA1H,EAA0H,E,2BAA7F,yBAAsF,2CAA5D,EAAAuuB,OAAM,CAAlBpiB,EAAEoM,K,yBAAhB,yBAAsF,QAAnDpZ,IAAKoZ,EAAQxZ,MAAOoN,EAAEnK,KAAO,QAAK,GAAEmK,EAAEoiB,OAAOvc,I,2CAExF,IAAX,EAAA3B,KAAKxP,Q,yBAAhB,yBAA4D,MAA5D,EAA4D,6BAAhB,EAAAq1B,UAAQ,I,2CCJvC,mCAAgB,CAC9Bj3B,KAAM,OACNI,MAAO,CACNgR,KAAM,CACLsN,QAAS,IACD,IAGT4Q,OAAQ,CACP5Q,QAAS,IACD,IAGTsY,SAAU,CACTtY,QAAS,IAEVuY,SAAU,CACTvY,QAAS,W,UCdZ,EAAOre,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kKCLRR,MAAM,gB,+BAOS,U,GAKdA,MAAM,mB,6IAdb,yBAgBM,OAhBDA,MAAK,CAAC,QAAgB,EAAAqvB,UAAU,EAAA+H,c,CACpC,yBAAiG,OAA5Fp3B,MAAM,SAAUS,MAAK,wBAA4B,EAAAkY,SAAS3K,UAAM,YAAkB,EAAAvE,Q,QACvF,yBAaM,MAbN,EAaM,CAZL,yBAUM,OAVDzJ,MAAM,kBAAmBS,MAAK,iBAAqB,EAAAgJ,Q,CACvD,yBAAuH,GAArGhJ,MAAK,MAAW,EAAAC,SAASiD,KAApB,OAA+B,EAAA0zB,WAAYr3B,MAAM,kBAAmBiB,MAAO,EAAA0X,SAAShF,U,0BACyC,IAAb,EAAAjT,SAASP,M,yBAAhJ,yBAOM,O,MAPAM,MAAK,MAAW,EAAAC,SAASiD,KAApB,OAA+B,EAAA0zB,WAAYr3B,MAAK,CAAC,cAAa,OAAgB,EAAAs3B,OAAM,GAAI,EAAAA,OAAM,UAAa,EAAAA,OAAM,K,CAC3G,EAAAA,OAAM,G,yBAAtB,yBAEW,uB,6BAFe,SACpB,6BAAE,EAAAC,WAAW,EAAAD,SAAM,I,+BAEzB,yBAEW,uB,wDAGb,yBAAmH,MAAnH,EAAmH,CAAtF,yBAAgF,QAAzE72B,MAAK,MAAW,EAAAC,SAASiD,KAApB,OAA+B,EAAA0zB,Y,6BAAc,EAAA1e,SAAStY,OAAK,Q,6CAUxF,+BAAgB,CAC9BH,KAAM,eACN8C,MAAO,MACPC,KAAM,gBACNC,YAAa,iCACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNmV,SAAU,CACThF,SAAU,GACV3F,OAAQ,GACR3N,MAAO,GACPqT,GAAI,GAELuG,iBAAkB,EAClBuL,YAAa,EACb9kB,SAAU,CACTyY,SAAU,EACVC,mBAAmB,EACnBjZ,KAAM,EACNsZ,aAAc,IAEf+d,UAAW,CACV,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEDC,WAAY,EACZL,WAAY,EACZ/H,UAAW,CAAC,GAAI,SAAU,YAC1BzrB,MAAO,KACP8zB,YAAa,OAGfxyB,SAAU,CACT,QACC,OAAOhB,KAAKszB,UAAUtzB,KAAKuzB,aAE5B,SACC,OAC0B,GAAzBvzB,KAAKxD,SAASyY,SAAgB,IAC9BjV,KAAKshB,YACLthB,KAAK+V,kBAGP,YACC,MAAO,CACNuD,WAAa,SAAQtZ,KAAKxD,SAAS+Y,mBAAmBvV,KAAKxD,SAAS+Y,iCAAiCvV,KAAKxD,SAAS+Y,4CACxGvV,KAAKxD,SAAS+Y,mBAAmBvV,KAAKxD,SAAS+Y,4BAA4BvV,KAAKxD,SAAS+Y,gDACzFvV,KAAKxD,SAAS+Y,kBAAkBvV,KAAKxD,SAAS+Y,gCAAgCvV,KAAKxD,SAAS+Y,6CAC3FvV,KAAKxD,SAAS+Y,kBAAkBvV,KAAKxD,SAAS+Y,6BAA6BvV,KAAKxD,SAAS+Y,uCAIxGke,MAAO,CACN,OAAOC,EAAGxb,GACLA,EAAI,GAAKwb,EAAI,GAAK1zB,KAAKxD,SAAS0Y,mBACX,IAApBlV,KAAKkzB,aACRlzB,KAAKkzB,WAAa,KAKtB,UACC,eAAa,SACblzB,KAAKmI,cACLnI,KAAKwzB,YAAc3lB,YAAY,KAC9B7N,KAAKshB,YAAchgB,KAAKM,OACtB,KACH,OAAQ6U,GAAMzW,KAAK4D,SAAS5H,KAAhB,UAA+B4K,IAC1C7F,aAAaf,KAAKN,OAClB,MAAM,SAAElD,EAAF,SAAYiY,EAAZ,iBAAsBsB,GAAqBnP,EACjD5G,KAAKxD,SAAWA,EACZiY,EAASjF,IAAMiF,EAASjF,KAAOxP,KAAKyU,SAASjF,KAGzB,IAApBxP,KAAKkzB,aACRlzB,KAAKkzB,WAAa,GAEdze,EAASjF,KAIdxP,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKuzB,WAAatX,SACjBpa,KAAKqa,SAAWlc,KAAKszB,UAAU11B,QAEhCoC,KAAKyU,SAAWA,EAChBzU,KAAK+V,iBAAmBA,EACxB/V,KAAKkzB,WAAa,GAChB,UAGL,gBACCnyB,aAAaf,KAAKN,QAEnBwB,QAAS,CACR,WAAW6V,GAEV,OADAA,EAAOkF,SAASlF,EAAO,KACf,GAAEvD,OAAOyI,SAASlF,EAAO,KAAK4c,SAAS,EAAG,QAAQngB,OACzDuD,EAAO,IACN4c,SAAS,EAAG,QAEf,cACC5yB,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,OAAM9I,KAAK4D,SAAS5H,SAIzCgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,S,UCnJN,EAAO9L,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,whBCDR,MAAM,EAAS,KACd,CACNmP,KAAM,UACN8O,WAAW,EACXqZ,WAAW,EACXC,UAAU,EACVvzB,SAAS,IAcE4F,EAAU,KACf,CACNyB,WAAY,GACZmsB,kBAAmB,GACnBC,kBAAmB,GACnBpN,WAAW,EACXqN,SAAU,IACVC,WAAY,GACZC,UAAW,KAWAze,EAAM,KACX,CACNA,IAAK,GACL0e,QAAS,EACTC,YAAa,GACbC,YAAa,KAWF3sB,EAAU,KACf,CACN4sB,UAAW7e,IACX8e,WAAY,GACZC,UAAW,EACXC,SAAU,KC9DC5tB,EAAO,KACZ,CACNtE,QAAS,GACTC,SAAU,KAgBCuK,EAAU,KACf,CACN9O,OAAQ,EACRwR,SAAU,GACVilB,UAAW,GACXC,aAAc,GACdC,eAAgB,EAChBC,UAAW,EACXC,gBAAiB,EACjBhrB,OAAQ,GACRirB,YAAa,KAYF,EAAU,KACf,CACN92B,OAAQ,EACR+2B,YAAa,GACbtsB,aAAc,GACdD,SAAU,GACVwsB,QAAS,K,2KCnDV,yBAA0E,OAArEn5B,MAAM,QAASS,MAAK,wBAA0B,EAAAE,qB,sCAOrC,+BAAgB,CAC9BT,KAAM,cACN8C,MAAO,SACPC,KAAM,iBACNC,YAAa,qBACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACN7C,gBAAiB,KAGnB,UACCuD,KAAKmI,cACL,OAAQsO,GAAG,aAAc7P,IACxB5G,KAAKvD,gBAAkBmK,EAAEnK,mBAG3B,gBACCsE,aAAaf,KAAKN,QAEnBwB,QAAS,CACR,cACCH,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,OAAM9I,KAAK4D,SAAS5H,SAIzCgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,S,UCzCN,EAAO9L,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kKCPTR,MAAM,e,6EAAX,yBAEM,MAFN,EAEM,CADL,yBAAsB,QAAfA,MAAO,EAAAiD,MAAI,Q,0DAAM,EAAAm2B,KAAG,OCAd,mCAAgB,CAC9Bl5B,KAAM,cACNI,MAAO,CACN2C,KAAM,CACLrB,KAAM8V,OACNkH,QAAS,gBAEVwa,IAAK,CACJxa,QAAS,GAEVya,YAAa,CACZz3B,KAAM0E,QACNsY,SAAS,GAEV0a,YAAa,CACZ13B,KAAM0E,QACNsY,SAAS,IAGX+Y,MAAO,CACN,IAAIC,EAAGxb,GACNlY,KAAKq1B,IAAI3B,EAAGxb,KAGdhX,QAAS,CACR,IAAIwyB,EAAQxb,GACX,GAAiB,kBAANwb,UAAyBA,WAAaxb,EAIjD,OAAO,M,UC3BV,EAAO7b,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,2FCGA,kBACd,MAAMg5B,EAAc,CACnB,WACA,aACA,QACA,YACA,iBACA,kBACA,kBACA,cACA,eACA,aACA,iBAEKC,EAAO,CACZ73B,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXvZ,KAAM,eAAQ,KAAM,iBAAmB,SAGzCnB,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX/X,MAAO,IACH,eAAS,KAAM,OAClB,YACC,8CAEFC,OAAQ,IACJ,eAAS,KAAM,OAClB,YACC,8CAEFmF,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OAExBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,OAC1C2S,OAAQ,eAAS,KAAM,OACvBC,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAGrB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eACf,KACA,OAAMA,iBACN,OAEDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,WAKhC,IAAK,MAAM5I,KAAS+4B,EAEnBC,EAAKte,WAAW1a,MAAM0a,WAAW1a,GAAO,aACvC,6CAEF,OAAOg5B,I,kLC3GFz5B,MAAM,Q,mFAJ8C,EAAA4E,QAAQ,EAAAJ,SAAS+a,SAA8B,YAArB,YAAA7M,eAAA,mBAASpK,cAAT,eAAiB1G,O,yBAApG,yBAAkL,O,MAA7K83B,IAAI,MAAM15B,MAAM,aAAcS,MAAO,EAAAk5B,QAA4E1Y,IAAK,EAAArc,QAAQ,EAAAJ,SAASo1B,WAAWC,QAAU,QAAK,oBAAE,EAAAzK,QAAA,EAAAA,UAAA,K,kBAC5H,EAAAxqB,QAAQ,EAAAJ,SAAS+a,SAA8B,SAArB,YAAA7M,eAAA,mBAASpK,cAAT,eAAiB1G,O,yBAAvF,yBAAoJ,O,MAA/I5B,MAAM,OAAQS,MAAO,EAAAq5B,O,uCAA6E,EAAAl1B,QAAQ,EAAAJ,gB,aAAR,EAAkBo1B,WAAWz4B,UAAQ,IAChG,EAAAyD,QAAQ,EAAAJ,SAAS+a,SAA8B,UAArB,YAAA7M,eAAA,mBAASpK,cAAT,eAAiB1G,O,yBAAvF,yBAA8K,O,MAAzK5B,MAAM,OAAQS,MAAO,EAAAs5B,O,6BAA8E,EAAAC,aAAa,EAAAx1B,SAAY,EAAAw1B,aAAa,EAAAx1B,SAAO,IAAzB,OAAyB,UACxG,EAAAI,QAAQ,EAAAJ,SAAS+a,SAA8B,WAArB,YAAA7M,eAAA,mBAASpK,cAAT,eAAiB1G,O,yBAAxF,yBAA2L,O,MAAtL5B,MAAM,OAAQS,MAAO,EAAAsN,Q,2BAA8E,yBAA6E,QAAvE/N,MAAM,QAASI,IAAK,EAAAsH,OAAK,G,6BAAO,EAAAA,QAAA,UAAO,EAAA9C,QAAQ,EAAAJ,gBAAf,aAAO,EAAkBkD,QAAK,K,8BAC5K,yBAA2B,MAA3B,M,oDCUc,+BAAgB,CAC9BxH,KAAM,YACN8C,MAAO,KACPwb,cAAe,CACdC,UAAW,CAAC,MACZC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,wBAEVlX,MAAO,CACNkX,SAAS,IAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,UAAO,MAEN,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAKA,MACL,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAASA,MACT,eAAUA,IARN,IAWT,QAAK,MAEJ,MAAMA,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,IAYT,QAAK,MAEJ,MAAMA,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,IAYT,SAAM,MAEL,MAAMA,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,KAaV2E,QAAS,CACRR,QAAA,OACAo1B,aAAA,OACA,SACC,MAAMC,EAAW/1B,KAAKg2B,MAAMD,IACxBA,IACHA,EAAIhZ,IACHgZ,EAAIhZ,IAAIqF,OAAO,EAAG2T,EAAIhZ,IAAIve,QAAQ,MAClC,OACA,IAAI8C,MAAOyM,e,UC5GhB,EAAO1R,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,wMCPd,yBAAoD,OAA/CR,MAAM,YAAaS,MAAO,EAAAA,O,6BAAS,EAAAwa,MAAI,K,4ECc9B,+BAAgB,CAC9B/a,KAAM,YACN8C,MAAO,MACPwb,cAAe,CACdC,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,MAC1CC,OAAQ,GAETpe,MAAO,CACNkE,QAAS,CACRma,UAAU,GAEXjM,QAAS,CACRkM,QAAS,yBAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,eAGf7Z,SAAU,CACT,QAAK,MAEJ,MAAMzE,EAAK,UAAGyD,KAAKwO,eAAR,aAAG,EAAcjS,MAC5B,OAAKA,EAGE,IACH,eAAQA,MACR,eAAOA,MACP,eAAOA,MACP,eAASA,MACT,eAAKA,MACL,eAASA,MACT,eAAUA,IATN,IAYT,SAAM,MAEL,MAAM6H,GAAS,UAAApE,KAAKwO,eAAL,eAAcpK,SAAU,uBAAeA,OACtD,OAAOA,GAER,OAAI,cACH,MAAM2S,EAAO,OAAAwO,EAAA,MACZ,OAAA0Q,EAAA,MAAa,eAAQj2B,KAAKM,SAAW,MACrC,UAAAN,KAAKoE,cAAL,eAAamhB,SAAU,YAElBC,GAAU,UAAAxlB,KAAKwO,eAAL,mBAAcpK,cAAd,eAAsBohB,UAAW,GAC3CC,GAAQ,UAAAzlB,KAAKwO,eAAL,mBAAcpK,cAAd,eAAsBqhB,QAAS,GAC7C,MAAO,GAAGD,IAAUzO,IAAO0O,Q,UC5D9B,EAAOppB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kKCPTkT,GAAG,W,GACF1T,MAAM,a,GACNA,MAAM,Y,GACNA,MAAM,e,GAEJA,MAAM,c,GAMRA,MAAM,U,6EAXZ,yBAYM,MAZN,EAYM,CAXL,yBAA+D,MAA/D,EAA+D,6BAArC,EAAA+O,OAAO1O,MAAM,EAAA0O,OAAOiN,UAAQ,GACtD,yBAAmD,MAAnD,EAAsB,MAAG,6BAAG,EAAAjN,OAAOkiB,SAAO,GAC1C,yBAOM,MAPN,EAOM,E,2BANL,yBAKM,2CALgC,EAAAmJ,SAARlzB,I,yBAA9B,yBAKM,OALDlH,MAAM,YAAsCI,IAAK8G,EAAK0nB,KAAK3tB,O,CAC/D,yBAAmD,MAAnD,EAAmD,6BAAxBiG,EAAK0nB,KAAK3tB,OAAK,I,2BAC1C,yBAEM,2CAF8BiG,EAAKiJ,SAAZkqB,I,yBAA7B,yBAEM,OAFDr6B,MAAK,CAAC,WAAU,QAAoE,EAAA2uB,OAAOzuB,MAAMm6B,EAAIn6B,KAAI,WAAUm6B,EAAIzL,KAAKpsB,UAAS63B,EAAIzL,KAAKpsB,aAA/FpC,IAAKi6B,EAAIzL,KAAK3tB,MAAqG,QAAK,GAAE,EAAAq5B,MAAMD,I,CACnL,yBAA+C,QAAzCr6B,MAAK,CAAC,UAAkBq6B,EAAIzL,KAAK3rB,O,kEAAWo3B,EAAIzL,KAAK3tB,OAAK,I,oCAInE,yBAA2C,MAA3C,EAA2C,6BAApB,EAAAm0B,OAAOE,MAAI,O,wCCPrB,+BAAgB,CAC9Bp1B,KAAM,cACN,OACC,MAAO,CACNipB,MAAA,SAGFjkB,SAAU,CACTkwB,OAAA,OACArmB,OAAA,OACA,WACC,OAAO,OAAQsX,MAAM,KAGvBjhB,QAAS,CACR,MAAMi1B,GACDA,EAAIzL,KAAKpsB,UAAY63B,EAAIzL,KAAKpsB,aAGlC,OAAMgN,KAAK,cAAe,CAAEtP,KAAMm6B,EAAIn6B,OACd,WAApBm6B,EAAIzL,KAAKY,QACZtrB,KAAKq2B,QAAQhrB,KAAK,CAAErP,KAAMm6B,EAAIn6B,OAEA,oBAApBm6B,EAAIzL,KAAKY,QACnB6K,EAAIzL,KAAKY,c,UCxBb,EAAOjvB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,yDCRf,oWAEO,MAAMg6B,EAAU,CAACn6B,EAAe+C,EAAQ,MAAOq3B,EAAS,MACvD,CACN74B,KAAM,SACNvB,QACA,aAAc,CACbQ,KAAM,OACNuC,YAEEq3B,IAGQC,EAAW,CAACr6B,EAAe+C,EAAQ,MAAOq3B,EAAS,MACxD,CACN74B,KAAM,UACNvB,QACA,aAAc,CACbQ,KAAM,OACNuC,YAEEq3B,IAGQE,EAAW,CAACt6B,EAAe+C,EAAQ,MAAOq3B,EAAS,MACxD,CACN74B,KAAM,UACNvB,QACA,aAAc,CACbQ,KAAM,OACNuC,YAEEq3B,IAGQG,EAAU,CAACv6B,EAAe+C,EAAQ,MAAOuM,EAAO,MACrD,CACN/N,KAAM,SACNvB,QACA,aAAc,CACbQ,KAAM,OACNuC,SAEDy3B,WAAYlrB,IAGDmrB,EAAS,CAACz6B,EAAe+C,EAAQ,MAAO23B,GAAY,KACzD,CACNn5B,KAAM,SACNvB,QACA,aAAc,CACbQ,KAAM,OACNuC,QACA23B,aAEDtR,OAAQ,UAIGuR,EAAY,CAAC36B,EAAe+C,EAAQ,SACzC,CACNxB,KAAM,SACNvB,QACA,YAAa,kCAAqB,IACjC,iDAED,aAAc,CACbQ,KAAM,OACNuC,WAKU63B,EAAQ,CAAC56B,EAAe+C,EAAQ,SACrC,CACNxB,KAAM,SACNvB,QACA,YAAa,kCAAqB,IACjC,iDAED,aAAc,CACbQ,KAAM,OACNuC,WAKU83B,EAAoB76B,IACzB,CACNuB,KAAM,SACNvB,QACA,YAAa,kCAAqB,IACjC,+CAIU86B,EAAU,CAAC96B,EAAe+6B,EAAqBh4B,EAAQ,SACnE,MAAMi4B,EAAY,GACZC,EAAiB,GAYvB,OAXAF,EAAQ91B,QAAS2N,IACXA,EAAEhS,QAGPq6B,EAAU/rB,KAAK0D,EAAEhS,YACDoxB,IAAZpf,EAAEjS,MACLq6B,EAAK9rB,KAAK0D,EAAEjS,OAEZq6B,EAAK9rB,KAAK0D,EAAEhS,UAGP,CACNW,KAAM,SACNvB,QACA,aAAc,CACbQ,KAAM,OACNuC,SAEDm4B,KAAMF,EACNG,UAAWF,IAIAG,EAAU,CAACp7B,EAAe+C,EAAQ,SACvC,CACN/C,QACA6C,YAAa,oBACbE,QACAxB,KAAM,QACN85B,SAAU,EACVC,MAAO,CACN/5B,KAAM,SACNuZ,WAAY,CACXkC,MAAO,IACHsd,EAAS,QAAS,OACrB/b,QAAS,GAEVnV,MAAOqxB,EAAO,QAAS,Y,gFC/H3B,yFAAO,MAAMnoB,EAAW,KAChB,CACNwF,YAAa,GACb4U,aAAc,GACd1d,eAAgB,GAChBH,aAAa,EACbC,eAAgB,KAChB+D,SAAU,KAUCa,EAAW,KAChB,CACNY,UAAW,EACXxS,OAAQ,EACR2R,QAAQ,K,kCC9BV,W,kECEQ9T,MAAM,OAAOS,MAAA,wB,+BACoC,Q,2GAFxD,yBAGM,OAHDT,MAAM,iBAAkBS,MAAK,SAAW,EAAAm7B,M,CAC5C,yBAAiG,OAAjG,EAAiG,6BAAnD,EAAAC,WAAW,EAAAC,YAAY,EAAAD,YAAU,YAC/E,yBAAuE,GAA3D,QAAO,EAAAE,QAASl7B,KAAK,OAAOe,KAAK,W,8BAAU,IAAI,C,wDCC9C,+BAAgB,CAC9B1B,KAAM,eACNI,MAAO,CACNu7B,WAAY,CACXj6B,KAAM8V,OACNkH,QAAS,IAEVgd,IAAK,CACJh6B,KAAM8V,OACNkH,QAAS,UAGXxZ,QAAS,CACR,YAAYuU,GACX,OAAO,OAAKqiB,SAASriB,IAEtB,gBACC,MAAMsiB,QAAkB,eAAK,kBAC7B,GAAIA,EAAM,CACT,MAAMtiB,QAAY,eAAYsiB,EAAK3M,MACnCprB,KAAKO,MACJ,oBACA,uBAAuB,OAAKu3B,SAASriB,S,UCrB1C,EAAOpZ,OAASA,EAED,gB,kCCPf,gSAWO,MAAM27B,EAAW13B,GAChB8B,QAAQ,eAAQ9B,IAGXsnB,EAAYtnB,GACjB8B,QAAQ,eAAS9B,GAAS+Z,UAGrB4d,EAAa33B,GAClB8B,QAAQ,eAAU9B,IAGb43B,EAAe53B,GACpB8B,QAAQ,eAAY9B,IAGf63B,EAAc73B,GACnB8B,QAAQ,eAAW9B,IAGd83B,EAAW93B,GACC,OAAjBA,EAAQ5C,KAGHmnB,EAAY,CAACvkB,EAAcJ,IAChCkC,QACNlC,EAAMmN,YAAYjK,KACjB2L,GAAKA,EAAEspB,SAASp6B,SAAW,eAAYqC,GAASrC,SAKtC4kB,EAAU,CAACviB,EAAcJ,IAC9BkC,QAAQlC,EAAMsI,YAAYvK,SAAW,eAAYqC,GAASrC,QAGrDq6B,EAAmBh4B,GACxB,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAMwG,SACvDxG,EAAQ5C,MAIG66B,EAAW,CAACC,EAAeC,IAEtC,eAAQD,GAAU9C,WAAWt4B,SAC7B,eAAQq7B,GAAU/C,WAAWt4B,OAIlBs7B,EAAa,CAACF,EAAeC,IAClC,eAAYD,GAAUv6B,SAAW,eAAYw6B,GAAUx6B,OAGlD06B,EAAuB,CACnClnB,IAAM,CAACymB,EAAaD,EAAWrQ,EAAUuQ,EAAYH,GACrDtmB,KAAM,CAACwmB,EAAaD,EAAWrQ,EAAUoQ,GACzCrmB,KAAM,CAACumB,EAAaD,EAAWrQ,EAAUoQ,GACzCpmB,KAAM,CAACsmB,EAAaD,EAAWrQ,EAAUoQ,GACzCnmB,KAAM,CAACqmB,EAAaF,GACpBlmB,KAAM,CAAComB,EAAaD,EAAWrQ,EAAUoQ,GACzCjmB,KAAM,GACNC,KAAM,CAACkmB,EAAaF,K,kKCvEfl8B,MAAM,S,GAGHA,MAAM,a,+BAMmE,M,+BACZ,O,+BACV,O,GAMnDA,MAAM,a,+BAKkE,M,GAMxEA,MAAM,a,+BAIwF,M,GAK/FA,MAAM,O,EACV,yBAAgC,QAA1BA,MAAM,UAAS,QAAI,G,EAG1B,yBAEM,OAFDA,MAAM,OAAK,CACf,yBAAyC,QAAnCA,MAAM,QAAO,qB,KAEpB,yBAA4C,QAAtCA,MAAM,QAAO,sBAAkB,G,EAAO,yBAAI,mB,0XA5ClD,yBA+CM,MA/CN,EA+CM,CA9CL,yBAaY,GAbDA,MAAM,WAAWK,MAAM,KAAKugB,aAAa,Q,WAC7B,IAAuB,E,2BAA7C,yBAWM,2CAX+B,EAAAte,QAARkf,I,yBAA7B,yBAWM,OAXDxhB,MAAM,WAAoCI,IAAKohB,EAAKnhB,O,CACxD,yBAGM,MAHN,EAGM,CAFL,yBAAuC,GAArBY,MAAOugB,EAAKnhB,O,kBAC9B,yBAA0C,GAAxBY,MAAOugB,EAAK7N,U,oBAG/B,yBAIkB,Q,UAHjB,IAA2F,CAA3F,yBAA2F,GAAhF3T,MAAM,MAAMa,KAAK,OAAQ,QAAK,IAAE,EAAAgZ,KAAK2H,EAAKnhB,QAASuB,KAAK,W,WAAU,IAAE,C,2BAC/E,yBAAgF,GAArE5B,MAAM,MAAMa,KAAK,OAAQ,QAAK,GAAE,EAAAi8B,eAAetb,I,WAAO,IAAG,C,2BACpE,yBAAsE,GAA3DxhB,MAAM,MAAMa,KAAK,OAAQ,QAAK,GAAE,EAAAk8B,KAAKvb,I,WAAO,IAAG,C,0DAI7D,yBAUY,GAVDxhB,MAAM,WAAWK,MAAM,KAAKugB,aAAa,Q,WAC7B,IAAoB,E,2BAA1C,yBAQM,2CAR+B,EAAAoc,KAARxb,I,yBAA7B,yBAQM,OARDxhB,MAAM,WAAiCI,IAAKohB,EAAKnhB,O,CACrD,yBAGM,MAHN,EAGM,CAFL,yBAAuC,GAArBY,MAAOugB,EAAKnhB,O,kBAC9B,yBAA0C,GAAxBY,MAAOugB,EAAK7N,U,oBAE/B,yBAEkB,Q,UADjB,IAA0F,CAA1F,yBAA0F,GAA/E3T,MAAM,MAAMa,KAAK,OAAQ,QAAK,GAAE,EAAAm8B,KAAO,EAAAA,KAAKz4B,OAAO0O,GAAGA,IAAIuO,I,WAAO,IAAE,C,0DAIjF,yBASY,GATDxhB,MAAM,WAAWK,MAAM,MAAMugB,aAAa,Q,WAC9B,IAA+B,E,2BAArD,yBAOM,2CAP+B,EAAAlgB,SAASu8B,OAAjBzb,I,yBAA7B,yBAOM,OAPDxhB,MAAM,WAA4CI,IAAKohB,G,CAC3D,yBAEM,MAFN,EAEM,CADL,yBAAiC,GAAfvgB,MAAOugB,GAAI,oBAE9B,yBAEkB,Q,UADjB,IAAgH,CAAhH,yBAAgH,GAArGxhB,MAAM,MAAMa,KAAK,OAAQ,QAAK,GAAE,EAAAH,SAASu8B,OAAS,EAAAv8B,SAASu8B,OAAO14B,OAAO0O,GAAGA,IAAIuO,I,WAAO,IAAE,C,0DAIvG,yBASY,G,WATQ,EAAA7e,Y,qCAAA,EAAAA,YAAW,I,WAC9B,IAGM,CAHN,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAuE,GAAtD9B,KAAK,O,WAAgB,EAAAH,SAASohB,Y,qCAAT,EAAAphB,SAASohB,YAAW,GAAGngB,IAAK,G,yBAEnE,EAGA,EAA4C,I,6HAqBhC,+BAAgB,CAC9BzB,KAAM,cACN8C,MAAO,OACPC,KAAM,qBACNC,YACC,oDACDC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNlB,QAAS,GACT06B,KAAM,GACN3Z,QAAS,GACT3iB,SAAU,CACTohB,YAAa,EACbmb,OAAQ,IAETpc,SAAU,CACTxgB,MAAO,GACP+gB,MAAO,IAERzH,IAAM,UAAS7U,OAAOgV,SAASC,YAAY7V,KAAK4D,SAAS5H,OACzDyC,aAAa,IAGf,UACC,eACC,CAAC,iBAAkB,eACnB,EAAGkB,iBAAgBC,kBAClBE,OAAOC,OAAOC,KAAKC,OAAOC,MAAO,CAAEN,gBACnCI,KAAK6f,QACJlgB,EAAeU,OAAOC,GAAW,eAAWA,OAI/CN,KAAKO,MAAM,aAAcP,KAAKQ,aAC9BR,KAAKmI,cACLnI,KAAKW,eACLC,OAAOC,eAAiBb,KAAKc,cAE9B,gBACC,iBACAC,aAAaf,KAAKN,QAEnBsB,SAAU,IACN,eAAS,CAAC,iBAEdE,QAAS,CACRyU,KAAA,OACA,eAAe2H,GACTtd,KAAKxD,SAASu8B,OAAOjyB,SAASwW,EAAKnhB,SACvC6D,KAAKxD,SAASu8B,OAAS,CAACzb,EAAKnhB,SAAU6D,KAAKxD,SAASu8B,SAEtD/4B,KAAK5B,QAAU4B,KAAK5B,QAAQiC,OAAO0O,GAAKuO,IAASvO,IAElD,KAAKuO,GACCtd,KAAKg5B,QAAQh5B,KAAK84B,KAAMxb,KAC5Btd,KAAK84B,KAAO,CAACxb,KAAStd,KAAK84B,OAE5B94B,KAAKmf,QAAUnf,KAAK5B,QAAU4B,KAAK5B,QAAQiC,OAAO0O,GAAKA,IAAMuO,IAE9D,QAAQkB,EAAUlB,GACjB,OAAOlb,QAAQoc,EAASpb,KAAK2L,GAAKuO,EAAKnhB,QAAU4S,EAAE5S,SAEpD,cACC4E,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,UAAS9I,KAAK4D,SAAS5H,MACzCgE,KAAKge,cAKRhe,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,MAEJ,WACC,OAAQU,OACN,eACD,CACC8T,SAAU3c,KAAK2c,SACfngB,SAAUwD,KAAKxD,UAEf,cAGH,QAAQ2G,GACP,MAAM4T,EAAOzV,KAAKM,MAClB5B,KAAKmf,QAAUnf,KAAKmf,QAAQ9e,OAC3B0O,GAAKgI,EAAOhI,EAAEgI,KAAO,IAAY/W,KAAKxD,SAASohB,aAEhDza,EAAS/B,QAAQd,IAChB,MAAMkB,EAAM,eAAOlB,GACnB,GAAIN,KAAKmf,QAAQ/b,KAAK2L,GAAKA,EAAE9Q,SAAWuD,GACvC,OAGD,MAAMqG,EAAU,eAAWvH,GACrBmP,EAAW,eAAYnP,GAC7B,IAAKuH,IAAYA,EAAQf,SAAS,MAAO,OACzC,IAAIub,EAAWxa,EAAQgZ,MAAM,KAAK,GAClC,IAAKwB,EAAU,OAEf,GADAA,EAAWA,EAAS9e,OAEnBvD,KAAKg5B,QAAQh5B,KAAK84B,KAAM,CAAE38B,MAAOkmB,KACjCriB,KAAKxD,SAASu8B,OAAOjyB,SAASub,GAE9B,OAED,MAAMO,EAAU,CACf3kB,OAAQuD,EACRqG,UACA4H,WACAtT,MAAOkmB,EACPtL,QAED/W,KAAK5B,QAAU,CAACwkB,KAAY5iB,KAAK5B,SACjC4B,KAAKmf,QAAU,CAACyD,KAAY5iB,KAAKmf,YAGnC,cACCnf,KAAKvB,aAAeuB,KAAKvB,aAE1B,eACC,IAAIjC,EAAWkH,aAAaC,QAAS,UAAS3D,KAAK4D,SAAS5H,MAC5D,GAAIQ,EACH,IACCA,EAAWqH,KAAKC,MAAMtH,GACtBsD,OAAOC,OAAOC,KAAKxD,SAAUA,GAC5B,MAAOmG,IAGV3C,KAAKtB,mBAEN,kBACCqF,SAASC,KAAKzH,MAAM0H,YACnB,YACAjE,KAAKxD,SAASmC,QAAU,MAG1B,eACC+E,aAAaQ,QACX,UAASlE,KAAK4D,SAAS5H,KACxB6H,KAAKM,UAAUnE,KAAKxD,e,UCpNxB,EAAOH,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,yDCRf,W,gICEA,MAAM,UAAE28B,GAAmB,iBAAe,EAAQ,QAAc,GAEnDC,EAAY5d,GACjB,IAAIjM,QAAQ2D,IAClBimB,EAAUE,UAAU7d,GACpBtI,EAAQsI,KAIG3F,EAAQ2F,IACpB4d,EAAS5d,GAAM5U,KAAK,KACnB,IAAU,CACT2B,QAAS,OACTC,SAAU,KACV5K,KAAM,UACNqS,OAAQ,S,gFCjBX,gGAEA,MAAMqpB,EAEFx4B,OAAOgV,SAASyjB,SAGPC,EAAgB,CAC5B7jB,IAAK,QAAQ2jB,UACb7yB,GAAI,KACJgzB,QAAS,IACTC,QAAQ,GAGIC,EAAY,CACxBC,EACA7yB,EAAY,GACZ8yB,EAAW,OAEJ,IAAItqB,QAAQ,CAAC2D,EAASC,KAC5B,IAAKqmB,EAAS/yB,IAAiC,IAA3B+yB,EAAS/yB,GAAGqzB,WAE/B,YADA3mB,EAAO,IAAI5L,MAAM,uBAGlB,MAAMwyB,EAAYrmB,OAAO,eAAS,KAC5B+lB,EAAU32B,WAAW,KAAK,MAC/B,UAAA02B,EAAS/yB,UAAT,SAAaQ,oBAAoB,UAAWJ,GAC1B,IAAdE,EAAKnJ,MACRuV,EACC,IAAI5L,MAAM,GAAGqyB,mBAAwB71B,KAAKM,UAAU0C,QAGpD8yB,GACGhzB,EAASC,IACd,MAAMC,EAAOhD,KAAKC,MAAM8C,EAAEC,MAC1B,GAAIA,EAAKgzB,YAAcA,EAAW,OACjC,GAAoB,KAAhBhzB,EAAK4R,OAER,YADAxF,EAAO,IAAI5L,MAAMR,EAAKlE,QAGnBkE,EAAKlE,OACRsQ,EAAO,IAAI5L,MAAMR,EAAKlE,QAEL,IAAdkE,EAAKnJ,OACRsJ,QAAQC,IAAI,eAAeyyB,UAC3B1yB,QAAQC,IAAIJ,IAEb9F,aAAaw4B,GACbvmB,EAAQnM,EAAKA,MACb,UAAAyyB,EAAS/yB,UAAT,SAAaQ,oBAAoB,UAAWJ,KAG9C2yB,EAAS/yB,GAAGW,iBAAiB,UAAWP,GACxCK,QAAQC,IAAI,gBAAgByyB,UAC5B1yB,QAAQC,IAAIJ,GACZ,MAAMizB,EAAO,eAAMl5B,QAAQk5B,MAAQ,IACnCR,EAAS/yB,GAAGka,KACX5c,KAAKM,UAAU,IACX0C,EACHgzB,YACAC,a,kKC3DEh+B,MAAM,S,6IAAX,yBAKM,MALN,EAKM,CAJL,yBAEa,iBAFDE,KAAK,OAAOC,KAAK,U,WAC5B,IAAoG,E,yBAApG,yBAAoG,OAA9FM,MAAO,EAAAw9B,WAAYj+B,MAAM,eAAgBI,IAAK,EAAAygB,SAASO,O,6BAAS,EAAAP,SAASO,OAAK,c,MAErF,yBAA6K,GAA5JphB,MAAM,mBAAmBS,MAAkB,CAAlB,eAA2B,EAAAy9B,YAAaj9B,MAAK,QAAU,EAAA4f,SAASxgB,OAAK,YAAc,EAAAwgB,SAASC,OAAM,MAAO,EAAAD,SAASC,OAAM,M,sEAUrJ,+BAAgB,CAC9B5gB,KAAM,oBACN8C,MAAO,OACPC,KAAM,iBACN,OACC,MAAO,CACN4d,SAAU,CACTxgB,MAAO,GACP+gB,MAAO,IAER1gB,SAAU,CACTqiB,UAAW,GACXC,WAAY,sBACZC,YAAa,gBACbL,UAAW,GACXC,WAAY,sBACZC,YAAa,mBAIhB,UACC,eAAa,QACb5e,KAAKmI,cACL,OAAQsO,GAAG,eAAgB7P,IAC1B5G,KAAK2c,SAAW/V,EAAE+V,SAClB3c,KAAKxD,SAAWoK,EAAEpK,YAGpBwE,SAAU,CACT,aACC,MAAO,CACNqE,SAAarF,KAAKxD,SAASkiB,UAAhB,gBACXnZ,MAAUvF,KAAKxD,SAASmiB,WAAhB,cACRrF,WAAa,GAAEtZ,KAAKxD,SAASoiB,gBAAgB5e,KAAKxD,SAAS+Y,mBAAmBvV,KAAKxD,SAAS+Y,uBAAuBvV,KAAKxD,SAASoiB,oBAAoB5e,KAAKxD,SAAS+Y,uCAC7JvV,KAAKxD,SAASoiB,eAAe5e,KAAKxD,SAAS+Y,mBAAmBvV,KAAKxD,SAAS+Y,uBAAuBvV,KAAKxD,SAASoiB,eAAe5e,KAAKxD,SAAS+Y,2CAC9IvV,KAAKxD,SAASoiB,eAAe5e,KAAKxD,SAAS+Y,kBAAkBvV,KAAKxD,SAAS+Y,uBAAuBvV,KAAKxD,SAASoiB,mBAAmB5e,KAAKxD,SAAS+Y,uCACjJvV,KAAKxD,SAASoiB,gBAAgB5e,KAAKxD,SAAS+Y,kBAAkBvV,KAAKxD,SAAS+Y,uBAAuBvV,KAAKxD,SAASoiB,gBAAgB5e,KAAKxD,SAAS+Y,sCAGvJ,aACC,MAAO,CACNlQ,SAAarF,KAAKxD,SAASqiB,UAAhB,gBACXtZ,MAAUvF,KAAKxD,SAASsiB,WAAhB,cACRxF,WAAa,GAAEtZ,KAAKxD,SAASuiB,gBAAgB/e,KAAKxD,SAASwiB,mBAAmBhf,KAAKxD,SAASwiB,uBAAuBhf,KAAKxD,SAASuiB,oBAAoB/e,KAAKxD,SAASwiB,uCAC7Jhf,KAAKxD,SAASuiB,eAAe/e,KAAKxD,SAASwiB,mBAAmBhf,KAAKxD,SAASwiB,uBAAuBhf,KAAKxD,SAASuiB,eAAe/e,KAAKxD,SAASwiB,2CAC9Ihf,KAAKxD,SAASuiB,eAAe/e,KAAKxD,SAASwiB,kBAAkBhf,KAAKxD,SAASwiB,uBAAuBhf,KAAKxD,SAASuiB,mBAAmB/e,KAAKxD,SAASwiB,uCACjJhf,KAAKxD,SAASuiB,gBAAgB/e,KAAKxD,SAASwiB,kBAAkBhf,KAAKxD,SAASwiB,uBAAuBhf,KAAKxD,SAASuiB,gBAAgB/e,KAAKxD,SAASwiB,uCAIxJ,gBACCje,aAAaf,KAAKN,QAEnBwB,QAAS,CACR,cACCH,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,gBAIrB9I,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,S,UC3EN,EAAO9L,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W,yDCAA,mCAUe,kBACP,CACNoB,KAAM,SACNuZ,WAAY,CACX7S,OAAQ,CACP1G,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACXuO,QAAS,eAAQ,KAAM,OACvBC,MAAO,eAAQ,KAAM,SAGvBlpB,MAAO,CACNmB,KAAM,SACNvB,MAAO,KACP8a,WAAY,CACX3S,cAAe,eACd,OACA,OAAMA,gBACN,OAEDuB,QAAS,eAAS,KAAM,OACxBtB,SAAU,eAAQ,KAAM,OAAMA,WAAY,QAC1C4S,KAAM,CACL,YACC,gDACE,eAAS,MAAO,QAEpBC,MAAO,CACN,YACC,gDACE,eAAS,MAAO,QAEpBC,IAAK,CACJ,YACC,gDACE,eAAS,OAAQ,QAErBC,OAAQ,CACP,YACC,gDACE,eAAS,OAAQ,QAErB+B,KAAM,eAAM,KAAM,OAClBhU,SAAU,eAAS,KAAM,OACzBC,WAAY,eAAQ,KAAM,OAAMA,aAAc,OAC9CC,MAAO,eAAO,KAAM,OACpBC,UAAW,eAAQ,KAAM,OAAMF,aAAc,OAC7CG,eAAgB,eACf,KACA,OAAMA,iBACN,OAEDC,gBAAiB,eAAQ,OAAQ,OACjCC,gBAAiB,eAAO,OAAQ,OAAO,GACvCnB,YAAa,eAAS,OAAQ,OAC9BC,aAAc,eAAS,OAAQ,OAC/BC,WAAY,eAAS,OAAQ,OAC7BC,cAAe,eAAS,OAAQ,OAChCC,WAAY,eAAS,OAAQ,OAC7BC,YAAa,eAAS,OAAQ,OAC9BC,UAAW,eAAS,OAAQ,OAC5BC,aAAc,eAAS,OAAQ,OAC/BC,gBAAiB,eAAU,OAAQ,OACnCC,aAAc,eAAS,OAAQ,OAC/BC,YAAa,eAAS,MAAO,OAC7BC,YAAa,eAAO,OAAQ,a,wXC3E1B,MAAM80B,EAAW,CAACr8B,EAAS,KACjC,IAAIs8B,EAAM,GACV,IAAK,IAAInrB,EAAI,EAAGA,EAAInR,EAAQmR,IAC3BmrB,GAAOr4B,KAAKs4B,MAAsB,GAAhBt4B,KAAKqa,UAExB,OAAOge,GAGKE,EAAqBj5B,GAC1BA,EAAI6O,WAAW,sCAAuC,IAGjDqqB,EAA0Bl5B,GAC/BA,EAAI6O,WAAW,sCAAuC,KAGjDsqB,EAAgBC,GACrBA,EAAOlkB,QAAQ,sBAAuB,QAGjCyhB,EAAY1M,GACjBA,EAAKvK,MAAM,KAAKb,UAAU,GAGrBwa,EAASzjB,GACd,IAAI1H,QAAQ2D,IAClBpQ,WAAW,KACVoQ,EAAQ,IACN+D,KAIQhX,EAAS,CAAC06B,EAAW1d,IAC1B,IAAM0d,EAAM1d,GAGP2d,EAASv5B,KAChBA,GAGE,sNAAsNw5B,KAC5Nx5B,GAIWy5B,EAAgB5+B,IAC5B,MAAM6+B,EAAWj6B,OACjBi6B,EAAIf,KAAO99B,I,kCChDZ,sPAGA,IAAI8+B,EAAiB,KACjBC,EAAQ,EACRC,EAAiB,EACd,MAAMC,EAAW,KAAc,MACrC,OAAyC,KAAlC,yBAAMr6B,QAAQ4F,WAAd,eAAmBozB,aAEdsB,EAAe,KAAc,MACzC,OAAyC,KAAlC,yBAAMt6B,QAAQ4F,WAAd,eAAmBozB,aAGduB,EAAY,KAAW,MACnCn0B,QAAQC,IAAI,eACZ,MAAMN,EAASC,IACd,MAAMC,EAAOhD,KAAKC,MAAM8C,EAAEC,MAEL,MAAH,IAAdA,EAAKnJ,OACRsJ,QAAQC,IAAI,iBACZ,yBAAMrG,QAAQ4F,WAAd,SAAmBO,oBAAoB,UAAWJ,GAClDq0B,MAWF,GARA,yBAAMp6B,eAAN,SAAe4F,IAAIU,iBAAiB,UAAWP,GAC/C,OAAOJ,GAAGka,KACT5c,KAAKM,UAAU,CACdzG,KAAM,KAGRs9B,IAEIA,EAAiB,EAAG,CACvB,IAAI,QACH,yBAAMp6B,eAAN,mBAAe4F,WAAf,SAAoB+N,QACnB,MAAO5R,GACRqE,QAAQrE,MAAMA,GAEfq4B,EAAiB,IAGNI,EAAgB,KAC5Br6B,aAAa+5B,GACTG,KACHE,IAEDL,EAAYl4B,WAAW,KACtBw4B,KACE,MAESjoB,EAAO,EAAG1S,SAAQ2S,cAE9B,GADAgoB,KACKH,MAAeC,IAAgB,CACnC,IACC,eAAMt6B,QAAQ4F,IAAI+N,QACjB,MAAO5R,IAGT,eAAM/B,QAAQ4F,IAAM,OAAOD,GAAK,IAAI80B,UAAU,OAAO5lB,KACrD,OAAOlP,GAAG+0B,OAAS,KAClB,OAAO9B,QAAS,EAChBuB,EAAQ,EACRt6B,KAED,OAAO8F,GAAGg1B,QAAU,KACnB,OAAO/B,QAAS,EAEhB,OAAOjzB,GAAK3F,OAAO4F,IAAM,KACrBu0B,IACHA,EAAQ,EACR3nB,MAGF,OAAO7M,GAAGub,QAAU,KACnB,OAAO0X,QAAS,M,kCC1EnB,W,kCCAA,oFACO,MAAMgC,EAAO,CAACC,EAAW,MACxB,IAAIpsB,QAAQ2D,IACC,iBAAnB,MACM0oB,EAAU33B,SAAS4V,cAAc,SACvC+hB,EAAQh+B,KAAO,OACfg+B,EAAQC,OAASF,EACjBC,EAAQE,QACR73B,SAASC,KAAK63B,QAAU,KACvB93B,SAASC,KAAK63B,QAAU,KAExBH,EAAQI,SAAW,KAElB,MAAM/D,EAAO2D,EAAQK,MAAM,GAC3BL,EAAQ5mB,SAEP9B,EADG+kB,IAGK,IAGVn1B,WAAW,KACV84B,EAAQ5mB,SACR9B,GAAQ,IACN,QAKOgpB,EAAa,CAACC,EAAW,MAC9B,IAAI5sB,QAAQ,CAAC2D,EAASC,KAC5BuoB,EAAKS,GACHv1B,KAAMqxB,IACN,MAAMhF,EAAS,IAAImJ,WACnBnJ,EAAOoJ,OAAUv1B,IAChBoM,EAAQ+f,EAAOta,SAEhBsa,EAAOqJ,WAAWrE,KAElB5wB,MAAM8L,M,kCCvCV,40BAEO,MAAMmY,EAAO,iBAAexqB,OAAOy7B,QAAQ,QAAU,IACtD,OAAEC,EAAF,YAAUC,GAAqB,iBAClC37B,OAAOy7B,QAAQ,YACf,GAEUxB,EAAG,OAAGyB,QAAH,IAAGA,OAAH,EAAGA,EAAQE,mBACd1R,EAAW,KACnB,mBACA,OAAH+P,QAAG,IAAHA,KAAK/P,aAIM2R,EAAeC,IAC3B,MAAM,KAAE1gC,EAAF,MAAQ8C,EAAR,eAAeG,GAAmBy9B,EACpC,mBACQ,OAAXH,QAAW,IAAXA,KAAa9b,KACZ,cACA5c,KAAKM,UAAU,CAAEnI,OAAM8C,QAAOG,sBAKpBsV,EAAQ,KAChB,mBACA,OAAHsmB,QAAG,IAAHA,KAAKtmB,UAGMtN,EAAOuZ,IACf,mBACQ,OAAX+b,QAAW,IAAXA,KAAa9b,KAAK,MAAOjN,OAAOgN,MAIrBqK,EAAUD,IAClB,mBACQ,OAAX2R,QAAW,IAAXA,KAAa9b,KACZ,iBACA5c,KAAKM,UAAU,CACdymB,aAMS+R,EAAuBC,IAC/B,mBACQ,OAAXL,QAAW,IAAXA,KAAa9b,KACZ,8BACA5c,KAAKM,UAAU,CACdy4B,cAMSC,EAAiBC,IACzB,mBACQ,OAAXP,QAAW,IAAXA,KAAa9b,KACZ,wBACA5c,KAAKM,UAAU,CACd24B,oBAkBSC,EAAiB,IACtB,IAAI1tB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,mBACP,OAAX8b,QAAW,IAAXA,KAAalS,KAAK,mBAAoB,CAACzjB,EAAQo2B,KAC9C,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,mBAFhB2L,EAAQgqB,KAKT,MAAOr6B,GACRsQ,EAAOtQ,MAWGs6B,EAAU7R,IAClB,mBACQ,OAAXmR,QAAW,IAAXA,KAAa9b,KAAK,iBAAkB2K,KAoCzBzV,EAAO,EAAGunB,SAAQC,aACvB,IAAI9tB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KACZ,eACA5c,KAAKM,UAAU,CACd+4B,SACAC,aAGS,OAAXZ,QAAW,IAAXA,KAAalS,KAAK,qBAAsB,CAACzjB,EAAQo2B,KAChD,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQgqB,KAKT,MAAOr6B,GACRsQ,EAAOtQ,MAKGy6B,EAAeC,GACpB1nB,EAAK,CACXunB,OAAQG,EACRF,QAAS,iBAAiB,eAAS,MAAM/R,EAAKkS,QAAQD,OAI3CE,EAAqBC,GAC1B,IAAInuB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,mBAAoB+c,GAC3B,OAAXjB,QAAW,IAAXA,KAAalS,KAAK,oBAAqB,CAACzjB,EAAQo2B,KAC/C,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQgqB,KAKT,MAAOr6B,GACRsQ,EAAOtQ,MAKG86B,EAAc52B,IAC1B,IAAK,iBACJ,MAAM,IAAIQ,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,sBAAuB5c,KAAKM,UAAU0C,KAG5C62B,EAAa,IAClB,IAAIruB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,uBACP,OAAX8b,QAAW,IAAXA,KAAalS,KAAK,uBAAwB,CAACzjB,EAAQo2B,KAClD,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQnP,KAAKC,MAAMk5B,MAKpB,MAAOr6B,GACRsQ,EAAOtQ,MAKGg7B,EAAiBvS,GACtB,IAAI/b,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,cAAe2K,GACtB,OAAXmR,QAAW,IAAXA,KAAalS,KAAK,uBAAwB,CAACzjB,EAAQo2B,KAClD,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,aAFhB2L,EAAQnP,KAAKC,MAAMk5B,MAKpB,MAAOr6B,GACRsQ,EAAOtQ,MAIGi7B,EAAe,IACpB,IAAIvuB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,eACP,OAAX8b,QAAW,IAAXA,KAAalS,KAAK,uBAAwB,CAACzjB,EAAQo2B,KAClD,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,WAFhB2L,EAAQgqB,KAKT,MAAOr6B,GACRsQ,EAAOtQ,MAKGk7B,EAAiBh3B,IAC7B,IAAK,iBACJ,MAAM,IAAIQ,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,yBAA0B5c,KAAKM,UAAU0C,KAG/Ci3B,EAAgB,IACrB,IAAIzuB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,0BACP,OAAX8b,QAAW,IAAXA,KAAalS,KACZ,0BACA,CAACzjB,EAAQo2B,KACR,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQnP,KAAKC,MAAMk5B,MAMrB,MAAOr6B,GACRsQ,EAAOtQ,MAKGo7B,EAAc,IACnB,IAAI1uB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,qBACP,OAAX8b,QAAW,IAAXA,KAAalS,KAAK,qBAAsB,CAACzjB,EAAQo2B,KAChD,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQnP,KAAKC,MAAMk5B,MAKpB,MAAOr6B,GACRsQ,EAAOtQ,MAKGq7B,EAAcC,GACnBtoB,EAAK,CACXunB,OAAQe,EACRd,QAAS,WAAW/R,EAAK0M,SAASmG,KAIvBC,EAAYr3B,GACjB,IAAIwI,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KAAK,YAAa5c,KAAKM,UAAU0C,IACnC,OAAX01B,QAAW,IAAXA,KAAalS,KAAK,qBAAsB,CAACzjB,EAAQo2B,KAChD,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQgqB,KAKT,MAAOr6B,GACRsQ,EAAOtQ,MAKGw7B,EAAc,EAAGlY,QAAO3K,OAAMoX,YACnC,IAAIrjB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KACZ,aACA5c,KAAKM,UAAU,CACduuB,SACAzM,QACA3K,KAAM,eAAuBA,MAGpB,OAAXihB,QAAW,IAAXA,KAAalS,KAAK,iBAAkB,CAACzjB,EAAQo2B,KAC5C,GAAa,WAATA,EAGH,MAAM,IAAI31B,MAAM,qBAFhB2L,EAAQgqB,KAKT,MAAOr6B,GACRsQ,EAAOtQ,MAKGy7B,EAAS,EAAG3L,MAAKxM,QAAO3K,OAAMoX,YACnC,IAAIrjB,QAAQ,CAAC2D,EAASC,KAC5B,IACC,IAAK,iBACJ,MAAM,IAAI5L,MAAM,gBAEN,OAAXk1B,QAAW,IAAXA,KAAa9b,KACZ,eACA5c,KAAKM,UAAU,CACdsuB,MACAC,SACAzM,QACA3K,KAAM,eAAuBA,MAG/B,MAAMie,EAAU32B,WAAW,KAC1BqQ,EAAO,IAAI5L,MAAM,uBACf,KACQ,OAAXk1B,QAAW,IAAXA,KAAalS,KAAK,mBAAoB,CAACzjB,EAAQo2B,KAE9C,GADAj8B,aAAaw4B,GACA,WAATyD,EAAmB,CACtB,MAAM7b,EAAQ,IAAIkd,MAClBld,EAAMW,QAAU7O,EAChBkO,EAAMa,QAAUhP,EAChBmO,EAAMpE,IAAM,GAAGigB,QAAW17B,KAAKM,QAC/Buf,EAAMmd,YAENrrB,EAAO,IAAI5L,MAAM,wBAGlB,MAAO1E,GACRsQ,EAAOtQ,MAKG47B,EAAS,CACrB7jB,QAASyjB,EACTK,KAAMJ,I,yMCnZAtiC,MAAM,Q,EACV,yBAA4C,OAAvCA,MAAM,gCAA8B,S,SAKrCA,MAAM,oB,6EAPZ,yBAQM,OARDA,MAAM,WAAY,aAAU,+CAAU,EAAA2iC,UAAA,EAAAA,YAAA,GAAQ,cAAG,aAAU,+CAAU,EAAAA,UAAA,EAAAA,YAAA,GAAQ,cAAG,YAAS,+CAAU,EAAAA,UAAA,EAAAA,YAAA,GAAQ,cAAG,OAAI,oBAAE,EAAAC,UAAA,EAAAA,YAAA,IAAW,YAAS,+CAAU,EAAAD,UAAA,EAAAA,YAAA,GAAQ,cAAG,WAAQ,+CAAU,EAAAA,UAAA,EAAAA,YAAA,GAAQ,cAAG,QAAK,oBAAE,EAAA5G,SAAA,EAAAA,WAAA,K,CAC7K,EAAA8G,M,yBAAxB,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAkB,wCAAX,EAAAne,KAAG,M,mEAEX,yBAA0F,SAAnFgV,IAAI,OAAO93B,KAAK,OAAsBi+B,OAAO,iBAAkB,SAAM,oBAAE,EAAA+C,UAAA,EAAAA,YAAA,K,wBAAxC,KACb,EAAA3I,K,yBAAzB,yBAA2C,O,MAAtCj6B,MAAM,QAAoBihB,IAAK,EAAAgZ,K,2CACpC,yBAAuC,MAAvC,K,MCNa,mCAAgB,CAC9B/5B,KAAM,eACNI,MAAO,CACN2gB,IAAK,CACJrf,KAAM8V,OACNkH,QAAS,IAEVkkB,SAAU,CACTlhC,KAAM0E,QACNsY,SAAS,IAGX,OACC,MAAMmkB,EAAY,KAClB,MAAO,CACNF,MAAM,EACNne,IAAK,GACLqe,SAGF79B,SAAU,CACT+0B,IAAK,CACJ,MACC,OAAO/1B,KAAK+c,KAEb,IAAInW,GACH5G,KAAKO,MAAM,aAAcqG,MAI5B1F,QAAS,CACR,SAAS0F,GACRA,EAAEk4B,iBAEG9+B,KAAK4+B,WAGK,eAAXh4B,EAAElJ,MAAoC,cAAXkJ,EAAElJ,MAIf,IAAdkJ,EAAEm4B,QACL/+B,KAAKwgB,IAAM,YAEXxgB,KAAKwgB,IAAM,aAEZxgB,KAAK2+B,MAAO,GARX3+B,KAAK2+B,MAAO,IAUd,UACC3+B,KAAKwuB,IAAIhV,cAAc,SAASoiB,SAEjC,SAASh1B,GACR,IAAIm1B,EAAQ,IAAIiD,KAAK,CAAC,IAAK,IAC3B,GAAIp4B,EAAEq4B,aACL,IAAK,IAAIlwB,EAAI,EAAGA,EAAInI,EAAEq4B,aAAaxH,MAAM75B,OAAQmR,IAEX,SAAjCnI,EAAEq4B,aAAaxH,MAAM1oB,GAAGmwB,OAC3BnD,EAAQn1B,EAAEq4B,aAAaxH,MAAM1oB,GAAGowB,kBAIlCpD,EAAQn1B,EAAEw4B,WAAWrD,MAAM,GAE5B/7B,KAAK6+B,KAAO9C,EACZ,MAAMhJ,EAAS,IAAImJ,WACnBnJ,EAAOsM,cAActD,GACrBhJ,EAAO3S,UAAY,KAClBpgB,KAAK+1B,IAAMhD,EAAOta,Y,UChEtB,EAAOpc,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,iLCPd,yBAA8E,SAAvER,MAAM,QAASihB,IAAG,WAAa,EAAAhB,cAAec,SAAA,GAASyiB,KAAA,GAAKxiB,SAAA,I,8CAOrD,+BAAgB,CAC9B9gB,KAAM,cACN8C,MAAO,SACPC,KAAM,iBACNC,YAAa,qBACbC,eAAgB,CACfC,MAAO,IACPC,OAAQ,IACRC,WAAW,EACXC,UAAU,EACVC,UAAU,GAEX,OACC,MAAO,CACNyc,QAAS,IAGX,UACC/b,KAAKmI,cACL,OAAQsO,GAAG,aAAc7P,IACxB5G,KAAK+b,QAAUnV,EAAEmV,UAElBhY,SAASyV,cAAc,QAAQjd,MAAMic,QAAU,OAEhD,gBACCzX,aAAaf,KAAKN,QAEnBwB,QAAS,CACR,cACCH,aAAaf,KAAKN,OACb,yBAAe,6BACnB,kBAAK,CACJe,OAAQ,KACP,OAAQqI,SAAU,OAAM9I,KAAK4D,SAAS5H,SAIzCgE,KAAKN,MAAQkD,WAAW,KACvB5C,KAAKmI,eACH,S,UC1CN,EAAO9L,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCHf,keAAO,MAAM4J,EAAU,KACf,CACNsH,QAAS,GACTjB,WAAY,KAgBDlM,EAAS,KACd,CACNlC,MAAM,EACN6nB,SAAS,EACTjC,UAAU,EACVjV,WAAW,EACXzR,SAAS,EACTgnB,aAAa,EACbL,aAAa,EACbG,cAAc,EACdd,MAAO,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,QAc3B7mB,EAAW,KAChB,CACN6D,OAAQA,IACRojB,OAAQ,GACRC,UAAW,EACXuC,MAAO,OACPC,WAAY,CACXC,MAAM,EACN1K,SAAS,EACT2K,WAAW,GAEZC,WAAW,EACX/X,cAAe,KAIJixB,EAAc,KACnB,IACH/iC,IACHinB,OAAQ,KAeG+b,EAAY,KACjB,CACN/tB,IAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,KAAM,KAIK2B,EAAe,KACpB,CACN6e,MAAO,UACPC,IAAK,CACJgN,UAAW,GACXC,MAAO,GACPC,OAAQ,GACRC,UAAW,IAEZl0B,OAAQ,GACRua,MAAO,EACPyM,OAAQ,GACR1pB,MAAOw2B,IACPzrB,aAAa,EACb4e,cAAc,IAQHkN,EAAiB,KACtB,IACHrjC,IACHmX,aAAcA,MAkBH7I,EAAY,KACjB,CACNY,QAAQ,EACRC,WAAW,EACXm0B,eAAe,EACf92B,MAAO,GACP+2B,YAAa,IAcF3uB,EAAiB,KACtB,CACNpC,SAAU,GACVF,UAAW,GACXmB,SAAU,GACV2Y,SAAS,EACTI,WAAY,EACZG,OAAQ,GACRre,UAAWA,MAQAk1B,EAAkB,KACvB,CACNC,eAAgB,KAWLlzB,EAAU,KACf,CACNmzB,QAASF,IACTn1B,OAAQuG,IACR3E,QAASozB,IACTnzB,IAAK6yB,O,yDChMP,W,kGCEE,yBAGM,OAHDzjC,MAAM,QAAM,CAChB,yBAA4C,OAAvCA,MAAM,iCACX,yBAAiB,WAAZ,Y,KAIJ,yBAAgC,OAA3BA,MAAM,oBAAkB,S,EAM/B,yBAAkC,QAA5BA,MAAM,QAAO,YAAQ,G,+BAE0B,M,gSAftD,yBAUM,OAVDA,MAAM,WAAY,QAAK,oBAAE,EAAA+7B,SAAA,EAAAA,WAAA,IAAUt7B,MAAK,SAAW,EAAAm7B,M,CACvD,EAIA,yBAIW,GAJAyI,MAAM,EAAMrkC,MAAM,QAASihB,IAAK,EAAAA,K,CAC/Bpa,MAAK,qBACf,IAAgC,CAAhC,I,oBAIH,yBAMY,GANDy9B,eAAa,aAAajkC,MAAM,O,WAAgB,EAAAkkC,W,qCAAA,EAAAA,WAAU,GAAG,QAAK,eAAE,EAAAC,QAAO,K,CAG1EpP,OAAM,qBAChB,IAAkE,CAAlE,yBAAkE,GAAvDxzB,KAAK,UAAUf,KAAK,OAAQ,QAAO,EAAA4jC,M,8BAAM,IAAE,C,uDAHvD,IAAkI,CAA/G,EAAAF,Y,yBAAnB,yBAAkI,G,MAAnG9jC,MAAA,uBAAyBi5B,IAAI,UAAWgL,eAAc,IAAUzjB,IAAK,EAAAujB,QAASG,IAAI,gB,wDACjH,I,uFCdK,MAWMC,EAAav3B,GAClB,IAAIkG,QAAQ,CAAC2D,EAASC,KAC5B,MAAM8f,EAAS,IAAImJ,WACnBnJ,EAAOsM,cAAcl2B,GACrB4pB,EAAO3S,UAAY,KAClBpN,EAAQ+f,EAAOta,SAEhBsa,EAAOjR,QAAUlb,IAChBqM,EAAOrM,M,yBCXK,G,UAAA,6BAAgB,CAC9B5K,KAAM,eACN6pB,WAAY,CAAE8a,WAAA,KACdvkC,MAAO,CACNu7B,WAAY,CACXj6B,KAAM8V,OACNkH,QAAS,IAEVgd,IAAK,CACJh6B,KAAM8V,OACNkH,QAAS,UAGX,OACC,MAAM4lB,EAAe,GACrB,MAAO,CACND,YAAY,EACZC,YAGFt/B,SAAU,CACT,MACC,OAAOhB,KAAK23B,aAGdz2B,QAAS,CACR,gBACC,MAAM62B,QAAkB,eAAK,kBACzBA,GACH/3B,KAAK4gC,KAAK7I,IAGZ,KAAKA,GACJ2I,EAAU3I,GACRrxB,KAAKjE,IACLzC,KAAKsgC,QAAU79B,EACfzC,KAAKqgC,YAAa,IAElBl5B,MAAM,KACN,IAAU,CACTkB,QAAS,SACTC,SAAU,KACV5K,KAAM,QACNqS,OAAQ,QAIZ,OAEC,MAAM8wB,EAAU7gC,KAAKg2B,MAAM8K,QAAQC,mBAAmBC,YACtD,eAAkBH,GAChBn6B,KAAK+O,IACLzV,KAAKO,MACJ,oBACA,uBAAuB,OAAKu3B,SAASriB,IAEtCzV,KAAKsgC,QAAU,GACftgC,KAAKqgC,YAAa,IAElBl5B,MAAM,KACN,IAAU,CACTkB,QAAS,SACTC,SAAU,KACV5K,KAAM,QACNqS,OAAQ,Y,UCnEd,EAAO1T,OAASA,EAED,gB,yNCNd,yBAIa,iBAJDL,KAAK,UAAUD,OAAA,I,WAC1B,IAEM,CAFN,yBAEM,OAFDy5B,IAAI,OAAOj5B,MAAmC,CAAnC,oCAAmC,MAAkB,EAAAgI,SAAS4lB,EAA3B,eAA4B,IAAsB,EAAA5lB,SAAS6lB,EAA/B,kB,CAC9E,yBAAsE,GAA/CoL,IAAI,WAAY,QAAK,eAAE,EAAAjhB,SAAUnH,KAAM,EAAAA,M,kJCIvDtR,MAAM,Y,SAEqCA,MAAM,gC,qJAR1D,yBAWM,OAXDA,MAAK,CAAC,iBAAyB,EAAAyI,UAAWhI,MAAK,C,OAAgB,UAE/D,aAAU,eAAE,EAAAiU,SAAO,I,6BACvB,yBAOM,2CAPiD,EAAApD,KAAI,CAAnBpK,EAAKsS,I,sDAA7C,yBAOM,OAPDxZ,MAAK,CAAC,qBAAoB,UAAgDkH,EAAK1E,WAAYpC,IAAKoZ,EAAQ,QAAK,8BAAO,EAAA2rB,KAAKj+B,EAAKiiB,OAAK,UAAI,YAAS,GAAE,EAAAzU,QAAU8E,G,CAChK,yBAGM,YAFL,yBAAiD,QAA1CxZ,MAAK,CAAEkH,EAAKjE,KAAY,a,QAC/B,yBAA+C,OAA/C,EAA+C,iCAAlBiE,EAAKhH,MAAI,KAE5BgH,EAAKiJ,UAAUjJ,EAAKiJ,SAASrO,OAAM,G,yBAA9C,yBAAyF,MAAzF,I,uCAC+B,EAAA4S,SAAS8E,GAAOtS,EAAKiJ,UAAUjJ,EAAKiJ,SAASrO,OAAM,G,yBAAlF,yBAAsJ,G,MAA/DwP,KAAMpK,EAAKiJ,SAAWqJ,MAAO,EAAA4B,OAAS,QAAK,eAAE,EAAA3W,MAAK,W,8GANsCyC,EAAKgiB,S,gHCG7KlpB,MAAM,Y,SAEqCA,MAAM,gC,qJAR1D,yBAWM,OAXDA,MAAK,CAAC,iBAAyB,EAAAyI,UAAWhI,MAAK,C,OAAgB,UAE/D,aAAU,eAAE,EAAAiU,SAAO,I,6BACvB,yBAOM,2CAPiD,EAAApD,KAAI,CAAnBpK,EAAKsS,I,sDAA7C,yBAOM,OAPDxZ,MAAK,CAAC,qBAAoB,UAAgDkH,EAAK1E,WAAYpC,IAAKoZ,EAAQ,QAAK,8BAAO,EAAA2rB,KAAKj+B,EAAKiiB,OAAK,UAAI,YAAS,GAAE,EAAAzU,QAAU8E,G,CAChK,yBAGM,YAFL,yBAAiD,QAA1CxZ,MAAK,CAAEkH,EAAKjE,KAAY,a,QAC/B,yBAA+C,OAA/C,EAA+C,iCAAlBiE,EAAKhH,MAAI,KAE5BgH,EAAKiJ,UAAUjJ,EAAKiJ,SAASrO,OAAM,G,yBAA9C,yBAAyF,MAAzF,I,uCAC+B,EAAA4S,SAAS8E,GAAOtS,EAAKiJ,UAAUjJ,EAAKiJ,SAASrO,OAAM,G,yBAAlF,yBAAsJ,G,MAA/DwP,KAAMpK,EAAKiJ,SAAWqJ,MAAO,EAAA4B,OAAS,QAAK,eAAE,EAAA3W,MAAK,W,8GANsCyC,EAAKgiB,S,aAYxK,OACdhpB,KAAM,sBACNI,MAAO,CAAC,OAAQ,SAChB,OACC,MAAO,CACNoU,SAAU,EACVjM,SAAU,cACV2S,OAAQ,MAGV,UACKlX,KAAKsV,QACRtV,KAAKkX,OAASlX,KAAKsV,MAAQ,GAE5BtV,KAAK2hB,UAAU,KACd,MAAMvI,EAAYpZ,KAAKwuB,IAAI0S,wBACrB/hC,EAASia,EAAUja,OAASia,EAAUgR,EACtClrB,EAAQka,EAAUla,MAAQka,EAAU+Q,EAEzChrB,EAAS4E,SAASC,KAAKm9B,cACvBjiC,EAAQ6E,SAASC,KAAKo9B,YAEtBphC,KAAKuE,SAAW,UAEhBpF,EAAS4E,SAASC,KAAKm9B,cACvBjiC,EAAQ6E,SAASC,KAAKo9B,YAEtBphC,KAAKuE,SAAW,WAEhBpF,EAAS4E,SAASC,KAAKm9B,cACvBjiC,EAAQ6E,SAASC,KAAKo9B,YAEtBphC,KAAKuE,SAAW,aAEhBvE,KAAKuE,SAAW,iBAInBrD,QAAS,CACR,KAAK+jB,GACAA,IACHjlB,KAAKO,MAAM,SACX0kB,Q,UCrDJ,EAAO5oB,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QFSA,GACdN,KAAM,qBACNI,MAAO,CAAC,OAAQ,SAChBypB,WAAY,CACXwb,oBAAA,GAED,OACC,MAAO,CACN7wB,SAAU,EACVjM,SAAU,cACV2S,OAAQ,MAGV,UACKlX,KAAKsV,QACRtV,KAAKkX,OAASlX,KAAKsV,MAAQ,GAE5BtV,KAAK2hB,UAAU,KACd,MAAMvI,EAAYpZ,KAAKwuB,IAAI0S,wBACrB/hC,EAASia,EAAUja,OAASia,EAAUgR,EACtClrB,EAAQka,EAAUla,MAAQka,EAAU+Q,EAEzChrB,EAAS4E,SAASC,KAAKm9B,cACvBjiC,EAAQ6E,SAASC,KAAKo9B,YAEtBphC,KAAKuE,SAAW,UAEhBpF,EAAS4E,SAASC,KAAKm9B,cACvBjiC,EAAQ6E,SAASC,KAAKo9B,YAEtBphC,KAAKuE,SAAW,WAEhBpF,EAAS4E,SAASC,KAAKm9B,cACvBjiC,EAAQ6E,SAASC,KAAKo9B,YAEtBphC,KAAKuE,SAAW,aAEhBvE,KAAKuE,SAAW,iBAInBrD,QAAS,CACR,KAAK+jB,GACAA,IACHjlB,KAAKO,MAAM,SACX0kB,Q,UGzDJ,EAAO5oB,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,YJIA,+BAAgB,CAC9BN,KAAM,iBACN6pB,WAAY,CACXyb,sBAEDllC,MAAO,CACNmlC,QAAS,CACR9mB,UAAU,GAEXrN,KAAM,CACLsN,QAAS,IACD,IAGTnW,SAAU,CACTmW,QAAS,KACD,CACNyP,EAAG,EACHC,EAAG,MAKP,UACCpqB,KAAKwhC,mBAENtgC,QAAS,CACR,QACC,OAAM0tB,IAAI,aAAc5uB,KAAKyhC,WAC7B,oBAAO,KAAMzhC,KAAKwuB,KAElBxuB,KAAKuhC,QAAQzsB,UAEd,kBACC/Q,SAASmD,iBAAiB,YAAaN,IACtC5G,KAAKyhC,UAAU76B,KAEhBhG,OAAOsG,iBAAiB,SAAUN,IACjC5G,KAAKyhC,UAAU76B,MAGjB,UAAUA,GACT,IAAK,MAAM5D,KAAQ4D,EAAEwkB,KACpB,GAAIpoB,IAAShD,KAAKg2B,MAAMpR,KACvB,OAGF7gB,SAASgD,oBAAoB,YAAaH,IACzC5G,KAAKyhC,UAAU76B,KAEhBhG,OAAOmG,oBAAoB,SAAUH,IACpC5G,KAAKyhC,UAAU76B,KAEhB5G,KAAKuU,Y,UK5DR,EAAOlY,OAASA,EAChB,EAAOC,UAAY,kBAEJ,QCLf,MAAMolC,EAAY,KACjB,IAAIt0B,EAAY,GAChB,MAAO,CACN,QAAQu0B,EAAIC,GACXD,EAAGz6B,iBAAiB,cAAgBN,IACnC,MAAM26B,EAAUx9B,SAAS4V,cAAc,OAEvC5V,SAASC,KAAK0R,OAAO6rB,GACrB,uBAAU,EAAM,CACfn0B,OACAm0B,UACAh9B,SAAU,CACT4lB,EAAGvjB,EAAEi7B,QACLzX,EAAGxjB,EAAEk7B,WAEJxU,MAAMiU,GACT36B,EAAEk4B,oBAGJ,QAAQ6C,EAAIC,GACXx0B,EAAOw0B,EAAQ9kC,SAIH,U,kKC1BThB,MAAM,S,6EAAX,yBAA0C,MAA1C,EAA0C,6BAApB,EAAAo1B,OAAOC,MAAI,K,gBCEnB,+BAAgB,CAC9Bn1B,KAAM,aACNgF,SAAU,CACTkwB,OAAA,U,UCDF,EAAO70B,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W,kCCAA,W,kCCAA,OAAe,kBACP,CACN8H,OAAQ,CACPohB,QAAS,GACTC,MAAO,IAERlpB,MAAO,CACN+H,cAAe,SACf+U,KAAM,mBACNhU,SAAU,GACVC,WAAY,UACZC,MAAO,yBACPC,UAAW,SACXC,eAAgB,OAChBC,gBAAiB,GACjBC,gBAAiB,OACjBnB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,W,kCC3BhB,W,kCCAA,6FACO,MAAM48B,EAAS,CAAC/lC,EAAc6K,KACpC,IAAUm7B,OACT,IAAIC,KAAK,CAACp+B,KAAKM,UAAU0C,IAAQ,CAAEnJ,KAAM,KACtC1B,EAAH,UAGWkmC,EAAQ,CAAClmC,EAAc6L,KACnC,IAAUm6B,OACT,IAAIC,KAAK,CAACp6B,GAAU,CAAEnK,KAAM,eACzB1B,EAAH,U,kCCVF,OAAe,kBACP,CACNoI,OAAQ,CACPkX,KAAM,IAEP/e,MAAO,CAEN8I,SAAU,GACVC,WAAY,SACZC,MAAO,OACPG,gBAAiB,EACjBC,gBAAiB,OACjBH,UAAW,SACXC,eAAgB,OAEhBjB,YAAa,EACbC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,UAAW,EACXC,aAAc,EAEdC,gBAAiB,cACjBC,aAAc,EACdC,YAAa,EACbC,YAAa,OACbb,cAAe,a,2EC1BhB,yBAGM,OAHDxI,MAAM,QAAM,CAChB,yBAA4C,OAAvCA,MAAM,iCACX,yBAAiB,WAAZ,Y,KAIJ,yBAAgC,OAA3BA,MAAM,oBAAkB,S,0GAPhC,yBAWM,OAXDA,MAAM,WAAY,QAAK,oBAAE,EAAA+7B,SAAA,EAAAA,WAAA,IAAUt7B,MAAK,SAAW,EAAAm7B,M,CACvD,EAIA,yBAIW,GAJD57B,MAAM,QAASihB,IAAK,EAAA4a,Y,CAClBh1B,MAAK,qBACf,IAAgC,CAAhC,I,gDCJW,+BAAgB,CAC9B3G,KAAM,iBACNI,MAAO,CACNu7B,WAAY,CACXj6B,KAAM8V,OACNkH,QAAS,IAEVgd,IAAK,CACJh6B,KAAM8V,OACNkH,QAAS,UAGXxZ,QAAS,CACR,gBACC,MAAM62B,QAAkB,eAAK,kBAC7B,GAAIA,EAAM,CACT,MAAMtiB,QAAY,eAAYsiB,EAAK3M,MACnCprB,KAAKO,MACJ,oBACA,uBAAuB,OAAKu3B,SAASriB,S,UClB1C,EAAOpZ,OAASA,EAED,gB,kCCPf,W,sECEA,IAAIuP,EAAqB,GA+BV,Q,YC9Bf,MAAM,EAAO,IAAM,4CACJ,QACd,CACCwf,KAAM,SACNpvB,KAAM,QACNqvB,UAAW,IAAM,iDAElB,CACCD,KAAM,IACNpvB,KAAM,OACNqvB,UAAW,EACXX,KAAM,CACL3tB,MAAO,MAERolC,SAAU,aACVl2B,SAAU,CACT,CACCmf,KAAM,aACNpvB,KAAM,YACN0uB,KAAM,CACL3tB,MAAO,KACPgC,KAAM,kBACNusB,OAAQ,UAETD,UAAW,IAAM,iDAElB,CACCD,KAAM,YACNpvB,KAAM,WACN0uB,KAAM,CACL3tB,MAAO,OACPgC,KAAM,gBACNusB,OAAQ,SACRhtB,SAAU,IACgC,iBAAlCkM,EAAA,KAAMtK,MAAMsL,aAAaC,MAGlC4f,UAAW,IAAM,sFAElB,CACCD,KAAM,eACNpvB,KAAM,cACN0uB,KAAM,CACL3tB,MAAO,MACPgC,KAAM,eACNusB,OAAQ,UAETD,UAAW,IAAM,kDAElB,CACCD,KAAM,WACNpvB,KAAM,UACN0uB,KAAM,CACL3tB,MAAO,QACPgC,KAAM,wBACNusB,OAAQ,SAGV,CACCF,KAAM,WACNpvB,KAAM,UACN0uB,KAAM,CACL3tB,MAAO,OACPgC,KAAM,sBACNusB,OAAQ,SACRhtB,SAAU,KACF,GAGT6jC,SAAU,OAIb,CACC/W,KAAM,UACNpvB,KAAM,SACNqvB,UAAW,EACXX,KAAM,CACL3tB,MAAO,MAERkP,SAAU,CACT,CACCmf,KAAM,gBACNpvB,KAAM,eACN0uB,KAAM,CACL3tB,MAAO,OACPgC,KAAM,uBACNusB,OAAQ,SACRhtB,SAAU,KACF,GAGT6jC,SAAU,OAIb,CACC/W,KAAM,QACNpvB,KAAM,OACNqvB,UAAW,EACXX,KAAM,CACL3tB,MAAO,MAERkP,SAAU,CACT,CACCmf,KAAM,UACNpvB,KAAM,SACN0uB,KAAM,CACL3tB,MAAO,OACPgC,KAAM,oBACNusB,OAAQ,SACRhtB,SAAU,KACF,GAGT6jC,SAAU,OAIb,CACC/W,KAAM,UACNpvB,KAAM,SACNqvB,UAAW,EACXX,KAAM,CACL3tB,MAAO,SAERkP,SAAU,CACT,CACCmf,KAAM,kBACNpvB,KAAM,UACNqvB,UAAW,IAAM,gDACjBX,KAAM,CACL3tB,MAAO,KACPgC,KAAM,kBACNusB,OAAQ,WAOV,CACCF,KAAM,oBACNpvB,KAAM,YACNqvB,UAAW,IAAM,iIACjBX,KAAM,CACL3tB,MAAO,MACPgC,KAAM,kBACNusB,OAAQ,WAGV,CACCF,KAAM,kBACNpvB,KAAM,UACNqvB,UAAW,IAAM,qFACjBX,KAAM,CACL3tB,MAAO,MACPgC,KAAM,eACNusB,OAAQ,WAGV,CACCF,KAAM,uBACNpvB,KAAM,eACNqvB,UAAW,IAAM,gDACjBX,KAAM,CACL3tB,MAAO,MACPgC,KAAM,kBACNusB,OAAQ,SACRhtB,SAAU,KACF,IAIV,CACC8sB,KAAM,yBACNpvB,KAAM,iBACNqvB,UAAW,IACV,2GACDX,KAAM,CACL3tB,MAAO,MACPgC,KAAM,2BACNusB,OAAQ,SACRhtB,SAAU,KACF,IAIV,CACC8sB,KAAM,gBACNpvB,KAAM,QACNqvB,UAAW,IAAM,2GACjBX,KAAM,CACL3tB,MAAO,MACPgC,KAAM,eACNusB,OAAQ,SACRhtB,SAAU,KACF,SAMTq8B,I,kCC9MJ,W,kCCAA,4GA0BM,SAAUyH,IACf,MAAO,CACNC,cAAc,EACdpW,WAAW,EACX/b,QAAQ,EACRoyB,aAAa,EACb91B,WAAY,iBACZhE,YAAa,OAAKtC,UAClBtG,YAAa,OAAKmN,UAClBsG,SAAU,OAAKxM,OACfhH,YAAa,OAAK4N,gBAClBE,WAAY,OAAKjR,SACjBmP,cAAe,GACfwB,YAAa,GACbF,KAAM,OAAKA,OACX3B,aAAc,OAAO9O,SACrB6Q,cAAe,OAAO7F,UACtB4F,cAAe,OAAOpH,UACtBoG,eAAgB,OAAQpG,UACxB0E,eAAgB,OAAQmC,UACxB1M,OAAQ,IAAI,OACZ0K,KAAM,OAAK0D,YAIN,MAAMvO,EAAmBkiC,K,kCCnDhC,W,kCCAA,W,qBCAA,IAAIr/B,EAAM,CACT,KAAM,OACN,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,sBAAuB,OACvB,uBAAwB,OACxB,4BAA6B,OAC7B,gCAAiC,OACjC,0BAA2B,OAC3B,8BAA+B,OAC/B,aAAc,OACd,cAAe,OACf,mBAAoB,OACpB,uBAAwB,OACxB,iBAAkB,OAClB,qBAAsB,OACtB,UAAW,OACX,aAAc,OACd,YAAa,OACb,aAAc,OACd,kBAAmB,OACnB,sBAAuB,OACvB,iBAAkB,OAClB,kBAAmB,OACnB,uBAAwB,OACxB,2BAA4B,OAC5B,qBAAsB,OACtB,yBAA0B,OAC1B,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,oBAAqB,OACrB,wBAAyB,OACzB,gBAAiB,OACjB,iBAAkB,OAClB,sBAAuB,OACvB,0BAA2B,OAC3B,oBAAqB,OACrB,wBAAyB,OACzB,UAAW,OACX,WAAY,OACZ,gBAAiB,OACjB,oBAAqB,OACrB,SAAU,OACV,UAAW,OACX,eAAgB,OAChB,mBAAoB,OACpB,aAAc,OACd,iBAAkB,QAInB,SAASoY,EAAenD,GACvB,IAAIxI,EAAK4L,EAAsBpD,GAC/B,OAAOC,EAAoBzI,GAE5B,SAAS4L,EAAsBpD,GAC9B,IAAIC,EAAoBC,EAAEnV,EAAKiV,GAAM,CACpC,IAAIpR,EAAI,IAAIS,MAAM,uBAAyB2Q,EAAM,KAEjD,MADApR,EAAEuR,KAAO,mBACHvR,EAEP,OAAO7D,EAAIiV,GAEZmD,EAAe/C,KAAO,WACrB,OAAOtY,OAAOsY,KAAKrV,IAEpBoY,EAAenI,QAAUoI,EACzB/C,EAAOC,QAAU6C,EACjBA,EAAe3L,GAAK,Q,sKC3EpB,MAAM4c,EAAmB,UAEnBmW,EAAqB,GACrBC,EAAkB,GAElBC,EAAUrW,EAAiBhU,OACjCqqB,EAAQrhC,QAAQirB,IACf,GACc,OAAbA,IACCA,EAAS/oB,MAAM,QAGhB,OAGD,MAAMo/B,EAAmBrW,EAAH,YAChBsW,EAAgBtW,EAAH,UACbuW,EAAYH,EAAQ37B,SAAS47B,GAC7BG,EAASJ,EAAQ37B,SAAS67B,GAChC,IAAKC,EAAW,OAChB,MAAME,EAAe1W,EAAiBsW,GAiBtC,GAhBAH,EAAcl3B,KAAK,CAClBvM,MAAOgkC,EAAapoB,QAAQ5b,OAASgkC,EAAapoB,QAAQ1e,KAC1DA,KAAM8mC,EAAapoB,QAAQ1e,KAC3B+C,KAAM+jC,EAAapoB,QAAQ3b,MAAQ,0BACnCC,YAAa8jC,EAAapoB,QAAQ1b,YAClCqsB,UAAW,qBACV,kCAAqB,IACpB,UAAO,KAAkBqX,EAAcrsB,QAAQ,KAAM,OAGvDpX,eAAgB,IACZ6jC,EAAapoB,QAAQzb,eACxB4jC,WACI,CAAEA,aAGHA,EAAQ,OACb,MAAME,EAAY3W,EAAiBuW,GACnCH,EAAWn3B,KAAK,CACfvM,MAAOikC,EAAUroB,QAAQ5b,OAASikC,EAAUroB,QAAQ1e,KACpDA,KAAM+mC,EAAUroB,QAAQ1e,KACxB+C,KAAMgkC,EAAUroB,QAAQ3b,MAAQ,0BAChCC,YAAa+jC,EAAUroB,QAAQ1b,YAC/BqsB,UAAW,qBACV,kCAAqB,IACpB,UAAO,KAAkBsX,EAAWtsB,QAAQ,KAAM,OAGpDpX,eAAgB8jC,EAAUroB,QAAQzb,gBAAkB,Q,0JCjDrD,yBAEM,OAFDu2B,IAAI,QAAQ15B,MAAM,QAASS,MAAO,EAAAA,O,CACtC,yBAAoB,wCAAb,EAAAQ,OAAK,I,KCAC,mCAAgB,CAC9Bf,KAAM,iBACNI,MAAO,CACNW,MAAO,CACNW,KAAM8V,OACNkH,QAAS,KAGX,OACC,MAAMsoB,EAAgB,KAChBC,EAAqB,KAC3B,MAAO,CACNC,UAAW,EACXF,WACAC,gBACAE,SAAS,IAGXniC,SAAU,CACT,QACC,MAAO,CACN,cAAkBhB,KAAKkjC,UAAR,KACf,mBAAuBljC,KAAKkjC,UAAY,EAArB,OAItBzP,MAAO,CACN12B,MAAO,CACN,QAAQ22B,EAAGxb,GACNlY,KAAKmjC,SAAWzP,GACnB1zB,KAAKojC,eAGPC,WAAW,IAGb,UACCrjC,KAAKojC,eAEN,gBACKpjC,KAAKgjC,UACRhjC,KAAKgjC,SAASrU,cAGhBztB,QAAS,CACR,cACC,IACC,MAAMoiC,EAActjC,KAAKwuB,IACzB,IAAK8U,EACJ,MAAM,IAAIj8B,MAEX,MAAMk8B,EAAQD,EAAOE,WACfC,EAAU,KACf,MAAMC,EAAOH,EAAMnC,YAAckC,EAAOlC,YAEvCphC,KAAKkjC,UADFQ,EAAO,GACQA,EAAO,GAER,GAGf1jC,KAAKgjC,UACRhjC,KAAKgjC,SAASrU,aAGf3uB,KAAKgjC,SAAW,IAAIW,eAAeF,GAEnCzjC,KAAKgjC,SAASzU,QAAQ+U,GACtBtjC,KAAKgjC,SAASzU,QAAQgV,GACtBE,IACC,MAAO9gC,S,UClEZ,EAAOtG,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,W,yDCAA,W,kCCEA,giBAAO,MAAMsnC,EAAgBtjC,IAC5B,MAAM5C,EAAI,OAAG4C,QAAH,IAAGA,OAAH,EAAGA,EAAS5C,KACtB,OAAQA,GACP,KAAK,IACJ,OAAO4C,EAAQuG,KAAKg9B,UACrB,KAAK,KACJ,OAAOvjC,EAAQuG,KAChB,KAAK,KACJ,OAAOvG,EAAQuG,KAChB,KAAK,KACJ,OAAOvG,EAAQuG,KAChB,KAAK,KACJ,OAAOvG,EAAQuG,KAChB,KAAK,KACJ,OAAOvG,EAAQuG,KAAKg9B,UACrB,KAAK,KACJ,OAAOvjC,EAAQuG,KAChB,KAAK,KACJ,OAAOvG,EAAQuG,KAChB,QACC,OAAO,IAIG8oB,EAAervB,IAC3B,MAAM5C,EAAI,OAAG4C,QAAH,IAAGA,OAAH,EAAGA,EAAS5C,KACtB,OAAQA,GACP,KAAK,KACJ,OAAOkmC,EAAatjC,GAASwjC,SAC9B,KAAK,KACJ,MAAO,GACR,QACC,OAAOF,EAAatjC,GAAS+3B,WAInBtqB,EAAWzN,IAAgB,QACvC,MAAM5C,EAAI,OAAG4C,QAAH,IAAGA,OAAH,EAAGA,EAAS5C,KACtB,OAAQA,GACP,KAAK,KACJ,cAAO4C,QAAP,IAAOA,GAAP,UAAOA,EAASuG,YAAhB,aAAO,EAAek9B,SACvB,QACC,iBAAOH,EAAatjC,UAApB,aAAO,EAAuB0jC,WAIpBC,EAAU,CAAC3jC,EAAcyW,KACrC,MAAMrZ,EAAI,OAAG4C,QAAH,IAAGA,OAAH,EAAGA,EAAS5C,KACtB,OAAQA,GACP,KAAK,KACJ4C,EAAQuG,KAAKk9B,SAAWhtB,EACxB,MACD,QACC6sB,EAAatjC,GAAS0jC,SAAWjtB,EAEnC,OAAOzW,GAGK8Z,EAAY9Z,GACjBqvB,EAAYrvB,GAAS4jC,MAGhBC,EAAiB7jC,GACtB8Z,EAAS9Z,GAAS6Y,MAGbirB,EAAgB9jC,GACrB8Z,EAAS9Z,GAAS+Z,SAGbgqB,EAAa/jC,GAClBqvB,EAAYrvB,GAASwJ,OAGhBw6B,EAAehkC,GACpBqvB,EAAYrvB,GAASmP,SAGhB80B,EAAUjkC,GACfqvB,EAAYrvB,GAASrC,OAGhB0qB,EAAcroB,GACL,MAAjBA,EAAQ5C,KACJ,GAED4C,EAAQuG,KAAKgB,QAGRnH,EAAWJ,GACF,OAAjBA,EAAQ5C,KACJ,CACN2d,SAAS,GAGJ,CACNA,SAAS,KACN/a,EAAQuG,MAGA29B,EAAkBlkC,GACvBA,EAAQ5C,KAGH+mC,EAAenkC,IAAgB,MAC3C,iBAAOI,EAAQJ,UAAf,aAAO,EAAkBo1B,WAAWz4B,UAOxBynC,EAAiBpkC,IAAgB,MAC7C,iBAAOI,EAAQJ,UAAf,aAAO,EAAkBkD,OAObsyB,EAAgBx1B,IAAgB,MACU,EAAtD,OAAmD,KAA/C,UAAAI,EAAQJ,UAAR,eAAkBo1B,WAAWiP,eAChC,UAAOjkC,EAAQJ,UAAf,aAAO,EAAkBxD,MAEnB,GAGKirB,EAAeznB,IAC3B,MAAMuH,EAAyB,GAU/B,OATAvH,EAAQuG,KAAK+9B,SAASxjC,QAAS2N,IAC9B,OAAQA,EAAErR,MACT,KAAK,KACJmK,EAAQwD,KAAK0D,EAAE81B,QAAQxM,SAAS5oB,UAChC,MACD,QACC5H,EAAQwD,KAAK0D,EAAE81B,QAAQvpB,SAGnBzT,EAAQ3E,KAAK,MAGR4hC,EAAe,CAC3B/2B,UACAo2B,gBACAC,eACAE,cACA3b,aACA8b,cACAC,gBACA5O,eACA/N,eAGYgd,EAAgB,IACrB,CACN,CACChoC,MAAO,KACPD,MAAO,UACPyd,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,OAE3C,CACCxd,MAAO,OACPD,MAAO,gBACPyd,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,OAErC,CACCxd,MAAO,MACPD,MAAO,eACPyd,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,OAErC,CACCxd,MAAO,MACPD,MAAO,cACPyd,UAAW,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,OAE3C,CACCxd,MAAO,KACPD,MAAO,aACPyd,UAAW,CAAC,MAEb,CACCxd,MAAO,OACPD,MAAO,cACPyd,UAAW,CAAC,OAEb,CACCxd,MAAO,OACPD,MAAO,gBACPyd,UAAW,CAAC,OAEb,CACCxd,MAAO,OACPD,MAAO,eACPyd,UAAW,CAAC,OAEb,CACCxd,MAAO,OACPD,MAAO,cACPyd,UAAW,CAAC,S,kKCvMT/K,GAAG,Q,GAEF1T,MAAM,S,GAELA,MAAM,W,SACLA,MAAM,Q,uUALd,yBAiBM,MAjBN,EAiBM,CAhBL,yBAAgB,GAChB,yBAcM,MAdN,EAcM,CAbL,yBAAiB,GACjB,yBAWM,MAXN,EAWM,CAVoB,EAAAoU,O,iEAAzB,yBAQM,MARN,EAQM,CAPL,yBAMc,GANA/T,MAAO,EAAAsuB,OAAOC,KAAK3tB,O,WAChC,IAIc,CAJd,yBAIc,Q,UAHb,EADsBguB,eAAS,CAC/B,yBAEa,iBAFD/uB,KAAK,OAAOC,KAAK,U,WAC5B,IAA6B,E,yBAA7B,yBAA6B,qCAAb8uB,O,0CAKpB,yBAAc,W,kHCb2D,yBAAiC,QAA3BjvB,MAAM,oBAAkB,S,6EAD1G,yBAKM,OALD0T,GAAG,YAAa1T,MAAK,QAAU,EAAAkpC,UAAWC,6BAA2B,oB,CACd,cAAjB,EAAAz5B,aAAaC,M,yBAAvD,yBAAwI,O,MAAnI3P,MAAM,SAAU,QAAK,oBAAE,EAAAopC,QAAA,EAAAA,UAAA,K,CAA+C,E,0DAAmC,EAAAF,SAAQ,iB,uCACtH,yBAEa,iBAFDhpC,KAAK,QAAM,C,UACtB,IAA+B,E,yBAA/B,yBAA+B,qCAAf,EAAAmpC,iB,iGCInB,MAAMC,EAAY,kCAAqB,IACtC,4GAEKC,EAAS,kCAAqB,IACnC,iDAGc,mCAAgB,CAC9BrpC,KAAM,YACN6pB,WAAY,CACXuf,YACAC,UAED,OACC,MAAMC,GAAqB,EAC3B,MAAO,CACNN,UAAU,EACVM,iBAGF,UACC,OAAM7uB,GAAG,cAAezW,KAAKklC,QAC7B,OAAMzuB,GAAG,sBAAuBzW,KAAKulC,oBACrC,OAAQ9uB,GAAG,cAAezW,KAAKwlC,aAC/B,OAAQ/uB,GAAG,eAAgBzW,KAAKylC,cAChCzlC,KAAK0lC,aACL,eAAa1lC,KAAKC,QAClB,eAAa,OACbD,KAAKklC,OAAO,CACXlpC,KAAM,iBAGR,gBACC,OAAM4yB,IAAI,cAAe5uB,KAAKklC,QAC9B,OAAMtW,IAAI,sBAAuB5uB,KAAKulC,oBACtC,OAAQ3W,IAAI,cAAe5uB,KAAKwlC,aAChC,OAAQ5W,IAAI,eAAgB5uB,KAAKylC,cACjC,kBAEDzkC,SAAU,IACN,eAAS,CACX,cACA,eACA,iBACA,gBAED,cACC,OAAOhB,KAAKglC,SAAWI,EAAYC,IAGrCnkC,QAAS,CACR,qBACC,MAAMuK,EAAOzL,KAAKwL,aAAaC,KAC/B,IAAI+U,EAAM,GACV,OAAQ/U,GACP,IAAK,SACJzL,KAAK0lC,aACL,MACD,IAAK,aACJ1lC,KAAK0lC,aACLllB,EAAM,QACNxgB,KAAKglC,UAAW,EAChB,MACD,IAAK,cACJxkB,EAAM,QACNxgB,KAAKglC,UAAW,EAChB,MACD,QACC,MAEExkB,GACH,IAAU,CACTnY,QAASmY,EACTlY,SAAU,KACV5K,KAAM,UACNqS,OAAQ,MAIX,aACC,OAAQjH,SAAS,WAElB,eACC,OAAQD,OAAO,kBAAmB,GAAI,WAEvC,cACC,MAAM,OAAE5K,GAAW+B,KAAKwI,YACxB,OAAQK,OAAO,iBAAkB,CAAE5K,UAAU,WAE9C,OAAO2I,GACyB,eAA3B5G,KAAKwL,aAAaC,KAIjB7E,EAAE5K,KAIPgE,KAAKglC,SAAsB,gBAAXp+B,EAAE5K,KAHjBgE,KAAKglC,UAAYhlC,KAAKglC,SAJtBhlC,KAAKglC,UAAW,M,UC9FpB,EAAO3oC,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,yGCPTkT,GAAG,U,GACF1T,MAAM,W,GAINA,MAAM,U,GAEJA,MAAM,Y,EAGZ,yBAA2D,OAAtDA,MAAM,cAAY,CAAC,yBAA6B,QAAvBA,MAAM,mB,MAShCA,MAAM,sB,gbAnBZ,yBAuBM,MAvBN,EAuBM,CAtBL,yBAEM,MAFN,EAEM,CADL,yBAAkB,KAGnB,yBAGM,MAHN,EAGM,CAFL,yBAAiE,GAAtDa,KAAK,QAASogB,IAAK,EAAA9c,OAAOC,MAAMN,YAAYkK,Q,gBACvD,yBAAmE,OAAnE,EAAmE,6BAA1C,EAAA7J,OAAOC,MAAMN,YAAY6P,UAAQ,KAE3D,yBAQc,GARDk2B,UAAU,eAAehpC,KAAK,Q,CAE/BipC,SAAQ,EAClB,IAGmB,CAHnB,yBAGmB,GAHD9pC,MAAM,QAAM,C,UAC7B,IACkE,CADlE,yBACkE,GADhDA,MAAM,OAAQ,QAAK,eAAE,EAAAqgB,W,WAAU,IAC5C,C,6BAD4C,QAC5C,6BAAE,EAAAlc,OAAOC,MAAM2lC,UAAS,sB,0BAJ/B,IAA2D,CAA3D,I,MASD,yBAEM,MAFN,EAEM,CADL,yBAAmC,GAAvBC,UAAU,eAEvB,yBAAkB,O,gBAOpB,MAAM7a,EAAgB,kCAAqB,IAC1C,6CAEK8a,EAAgB,kCAAqB,IAC1C,iDAEc,mCAAgB,CAC9B/pC,KAAM,eACN6pB,WAAY,CACXoF,gBACA8a,iBAED7kC,QAAS,CACR,SACC,qB,UCvCH,EAAO7E,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QLkBA,+BAAgB,CAC9BN,KAAM,OACN6pB,WAAY,CACXmgB,YACAC,aAAA,GAED,UACCjmC,KAAKC,OAAOC,MAAM+rB,WAAY,GAE/BjrB,SAAU,IACN,eAAS,CAAC,c,UM/Bf,EAAO3E,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,qBCPf+b,EAAOC,QAAU,CAAC,cAAgB,gBAAgB,cAAgB,gBAAgB,MAAQ,Y,kCCD1F,W,kCCAA,W,iFCIe,+BAAgB,CAC9Btc,KAAM,YACN8C,MAAO,OACPwb,cAAe,CACdC,UAAW,GACXC,MAAO,GAERpe,MAAO,CACNoS,QAAS,CACRkM,QAAS,yBAGX,OACC,MAAO,CACNE,aAAc,aACdC,YAAa,iBChBD,gB,kCCHf,W","file":"js/chunk-common.f07bcdc9.js","sourcesContent":["<template>\r\n\t<div class=\"contentTitle\">\r\n\t\t<transition appear name=\"fade\" mode=\"out-in\">\r\n\t\t\t<span :key=\"title\">{{title}}</span>\r\n\t\t</transition>\r\n\t</div>\r\n\t<div class=\"contentInner\">\r\n\t\t<slot />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"titleFrame\",\r\n\tprops: [\"title\"]\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.contentTitle {\r\n\tposition: relative;\r\n\twidth: fit-content;\r\n\tmargin: 17px 50px 22px 50px;\r\n\tpadding-bottom: 8px;\r\n\tfont-size: $--font-size-medium;\r\n\tline-height: calc(#{$--font-size-medium} + 10px);\r\n\tcolor: $--color-primary !important;\r\n\tborder-bottom: 2px solid $--color-primary;\r\n\tuser-select: none;\r\n\tz-index: 1;\r\n}\r\n.contentInner {\r\n\tposition: relative;\r\n\twidth: calc(100% - 100px);\r\n\theight: calc(100% - 75px);\r\n\tmargin: 0px 50px;\r\n}\r\n</style>\r\n","import { render } from \"./titleFrame.vue?vue&type=template&id=6318c346&scoped=true\"\nimport script from \"./titleFrame.vue?vue&type=script&lang=js\"\nexport * from \"./titleFrame.vue?vue&type=script&lang=js\"\n\nimport \"./titleFrame.vue?vue&type=style&index=0&id=6318c346&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6318c346\"\n\nexport default script","<template>\r\n\t<div class=\"outer\" v-loading=\"loading\" :style=\"{backgroundImage:`url(${settings.backgroundImage})`}\">\r\n\t\t<div class=\"title shadow\">{{status==='setting'?\"设置抽奖参数\":`弹幕抽奖：${title}`}}</div>\r\n\t\t<div class=\"votePanel\" v-show=\"status=='setting'\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">奖品</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"title\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">选择抽奖类型</span>\r\n\t\t\t\t<el-select size=\"mini\" v-model=\"lotteryType\" max-height=\"100px\">\r\n\t\t\t\t\t<el-option value=\"keyword\" label=\"关键词抽奖\" />\r\n\t\t\t\t\t<el-option value=\"gift\" label=\"送出指定礼物抽奖\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">显示中奖概率</span>\r\n\t\t\t\t<el-switch v-model=\"showChance\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"lotteryType=='gift'\">\r\n\t\t\t\t<span class=\"shadow\">选择礼物</span>\r\n\t\t\t\t<el-select size=\"mini\" v-model=\"giftName\" class=\"drop-down-maxHeight\">\r\n\t\t\t\t\t<el-option v-for=\"gift in gifts\" :key=\"gift.giftID\" :value=\"gift.giftName\" :label=\"gift.giftName\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"lotteryType=='keyword'\">\r\n\t\t\t\t<span class=\"shadow\">输入关键词</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"keyword\" :maxlength=\"10\" placeholder=\"不要输入标点符号,最多10字\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">输入奖品数量</span>\r\n\t\t\t\t<el-input-number size=\"mini\" v-model=\"lotteryNum\" :min=\"1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"status='InProgress'\">开始抽奖</el-button>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"votePanel\" v-show=\"status=='InProgress'\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\" v-if=\"lotteryType=='keyword'\">输入关键词“{{keyword}}”参与抽奖</span>\r\n\t\t\t\t<span class=\"shadow\" v-else>送出一个 “{{giftName}}”参与抽奖</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">已有{{lotteryPool.length}}人加入奖池</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\" v-show=\"showChance\">抽取{{lotteryNum}}人，当前中奖率{{rate}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"height:calc(100% - 147px)\"></div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"getLucky()\" style=\"width:100%\">开奖</el-button>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"votePanel\" v-show=\"['Resulting','Resulted'].indexOf(status)>-1\">\r\n\t\t\t<div class=\"row\" style=\"height:calc(100% - 54px);position:relative\">\r\n\t\t\t\t<div style=\"height:100%;width:100%;overflow-y:auto;\">\r\n\t\t\t\t\t<div style=\"display:flex;justify-content:space-between;width:100%;margin-bottom:8px\" v-for=\"user in luckyPool\" :key=\"user.userID\">\r\n\t\t\t\t\t\t<span class=\"shadow\">{{user.nickName}}</span>\r\n\t\t\t\t\t\t<el-button size=\"mini\" type=\"primary\" v-show=\"!user.pending\" @click=\"open(user.userID)\">个人主页</el-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"reset\" :disabled=\"status=='Resulting'\" style=\"width:100%\">{{status==\"Resulting\"?\"开奖中\":\"重新抽\"}}</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"save\" :disabled=\"status=='Resulting'\" style=\"width:100%\">保存结果</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>背景图片</div>\r\n\t\t\t\t<img-input-static v-model=\"settings.backgroundImage\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\thasContent,\r\n\thasGift\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport {\r\n\tgetTime,\r\n\tgetGiftName,\r\n\tgetContent,\r\n\tgetNickName,\r\n\tgetUID\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { user, room } from \"@front/api\";\r\nimport { init } from \"@front/api/server\";\r\nimport random from \"lodash/random\";\r\nimport { toTXT } from \"@front/util_function/exportTo\";\r\nexport default defineComponent({\r\n\tname: \"lottery\",\r\n\tcname: \"限时抽奖\",\r\n\ticon: \"el-icon-s-ticket\",\r\n\tdescription:\r\n\t\t\"指定入奖票规则（关键词/礼物），在一定时间内收集奖池人数（去重），手动开奖\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 600,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tsettingShow: false,\r\n\t\t\tvoterShow: false,\r\n\t\t\tstatus: \"setting\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tgiftName: \"\",\r\n\t\t\tkeyword: \"\",\r\n\t\t\tlotteryType: \"keyword\",\r\n\t\t\tlotteryNum: 5,\r\n\t\t\tshowChance: true,\r\n\t\t\tlotteryPool: [],\r\n\t\t\tluckyPool: [],\r\n\t\t\tregexp: \"\",\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100,\r\n\t\t\t\tbackgroundImage: \"\"\r\n\t\t\t},\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient(\r\n\t\t\t[\"changedDanmaku\", \"userProfile\", \"roomProfile\"],\r\n\t\t\t({ changedDanmaku, userProfile, roomProfile }) => {\r\n\t\t\t\tObject.assign(this.$store.state, { userProfile, roomProfile });\r\n\t\t\t\tconst tester =\r\n\t\t\t\t\tthis.lotteryType === \"gift\" ? hasGift : hasContent;\r\n\t\t\t\tthis.addPool(changedDanmaku.filter(danmaku => tester(danmaku)));\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tinit({\r\n\t\t\tonOpen: () => {\r\n\t\t\t\tthis.getGift();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"userProfile\", \"roomProfile\"]),\r\n\t\trate() {\r\n\t\t\tif (this.lotteryPool.length <= this.lotteryNum) {\r\n\t\t\t\treturn \"100%\";\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t((this.lotteryNum * 100) / this.lotteryPool.length).toFixed(2) +\r\n\t\t\t\t\"%\"\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsave() {\r\n\t\t\tlet str = \"\";\r\n\t\t\tthis.luckyPool.forEach(lucker => {\r\n\t\t\t\tstr += `${\r\n\t\t\t\t\tlucker.nickName\r\n\t\t\t\t}, ${`https://www.acfun.cn/u/${lucker.userID}`} \\n`;\r\n\t\t\t});\r\n\t\t\ttoTXT(`${new Date().toTimeString()} 抽奖结果`, str);\r\n\t\t},\r\n\t\topen(uid) {\r\n\t\t\twindow.open(`https://www.acfun.cn/u/${uid}`);\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tthis.lotteryPool = [];\r\n\t\t\tthis.luckyPool = [];\r\n\t\t\tthis.status = \"setting\";\r\n\t\t},\r\n\t\tgetLucky(currentSelected = null, firstTime = 0, pool = null) {\r\n\t\t\tthis.status = \"Resulting\";\r\n\t\t\tif (!pool) pool = [...this.lotteryPool];\r\n\t\t\tif (firstTime === 0) firstTime = Date.now();\r\n\t\t\tif (\r\n\t\t\t\tthis.luckyPool.length >\r\n\t\t\t\tMath.min(this.lotteryNum, this.lotteryPool.length)\r\n\t\t\t) {\r\n\t\t\t\tthis.status = \"Resulted\";\r\n\t\t\t\tthis.luckyPool.shift();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (Date.now() - firstTime > 500 && currentSelected) {\r\n\t\t\t\tif (this.luckyPool[0].pending) {\r\n\t\t\t\t\tthis.luckyPool[0] = currentSelected;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.luckyPool.shift(currentSelected);\r\n\t\t\t\t}\r\n\t\t\t\tthis.luckyPool = [...this.luckyPool];\r\n\t\t\t\tcurrentSelected = null;\r\n\t\t\t\tfirstTime = Date.now();\r\n\t\t\t}\r\n\t\t\tif (!currentSelected) {\r\n\t\t\t\tconst select = random(0, pool.length - 1);\r\n\t\t\t\tif (select < 0) {\r\n\t\t\t\t\tthis.status = \"Resulted\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcurrentSelected = pool.splice(select, 1)[0];\r\n\t\t\t\tthis.luckyPool.unshift({\r\n\t\t\t\t\tuserID: 0,\r\n\t\t\t\t\tnickName: \"\",\r\n\t\t\t\t\tpending: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (this.luckyPool[0]?.pending) {\r\n\t\t\t\tthis.luckyPool[0] = {\r\n\t\t\t\t\t...pool[random(0, pool.length - 1)],\r\n\t\t\t\t\tpending: true\r\n\t\t\t\t};\r\n\t\t\t\tthis.luckyPool = [...this.luckyPool];\r\n\t\t\t}\r\n\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\tthis.getLucky(currentSelected, firstTime, pool);\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync getGift() {\r\n\t\t\tlet retry = Boolean(this.roomProfile.liveID);\r\n\t\t\tif (retry) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait user.login({\r\n\t\t\t\t\t\taccount: \"\",\r\n\t\t\t\t\t\tpassword: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst res = await room.getGiftList({\r\n\t\t\t\t\t\tliveID: this.roomProfile.liveID\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.gifts = res;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tretry = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!retry) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getGift();\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst testerArr = this.voteItem.map(item => {\r\n\t\t\t\treturn item.keyword;\r\n\t\t\t});\r\n\t\t\tthis.regexp = new RegExp(testerArr.join(\"|\"), \"g\");\r\n\t\t},\r\n\t\taddPool(danmakus) {\r\n\t\t\tdanmakus.forEach(danmaku => {\r\n\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\tif (this.lotteryPool.find(user => user.userID === uid)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet shouldadd = false;\r\n\t\t\t\tswitch (this.lotteryType) {\r\n\t\t\t\t\tcase \"gift\":\r\n\t\t\t\t\t\tshouldadd = getGiftName(danmaku) === this.giftName;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"keyword\":\r\n\t\t\t\t\t\tshouldadd = Boolean(\r\n\t\t\t\t\t\t\tgetContent(danmaku)?.match(this.keyword.trim())\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif (shouldadd) {\r\n\t\t\t\t\tthis.lotteryPool = [\r\n\t\t\t\t\t\t...this.lotteryPool,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\t\tnickName: getNickName(danmaku)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddItem() {\r\n\t\t\tthis.voteItem = [\r\n\t\t\t\t...this.voteItem,\r\n\t\t\t\t{\r\n\t\t\t\t\tkeyword: \"\",\r\n\t\t\t\t\tcount: 0,\r\n\t\t\t\t\tperson: []\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${this.settings.zoom}%`);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n\tmargin-bottom: 8px;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=eb431554&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=eb431554&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-eb431554\"\n\nexport default script","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./base.vue?vue&type=style&index=0&id=648f4714&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=dc8bc02a&scoped=true&lang=scss\"","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\tdegree: true,\r\n\t\t\tname: true\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\tpaddingLeft: 4,\r\n\t\t\tpaddingRight: 6,\r\n\t\t\tpaddingTop: 2,\r\n\t\t\tpaddingBottom: 2,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 8,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"rgba(0, 170, 255, 1)\",\r\n\t\t\tborderRadius: 8,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"rgba(255, 0, 0, 0)\"\r\n\t\t},\r\n\t\tdegreeStyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\tfontSize: 14,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 0.7,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 2,\r\n\t\t\tpaddingRight: 3,\r\n\t\t\tpaddingTop: 2,\r\n\t\t\tpaddingBottom: 1,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"rgba(115, 208, 255, 1)\",\r\n\t\t\tborderRadius: 13,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t},\r\n\t\tnameStyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfontSize: 14,\r\n\t\t\tfontWeight: \"lighter\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 0.7,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 4,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 2,\r\n\t\t\tpaddingBottom: 1,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./obs.vue?vue&type=style&index=0&id=9799cc04&scoped=true&lang=scss\"","export default () => {\r\n\treturn {\r\n\t\tconfig: {},\r\n\t\tstyle: {\r\n\t\t\trotateZ: 0,\r\n\t\t\toverflow: \"visible\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 10,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\",\r\n\t\t\tverticalAlign: \"middle\"\r\n\t\t}\r\n\t};\r\n};\r\n","import { wsPromise } from \"@front/api/utils/websocket\";\r\n\r\nexport const catrgory = (): Promise<any> => {\r\n\t// 获取直播分区\r\n\treturn wsPromise(\"getCategory\", {\r\n\t\ttype: 901\r\n\t});\r\n};\r\n","import { wsPromise, wsStatus } from \"@front/api/utils/websocket\";\r\nimport { user } from \"@front/datas\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nlet pending = false;\r\nlet currentWs: any = null;\r\nexport const startDanmaku = (\r\n\tsession: user.Session,\r\n\t{ startCallback, danmakuCallback, endCallback, errorCallback }: any\r\n): any => {\r\n\tif (pending) {\r\n\t\treturn;\r\n\t}\r\n\tpending = true;\r\n\t// @ts-ignore\r\n\tconst ws = window.wsl;\r\n\t// 开始弹幕流获取\r\n\treturn start(session)\r\n\t\t.then(res => {\r\n\t\t\tconst judge = (e: any) => {\r\n\t\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\t\tif ([2999, 101, 2000].includes(data.type)) {\r\n\t\t\t\t\tws?.removeEventListener(\"message\", judge);\r\n\t\t\t\t\tcurrentWs = null;\r\n\t\t\t\t\tif ([2999].includes(data.type)) {\r\n\t\t\t\t\t\tconsole.error(\"danmaku flow error!\");\r\n\t\t\t\t\t\tif (errorCallback) errorCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ([2000, 101].includes(data.type)) {\r\n\t\t\t\t\t\tconsole.log(\"danmaku flow end!\");\r\n\t\t\t\t\t\tif (endCallback) endCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (data.type >= 1000) {\r\n\t\t\t\t\tif (danmakuCallback) danmakuCallback(data);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (ws !== currentWs && res) {\r\n\t\t\t\tws.addEventListener(\"message\", judge);\r\n\t\t\t\tcurrentWs = ws;\r\n\t\t\t}\r\n\r\n\t\t\tif (startCallback) startCallback(res);\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.error(err);\r\n\t\t\tpending = false;\r\n\t\t\tif (errorCallback) errorCallback();\r\n\t\t\tthrow new Error(err);\r\n\t\t})\r\n\t\t.finally(() => {\r\n\t\t\tpending = false;\r\n\t\t});\r\n};\r\n\r\nexport const start = (data: user.Session): Promise<void> => {\r\n\t// 开始弹幕获取\r\n\treturn wsPromise(\r\n\t\t\"startDanmakuFlow\",\r\n\t\t{\r\n\t\t\ttype: 100,\r\n\t\t\tdata: {\r\n\t\t\t\tliverUID: data.userID\r\n\t\t\t}\r\n\t\t},\r\n\t\t12000\r\n\t);\r\n};\r\nexport const stop = (data: user.Session): Promise<void> => {\r\n\t// 结束弹幕获取\r\n\treturn wsPromise(\"stopDanmakuFlow\", {\r\n\t\ttype: 101,\r\n\t\tdata: {\r\n\t\t\tliverUID: data.userID\r\n\t\t}\r\n\t});\r\n};\r\n","import { wsPromise } from \"@front/api/utils/websocket\";\r\n\r\nexport const start = (data: any): Promise<any> => {\r\n\t// 获取用户直播信息\r\n\treturn wsPromise(\"openStream\", {\r\n\t\ttype: 905,\r\n\t\tdata\r\n\t});\r\n};\r\n\r\nexport const close = (liveID: string): Promise<any> => {\r\n\t// 获取用户直播信息\r\n\treturn wsPromise(\"closeStream\", {\r\n\t\ttype: 906,\r\n\t\tdata: {\r\n\t\t\tliveID\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const validate = (): Promise<any> => {\r\n\treturn wsPromise(\"checkStreamable\", {\r\n\t\ttype: 900\r\n\t});\r\n};\r\n\r\nexport const session = (): Promise<any> => {\r\n\t// 获取推流设置\r\n\treturn wsPromise(\"getStreamSession\", {\r\n\t\ttype: 902\r\n\t});\r\n};\r\n\r\nexport const encodec = (streamName: string): Promise<any> => {\r\n\t// 获取转码信息\r\n\treturn wsPromise(\"getStreamEncodec\", {\r\n\t\ttype: 904,\r\n\t\tdata: {\r\n\t\t\tstreamName\r\n\t\t}\r\n\t});\r\n};\r\n","import { wsPromise } from \"@front/api/utils/websocket\";\r\n\r\nexport const getCurrentStastic = ({ liveID }: any): Promise<any> => {\r\n\t// 获取直播分区\r\n\treturn wsPromise(\"getCurrentStastic\", {\r\n\t\ttype: 104,\r\n\t\tdata: {\r\n\t\t\tliveID\r\n\t\t}\r\n\t});\r\n};\r\n","<template>\r\n\t<div class=\"outer\">\r\n\t\t<div class=\"title shadow\">设置</div>\r\n\t\t<div class=\"votePanel\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">公告内容</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"settings.content\" :maxlength=\"45\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">公告周期（秒）</span>\r\n\t\t\t\t<el-input-number size=\"mini\" v-model=\"settings.period\" :min=\"10\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"startRobot\">启动</el-button>\r\n\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"stopRobot\">停止</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { getContent } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nimport { chat } from \"@front/api/chat\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"danmakuRobot\",\r\n\tcname: \"公告机器人\",\r\n\ticon: \"self-jiqiren\",\r\n\tdescription: \"简单的公告机器人，定期发出公告弹幕\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 200,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100,\r\n\t\t\t\tcontent: \"\",\r\n\t\t\t\tperiod: 10\r\n\t\t\t},\r\n\t\t\tsettingShow: false,\r\n\t\t\tpreContent: \"\",\r\n\t\t\trobotTimer: null,\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient([\"userSession\", \"roomProfile\"], e => {\r\n\t\t\tObject.assign(this.$store.state, e);\r\n\t\t});\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.registerOBS();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"userSession\", \"roomProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tstartRobot() {\r\n\t\t\tclearTimeout(this.robotTimer);\r\n\t\t\tthis.robotTimer = setTimeout(() => {\r\n\t\t\t\tthis.sendMessage();\r\n\t\t\t}, 4000);\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t\"启动成功！将会在直播开启后自动发出消息；直播途中更改设置不需要重新启动;如果上一条弹幕也是鸡鸡人发的则不会重新发送\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tstopRobot() {\r\n\t\t\tclearTimeout(this.robotTimer);\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"停止成功！\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tsendMessage() {\r\n\t\t\tclearTimeout(this.robotTimer);\r\n\t\t\tif (this.roomProfile.liveID && this.settings.content) {\r\n\t\t\t\tchat({\r\n\t\t\t\t\tuserID: this.userSession.userID,\r\n\t\t\t\t\tdeviceID: this.userSession.deviceID,\r\n\t\t\t\t\tserviceToken: this.userSession.serviceToken,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tvisitorId: this.userSession.userID,\r\n\t\t\t\t\t\tliveId: this.roomProfile.liveID,\r\n\t\t\t\t\t\tcontent: this.settings.content\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.robotTimer = setTimeout(() => {\r\n\t\t\t\tthis.sendMessage();\r\n\t\t\t}, this.settings.period * 1000);\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twsevent.wsEmit(\r\n\t\t\t\t\t\"voteUpdate\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: this.status,\r\n\t\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\t\tvoteItem: this.voteItem,\r\n\t\t\t\t\t\tbackgroundImage: this.settings.backgroundImage,\r\n\t\t\t\t\t\tmax: this.max,\r\n\t\t\t\t\t\tzoom: this.settings.zoom\r\n\t\t\t\t\t},\r\n\t\t\t\t\t`obs-${this.$options.name}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${this.settings.zoom}%`);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=bf9c424e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=bf9c424e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-bf9c424e\"\n\nexport default script","import {\r\n\tgetGiftValue,\r\n\tgetNickName,\r\n\tgetAvatar,\r\n\tgetUID,\r\n\tgetGiftNumber,\r\n\tgetContent\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport {\r\n\tsuperChatBlock,\r\n\tSuperChatBlock as SCB,\r\n\tSuperChatBlockSetting as SCBS\r\n} from \"./data\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport const getRule = (value: number, rules: Array<SCBS>) => {\r\n\trules.sort((a: any, b: any) => {\r\n\t\treturn b.triggerValue - a.triggerValue;\r\n\t});\r\n\tconst ruleIndex = rules.findIndex(\r\n\t\trule => value / 1000 >= rule.triggerValue\r\n\t);\r\n\tlet nextLevel = 0;\r\n\tif (ruleIndex) {\r\n\t\tconst nextRule = rules[ruleIndex - 1];\r\n\t\tif (nextRule) {\r\n\t\t\tnextLevel = nextRule.triggerValue * 1000 - value;\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\trule: rules[ruleIndex],\r\n\t\tnextLevel\r\n\t};\r\n};\r\n\r\nexport const scFromDanmaku = (danmaku: any, ruleData: any): SCB => {\r\n\tconst timestamp = Date.now();\r\n\tconst { rule, nextLevel } = ruleData;\r\n\treturn {\r\n\t\t...superChatBlock(),\r\n\t\t...rule,\r\n\t\tvalue: getGiftValue(danmaku),\r\n\t\tnumber: getGiftNumber(danmaku),\r\n\t\tnickName: getNickName(danmaku),\r\n\t\tavatar: getAvatar(danmaku),\r\n\t\tlistEndTime: timestamp + rule.listDuration,\r\n\t\tcontent: \"\",\r\n\t\tpanelEndTime: 0,\r\n\t\tcreateTime: timestamp,\r\n\t\tnextLevel,\r\n\t\tuid: getUID(danmaku)\r\n\t};\r\n};\r\n\r\nexport const scAdd = (block: SCB, danmaku: any, rules: Array<SCBS>) => {\r\n\tconst newValue = getGiftValue(danmaku) + block.value;\r\n\tconst newNumber = getGiftNumber(danmaku) + block.number;\r\n\tconst { rule, nextLevel } = getRule(newValue, rules);\r\n\tif (rule && rule.triggerValue > block.triggerValue) {\r\n\t\tblock.listEndTime = block.createTime + rule.listDuration;\r\n\t}\r\n\tblock.value = newValue;\r\n\tblock.number = newNumber;\r\n\tblock.nextLevel = nextLevel;\r\n\tblock.panelEndTime += 10000;\r\n\tObject.assign(block, rule);\r\n\treturn block;\r\n};\r\n\r\nexport const scGiftHandler = (danmaku: any, store: any) => {\r\n\tif (!store.getters.superChatEnable) {\r\n\t\treturn;\r\n\t}\r\n\tconst superChatSetting = store.state.danmakuProfile.common.superChat;\r\n\tconst temp = store.state.temp;\r\n\tconst { rule, nextLevel } = getRule(\r\n\t\tgetGiftValue(danmaku),\r\n\t\tsuperChatSetting.rules\r\n\t);\r\n\tif (!rule) {\r\n\t\treturn;\r\n\t}\r\n\tif (getUID(danmaku) === temp.superChatID) {\r\n\t\ttemp.superChatBlock = scAdd(\r\n\t\t\ttemp.superChatBlock,\r\n\t\t\tdanmaku,\r\n\t\t\tsuperChatSetting.rules\r\n\t\t);\r\n\t\treturn;\r\n\t}\r\n\tconst exist = temp.superChatArray.find(\r\n\t\t(scBlock: SCB) => scBlock.uid === getUID(danmaku)\r\n\t);\r\n\tif (!exist) {\r\n\t\ttemp.superChatArray.push(scFromDanmaku(danmaku, { rule, nextLevel }));\r\n\t} else {\r\n\t\tscAdd(exist, danmaku, superChatSetting.rules);\r\n\t\ttemp.superChatArray = [...temp.superChatArray];\r\n\t}\r\n\tevent.emit(\"super-chat-updated\");\r\n};\r\n\r\nexport const scTextHandler = (danmaku: any, store: any) => {\r\n\tconst temp = store.state.temp;\r\n\tconst block = temp.superChatArray.find(\r\n\t\t(b: any) => b.uid === getUID(danmaku)\r\n\t);\r\n\tif (block) {\r\n\t\tblock.content = getContent(danmaku);\r\n\t\tblock.panelEndTime += 10000;\r\n\t}\r\n};\r\n","import { RootState, state } from \"./state\";\r\nimport { tostring } from \"@front/util_function/type\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nexport const getters = {\r\n\tisStreaming(state: RootState) {\r\n\t\treturn (\r\n\t\t\tstate.streamStatus.step === \"streaming\" ||\r\n\t\t\tstate.streamStatus.step === \"danmakuing\"\r\n\t\t);\r\n\t},\r\n\tsuperChatEnable(state: RootState) {\r\n\t\tif (isElectron()) {\r\n\t\t\treturn state.danmakuProfile?.common?.superChat?.enable;\r\n\t\t}\r\n\t\treturn state.danmakuProfile?.common?.superChat?.webEnable;\r\n\t},\r\n\tstreamable(state: RootState) {\r\n\t\treturn state.streamStatus.step !== \"nostreamable\";\r\n\t},\r\n\tisLogined(state: RootState) {\r\n\t\treturn state.userSession.serviceToken && state.userSession.deviceID;\r\n\t},\r\n\tcategoryCascade(state: RootState) {\r\n\t\tconst output: any = {};\r\n\t\tstate.roomCategorys.forEach((subCategory: any) => {\r\n\t\t\tif (!output[subCategory.categoryID]) {\r\n\t\t\t\toutput[subCategory.categoryID] = {\r\n\t\t\t\t\tlabel: subCategory.categoryName,\r\n\t\t\t\t\tvalue: subCategory.categoryID,\r\n\t\t\t\t\tchildren: []\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\toutput[subCategory.categoryID].children.push({\r\n\t\t\t\tlabel: subCategory.subCategoryName,\r\n\t\t\t\tvalue: subCategory.subCategoryID\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn Object.values(output);\r\n\t},\r\n\tdanmakuList: (state: RootState) => {\r\n\t\treturn state.danmakuSession.filterFlow;\r\n\t},\r\n\tdanmakuProfile: (state: RootState) => (type: any) => {\r\n\t\tif (type) {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn state.danmakuProfile[tostring(type)];\r\n\t\t} else if (state.isElectron) {\r\n\t\t\treturn state.danmakuProfile.toolBox;\r\n\t\t} else {\r\n\t\t\treturn state.danmakuProfile.web;\r\n\t\t}\r\n\t}\r\n};\r\n","import { RootState, stateFunc } from \"./state\";\r\nimport store from \"./index\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { stream as streamData, temp, room as roomData } from \"@front/datas\";\r\nimport {\r\n\troom,\r\n\tstream,\r\n\tcommon,\r\n\twsevent,\r\n\tstatistic,\r\n\tuser,\r\n\tdanmaku\r\n} from \"@front/api\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport { saveConfig } from \"@front/util_function/system\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { isElectron } from \"../util_function/electron\";\r\nexport const mutations: any = {\r\n\treset() {\r\n\t\tstore.replaceState(stateFunc());\r\n\t\tstore.state.streamStatus.step = \"online\";\r\n\t\tsessionStorage.setItem(\"preStep\", \"online\");\r\n\t},\r\n\tgetRoomProfile(state: RootState) {\r\n\t\tuser.streamInfo(state.userSession).then(res => {\r\n\t\t\tif (!res) {\r\n\t\t\t\tthrow new Error(\"no streamInfo\");\r\n\t\t\t}\r\n\t\t\tif (res.profile) {\r\n\t\t\t\tObject.assign(state.userProfile, res.profile);\r\n\t\t\t\tdelete res.profile;\r\n\t\t\t\tif (res.liveID) {\r\n\t\t\t\t\tObject.assign(state.roomProfile, res);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tsetRoomProfile(state: RootState, roomSetInfo: any) {\r\n\t\troom.setProfile(roomSetInfo).then(() => {\r\n\t\t\tevent.emit(\"roomProfileChanged\");\r\n\t\t});\r\n\t},\r\n\r\n\tgetRank(state: RootState) {\r\n\t\troom.getRank(state.userSession).then(res => {\r\n\t\t\tObject.assign(state.rank, res);\r\n\t\t\tevent.emit(\"rank-updated\");\r\n\t\t\twsevent.wsEmit(\"update-rank\", res, \"client\");\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t\"update-manager\",\r\n\t\t\t\t{ list: state.managerList },\r\n\t\t\t\t\"client\"\r\n\t\t\t);\r\n\t\t});\r\n\t},\r\n\r\n\tgetCategory(state: RootState) {\r\n\t\tcommon\r\n\t\t\t.catrgory()\r\n\t\t\t.then(res => {\r\n\t\t\t\tstate.roomCategorys = res || [];\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tstate.roomCategorys = [];\r\n\t\t\t});\r\n\t},\r\n\r\n\tgetStreamSession(state: RootState) {\r\n\t\tstream\r\n\t\t\t.session()\r\n\t\t\t.then(res => {\r\n\t\t\t\tstate.streamSession = res || streamData.session();\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tstate.streamSession = streamData.session();\r\n\t\t\t});\r\n\t},\r\n\r\n\tgetStreamEncodec(state: RootState) {\r\n\t\tconst streamName =\r\n\t\t\tstate.roomProfile.streamName || state.streamSession.streamName;\r\n\t\tif (!streamName) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstream\r\n\t\t\t.encodec(streamName)\r\n\t\t\t.then(res => {\r\n\t\t\t\tstate.streamEncodec = res[0] || streamData.encodec();\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tstate.streamEncodec = streamData.encodec();\r\n\t\t\t});\r\n\t},\r\n\r\n\tresetStreamStatus(state: RootState) {\r\n\t\tstate.danmakuSession.rawFlow = [];\r\n\t\tstate.danmakuSession.filterFlow = [];\r\n\t\tstate.streamStatus = streamData.status();\r\n\t\tstate.streamEncodec = streamData.encodec();\r\n\t\tstate.streamSession = streamData.session();\r\n\t\tstate.roomProfile = roomData.profileDetail();\r\n\t\tstore.commit(\"stopLiveDurationTimer\");\r\n\t\tstore.commit(\"stopGiftTimer\");\r\n\t\twsevent.wsEmit(\"stop-danmaku\", {}, \"client\");\r\n\t\tsessionStorage.setItem(\"preStep\", \"\");\r\n\t\tif (isElectron()) {\r\n\t\t\tstore.commit(\"getStreamSession\");\r\n\t\t}\r\n\t},\r\n\tstartLiveDurationTimer(state: RootState) {\r\n\t\tstore.commit(\"stopLiveDurationTimer\");\r\n\t\tstate.roomStatus.liveDurationTimer = setInterval(() => {\r\n\t\t\tstate.roomStatus.liveDuration =\r\n\t\t\t\tnew Date().getTime() - Number(state.roomProfile.liveStartTime);\r\n\t\t}, 1000);\r\n\t},\r\n\tstopLiveDurationTimer(state: RootState) {\r\n\t\tclearInterval(state.roomStatus.liveDurationTimer);\r\n\t},\r\n\tstartGiftTimer(state: RootState) {\r\n\t\tstore.commit(\"stopGiftTimer\");\r\n\t\tstate.roomStatus.giftTimer = setInterval(() => {\r\n\t\t\tstore.commit(\"giftCount\");\r\n\t\t}, 10000);\r\n\t},\r\n\tstopGiftTimer(state: RootState) {\r\n\t\tstore.commit(\"giftCount\");\r\n\t\tclearInterval(state.roomStatus.giftTimer);\r\n\t},\r\n\tgiftCount(state: RootState) {\r\n\t\tconst { liveID } = state.roomProfile;\r\n\t\tif (!liveID) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tstatistic.getCurrentStastic({ liveID }).then((res: any) => {\r\n\t\t\tObject.assign(state.roomStatus.statistic, res);\r\n\t\t});\r\n\t},\r\n\tupdateStyle(state: RootState, { styleType, style }: any) {\r\n\t\tif (styleType && style) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tstate.danmakuProfile[styleType].settingOfType = cloneDeep(style);\r\n\t\t}\r\n\t\tsaveConfig(state.danmakuProfile);\r\n\t\tsetTimeout(() => {\r\n\t\t\twsevent.wsEmit(\"update-style\", {}, \"client\");\r\n\t\t}, 500);\r\n\t},\r\n\tupdateSettings(state: RootState, { settingType, setting }: any) {\r\n\t\tif (settingType && setting) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tstate.danmakuProfile[settingType] = cloneDeep(setting);\r\n\t\t}\r\n\t\tstate.temp = temp.tempInfo();\r\n\t\tsaveConfig(state.danmakuProfile);\r\n\t\tsetTimeout(() => {\r\n\t\t\twsevent.wsEmit(\"update-settings\", {}, \"client\");\r\n\t\t}, 1000);\r\n\t},\r\n\tgetManagerList(state: RootState) {\r\n\t\troom.getManagerList().then((res: any) => {\r\n\t\t\tif (res) state.managerList = res;\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t\"update-manager\",\r\n\t\t\t\t{ list: state.managerList },\r\n\t\t\t\t\"client\"\r\n\t\t\t);\r\n\t\t});\r\n\t},\r\n\taddManager(state: RootState, uid: number) {\r\n\t\troom.addManager(uid).then(() => store.commit(\"getManagerList\"));\r\n\t},\r\n\tremoveManager(state: RootState, uid: number) {\r\n\t\troom.removeManager(uid).then(() => store.commit(\"getManagerList\"));\r\n\t},\r\n\tkickOut(state: RootState, uid: number) {\r\n\t\troom.kickOutPerson({\r\n\t\t\tuserID: uid,\r\n\t\t\tliveID: state.roomProfile.liveID\r\n\t\t});\r\n\t},\r\n\taddBlackList(state: RootState, userProfile: any) {\r\n\t\tconst common = state.danmakuProfile.common;\r\n\t\tif (common.blackList.find(i => i.userID === userProfile.userID)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcommon.blackList = [userProfile, ...common.blackList];\r\n\t\tstore.commit(\"kickOut\", userProfile.userID);\r\n\t\tstore.commit(\"updateSettings\", {});\r\n\t},\r\n\tremoveBlackList(state: RootState, userProfile: any) {\r\n\t\tconst common = state.danmakuProfile.common;\r\n\r\n\t\tcommon.blackList = common.blackList.filter(\r\n\t\t\ti => i.userID !== userProfile.userID\r\n\t\t);\r\n\t\tstore.commit(\"updateSettings\", {});\r\n\t},\r\n\taddLikeList(state: RootState, userProfile: any) {\r\n\t\tconst common = state.danmakuProfile.common;\r\n\t\tif (!common.likeList) common.likeList = [];\r\n\t\tif (common.likeList.find(i => i.userID === userProfile.userID)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcommon.likeList = [userProfile, ...common.likeList];\r\n\t\tstore.commit(\"updateSettings\", {});\r\n\t},\r\n\tremoveLikeList(state: RootState, userProfile: any) {\r\n\t\tconst common = state.danmakuProfile.common;\r\n\t\tif (!common.likeList) return;\r\n\t\tcommon.likeList = common.likeList.filter(\r\n\t\t\ti => i.userID !== userProfile.userID\r\n\t\t);\r\n\t\tstore.commit(\"updateSettings\", {});\r\n\t},\r\n\tcheckLikeStreaming(state: RootState) {\r\n\t\tconst tempLike = state.temp.likeList;\r\n\t\tconst likeList = state.danmakuProfile.common.likeList;\r\n\t\tif (!likeList || !likeList.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst requestList: any = [];\r\n\t\tlikeList.forEach((like: any) => {\r\n\t\t\trequestList.push(\r\n\t\t\t\tuser.isStreaming({\r\n\t\t\t\t\tuserID: like.userID\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\t\tPromise.allSettled(requestList).then((res: any) => {\r\n\t\t\tres.forEach((info: any) => {\r\n\t\t\t\tinfo = info.value;\r\n\t\t\t\tif (!info.userID) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst id = info.userID;\r\n\t\t\t\t\tconst nickname = info.nickname;\r\n\t\t\t\t\tconst isLiving = Boolean(info.liveID);\r\n\t\t\t\t\tlet needMention = false;\r\n\t\t\t\t\tif (tempLike[id]) {\r\n\t\t\t\t\t\tneedMention = tempLike[id].isLive !== isLiving;\r\n\t\t\t\t\t\ttempLike[id].isLive = isLiving;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tneedMention = isLiving;\r\n\t\t\t\t\t\ttempLike[id] = {\r\n\t\t\t\t\t\t\t...temp.likeTemp(),\r\n\t\t\t\t\t\t\tisLive: isLiving\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (needMention) {\r\n\t\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\t\tmessage: isLiving\r\n\t\t\t\t\t\t\t\t? `恁关注的${nickname} 开播啦，<a href=\"https://live.acfun.cn/live/${id}\" target='_blank'>点此查看</a>`\r\n\t\t\t\t\t\t\t\t: `${nickname} 下播啦！`,\r\n\t\t\t\t\t\t\tdangerouslyUseHTMLString: true,\r\n\t\t\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\t\t\toffset: 160,\r\n\t\t\t\t\t\t\ttype: \"success\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\taddKeyword(state: RootState, keyword: string) {\r\n\t\tif (!(keyword = keyword.trim())) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst common = state.danmakuProfile.common;\r\n\t\tkeyword =\r\n\t\t\tkeyword.replaceAll(/[!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]/g, \"\") ||\r\n\t\t\tkeyword;\r\n\t\tif (common.keywords.find(key => key === keyword)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcommon.keywords = [keyword, ...common.keywords];\r\n\t\tstore.commit(\"updateSettings\", {});\r\n\t},\r\n\tremoveKeyword(state: RootState, keyword: string) {\r\n\t\tconst common = state.danmakuProfile.common;\r\n\t\tcommon.keywords = common.keywords.filter(i => i !== keyword);\r\n\t\tstore.commit(\"updateSettings\", {});\r\n\t},\r\n\tstopDanmaku(state: RootState) {\r\n\t\tdanmaku.stop(state.userSession);\r\n\t},\r\n\tminify(state: RootState) {\r\n\t\tevent.emit(\"routeChange\", {\r\n\t\t\tname: \"statusPanel\"\r\n\t\t});\r\n\t\tstate.minify = state.minify ? false : store.getters.isStreaming;\r\n\t\tevent.emit(\"minify\", state.minify);\r\n\t}\r\n};\r\n","import { Store } from \"vuex\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nimport { danmaku as danmakuData } from \"@front/datas\";\r\nimport { likeTemp } from \"@front/datas/temp\";\r\nimport { ElMessageBox, ElMessage } from \"element-plus\";\r\nimport {\r\n\tscGiftHandler,\r\n\tscTextHandler\r\n} from \"@front/components/superChat/utils/getter\";\r\nimport {\r\n\tgetUID,\r\n\tgetNickName\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nconst empty = (data: any): number => {\r\n\treturn data;\r\n};\r\n\r\nexport const danmakuText = (e: any, store: Store<any>) => {\r\n\tif (store.getters.superChatEnable) {\r\n\t\tscTextHandler(e, store);\r\n\t}\r\n};\r\n\r\nexport const danmakuLike = empty;\r\nexport const danmakuEnter = (e: any, store: Store<any>) => {\r\n\tif (isElectron()) {\r\n\t\tconst likeList = store.state.danmakuProfile.common.likeList || [];\r\n\t\tconst tempLike = store.state.temp.likeList;\r\n\t\tconst id = getUID(e);\r\n\t\tlet needMetion = false;\r\n\t\tif (likeList.find((i: any) => i.userID === id)) {\r\n\t\t\tconst current = Date.now();\r\n\t\t\tif (tempLike[id]) {\r\n\t\t\t\tif (current - tempLike[id].enterTime > 600000) {\r\n\t\t\t\t\tneedMetion = true;\r\n\t\t\t\t}\r\n\t\t\t\ttempLike[id].enterTime = current;\r\n\t\t\t} else {\r\n\t\t\t\tneedMetion = true;\r\n\t\t\t\ttempLike[id] = {\r\n\t\t\t\t\t...likeTemp(),\r\n\t\t\t\t\tuserID: id,\r\n\t\t\t\t\tenterTime: current\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (needMetion) {\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: `${getNickName(e)}来直播间看你拉！`,\r\n\t\t\t\tduration: 5000,\r\n\t\t\t\toffset: 160,\r\n\t\t\t\ttype: \"success\"\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\nexport const danmakuSubscribe = empty;\r\nexport const danmakuGift = (e: any, store: Store<any>) => {\r\n\tif (store.getters.superChatEnable) {\r\n\t\tscGiftHandler(e, store);\r\n\t}\r\n};\r\nexport const danmakuRichText = empty;\r\nexport const danmakuJoinClub = empty;\r\nexport const signalBanana = (e: any, store: Store<any>) => {\r\n\t// store.state.roomStatus.bananaCount = e.data.bananaCount;\r\n};\r\nexport const signalAudience = (e: any, store: Store<any>) => {\r\n\tstore.state.roomStatus.watchingCount = e.data.watchingCount;\r\n\t// store.state.roomStatus.likeCount = e.data.likeCount;\r\n};\r\nexport const danmakuHistory = (e: any, store: Store<any>) => {\r\n\tconst filteredFlow = store.state.danmakuSession.filterFlow;\r\n\tif (filteredFlow.length && !filteredFlow[0].mock) {\r\n\t\treturn;\r\n\t}\r\n\tconst state = store.state;\r\n\tconst settings: any = isElectron()\r\n\t\t? state.danmakuProfile.toolBox\r\n\t\t: state.danmakuProfile.web;\r\n\tconst commonSettings =\r\n\t\tstate.danmakuProfile.common || danmakuData.commonSettings();\r\n\tconst rank = state.rank;\r\n\tconst { list } = store.state.filter.filterUpdate(\r\n\t\te.data.map((danmaku: any) => {\r\n\t\t\treturn {\r\n\t\t\t\ttype: 1000,\r\n\t\t\t\tdata: danmaku\r\n\t\t\t};\r\n\t\t}),\r\n\t\tstate.danmakuSession.filterFlow,\r\n\t\tsettings,\r\n\t\tcommonSettings,\r\n\t\trank\r\n\t);\r\n\tstore.state.danmakuSession.filterFlow = list;\r\n};\r\n\r\nexport const warning = (e: any) => {\r\n\tif (!isElectron()) {\r\n\t\treturn;\r\n\t}\r\n\tElMessageBox({\r\n\t\tmessage: `恁被C类警告累~${e.data.violationContent}`,\r\n\t\ttype: \"warning\"\r\n\t});\r\n};\r\n\r\nexport const danmakuHandler: any = {\r\n\t1000: danmakuText,\r\n\t1001: danmakuLike,\r\n\t1002: danmakuEnter,\r\n\t1003: danmakuSubscribe,\r\n\t1004: empty,\r\n\t1005: danmakuGift,\r\n\t1006: danmakuRichText,\r\n\t1007: danmakuJoinClub,\r\n\t2000: empty,\r\n\t2001: signalBanana,\r\n\t2002: signalAudience,\r\n\t2003: empty,\r\n\t2004: danmakuHistory,\r\n\t2005: empty,\r\n\t2100: empty,\r\n\t2101: empty,\r\n\t2102: empty,\r\n\t2103: empty,\r\n\t3000: empty,\r\n\t3001: warning,\r\n\t3002: empty\r\n};\r\n","import {\r\n\tserver,\r\n\tuser,\r\n\tstream as streamApi,\r\n\tdanmaku as danmakuApi\r\n} from \"@front/api\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { danmakuHandler } from \"./danmaku/danmaku\";\r\nimport { isElectron } from \"../util_function/electron\";\r\nimport { backendRestart } from \"../util_function/system\";\r\nimport { read } from \"@front/api/robot\";\r\nimport { getUserInfo } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { isOnline } from \"@front/api/server\";\r\nimport {\r\n\tisOwner,\r\n\tisNormalDanmaku\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport { addChangedDanmaku } from \"@front/util_function/storeWorker/index\";\r\nlet streamStatusTimer: any = null;\r\n\r\nlet retry = 0;\r\nexport const actions = {\r\n\tstartServe(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (!isOnline() || store.state.streamStatus.step !== \"online\") {\r\n\t\t\t\tconst timer = setTimeout(() => {\r\n\t\t\t\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\t\t\t\tconst step = store.state.streamStatus.step;\r\n\t\t\t\t\t\tstore.dispatch(\r\n\t\t\t\t\t\t\tstep === \"offline\" ? \"startServe\" : step\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\treject(new Error(\"connection failed\"));\r\n\t\t\t\t}, 10000);\r\n\t\t\t\tserver.init({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t\tif (store.state.streamStatus.step !== \"reconnect\") {\r\n\t\t\t\t\t\t\tstore.state.streamStatus.step = \"online\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\tif (store.state.streamStatus.step !== \"reconnect\") {\r\n\t\t\t\t\t\t\tsessionStorage.setItem(\r\n\t\t\t\t\t\t\t\t\"preStep\",\r\n\t\t\t\t\t\t\t\tstore.state.streamStatus.step\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (store.state.roomProfile.liveID) {\r\n\t\t\t\t\t\t\t\tsessionStorage.setItem(\r\n\t\t\t\t\t\t\t\t\t\"liveID\",\r\n\t\t\t\t\t\t\t\t\tstore.state.roomProfile.liveID\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstore.commit(\"stopLiveDurationTimer\");\r\n\t\t\t\t\t\tstore.commit(\"stopGiftTimer\");\r\n\r\n\t\t\t\t\t\tstore.state.streamStatus.step = \"reconnect\";\r\n\t\t\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tresolve(true);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tonline(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t}, 1000);\r\n\t},\r\n\tlogin(store: any, userData: any) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tuser.login(userData)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tstore.state.userData = userData;\r\n\t\t\t\t\tstore.state.userSession = {\r\n\t\t\t\t\t\t...res.tokenInfo\r\n\t\t\t\t\t\t// userID: 378269\r\n\t\t\t\t\t};\r\n\t\t\t\t\tstore.state.streamStatus.step = \"streamable\";\r\n\t\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\tresolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t});\r\n\t},\r\n\tnostreamable(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tstreamApi\r\n\t\t\t\t.validate()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.liveAuth) {\r\n\t\t\t\t\t\tstore.state.streamStatus.step = \"streamable\";\r\n\t\t\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve(res.liveAuth);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t});\r\n\t\t});\r\n\t},\r\n\tstreamable(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\tconst state = store.state;\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tuser.streamInfo(state.userSession)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (!res) {\r\n\t\t\t\t\t\tthrow new Error(\"no streamInfo\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.profile) {\r\n\t\t\t\t\t\tconst liveID = state.roomProfile.liveID;\r\n\t\t\t\t\t\tObject.assign(state.userProfile, res.profile);\r\n\t\t\t\t\t\tdelete res.profile;\r\n\t\t\t\t\t\tObject.assign(state.roomProfile, res);\r\n\t\t\t\t\t\tif (res.liveID) {\r\n\t\t\t\t\t\t\tstate.streamStatus.step = \"streaming\";\r\n\t\t\t\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (liveID) {\r\n\t\t\t\t\t\t\t\tstate.streamStatus.step = \"streamEnded\";\r\n\t\t\t\t\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthrow new Error(\"no streaming\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\t// console.error(err);\r\n\t\t\t\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t});\r\n\t},\r\n\tstreaming(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\tconst state = store.state;\r\n\t\tconst filter = state.filter;\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (\r\n\t\t\t\tsessionStorage.getItem(\"liveID\") !==\r\n\t\t\t\tString(store.state.roomProfile.liveID)\r\n\t\t\t) {\r\n\t\t\t\tstate.danmakuSession.rawFlow = [];\r\n\t\t\t\tstate.danmakuSession.filterFlow = [];\r\n\t\t\t}\r\n\t\t\tconst danmakuCallback = (danmaku: any) => {\r\n\t\t\t\tif (isNormalDanmaku(danmaku)) {\r\n\t\t\t\t\tconst settings: any = isElectron()\r\n\t\t\t\t\t\t? state.danmakuProfile.toolBox\r\n\t\t\t\t\t\t: state.danmakuProfile.web;\r\n\t\t\t\t\tconst commonSettings =\r\n\t\t\t\t\t\tstate.danmakuProfile.common || danmaku.commonSettings();\r\n\t\t\t\t\tconst rank = state.rank;\r\n\r\n\t\t\t\t\t// auto click\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tstate.danmakuProfile.common.blackList.find(\r\n\t\t\t\t\t\t\t(user: any) =>\r\n\t\t\t\t\t\t\t\tuser.userID === getUserInfo(danmaku).userID\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tstore.commit(\"kickOut\", getUserInfo(danmaku).userID);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst { filtered, list, hasCombined } = filter.filterUpdate(\r\n\t\t\t\t\t\t[danmaku],\r\n\t\t\t\t\t\tstate.danmakuSession.filterFlow,\r\n\t\t\t\t\t\tsettings,\r\n\t\t\t\t\t\tcommonSettings,\r\n\t\t\t\t\t\trank\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (filtered[0]) {\r\n\t\t\t\t\t\t// chicken robot\r\n\t\t\t\t\t\tdo {\r\n\t\t\t\t\t\t\tif (!isElectron()) break;\r\n\t\t\t\t\t\t\tconst enable = settings?.robotSetting?.enable;\r\n\t\t\t\t\t\t\tlet shouldRead = false;\r\n\t\t\t\t\t\t\tif (!enable) break;\r\n\t\t\t\t\t\t\tif (enable === true) {\r\n\t\t\t\t\t\t\t\tshouldRead = true;\r\n\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\tArray.isArray(enable) &&\r\n\t\t\t\t\t\t\t\tenable.includes(danmaku.type)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tshouldRead = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (!shouldRead) break;\r\n\t\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\t\trules,\r\n\t\t\t\t\t\t\t\tignoreOwner\r\n\t\t\t\t\t\t\t} = settings.robotSetting;\r\n\t\t\t\t\t\t\tif (!(ignoreOwner && isOwner(danmaku, state))) {\r\n\t\t\t\t\t\t\t\tread({\r\n\t\t\t\t\t\t\t\t\t...settings.robotSetting,\r\n\t\t\t\t\t\t\t\t\trules: rules[danmaku.type],\r\n\t\t\t\t\t\t\t\t\tdanmaku: filtered[0],\r\n\t\t\t\t\t\t\t\t\tfilters: [state.temp.emojiTester]\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} while (false);\r\n\t\t\t\t\t\tdanmaku = filtered[0];\r\n\t\t\t\t\t} else if (!hasCombined) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstate.danmakuSession.filterFlow = list;\r\n\t\t\t\t\taddChangedDanmaku(danmaku);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst handler = danmakuHandler[String(danmaku.type)];\r\n\t\t\t\tif (handler) {\r\n\t\t\t\t\thandler(danmaku, store);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst startCallback = (res: any) => {\r\n\t\t\t\tif (store.state.roomProfile.liveID) {\r\n\t\t\t\t\tsessionStorage.setItem(\r\n\t\t\t\t\t\t\"liveID\",\r\n\t\t\t\t\t\tstore.state.roomProfile.liveID\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tObject.assign(state.roomProfile, res.StreamInfo);\r\n\t\t\t\t}\r\n\t\t\t\tstore.commit(\"startLiveDurationTimer\");\r\n\t\t\t\tstore.commit(\"startGiftTimer\");\r\n\t\t\t\tstate.streamStatus.step = \"danmakuing\";\r\n\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\tresolve(true);\r\n\t\t\t};\r\n\t\t\tconst endCallback = () => {\r\n\t\t\t\tstate.streamStatus.step = \"streamEnded\";\r\n\t\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t};\r\n\t\t\tconst errorCallback = () => {\r\n\t\t\t\tstore.commit(\"stopLiveDurationTimer\");\r\n\t\t\t\tstore.commit(\"stopGiftTimer\");\r\n\t\t\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\t\t\tstate.streamStatus.step = \"streamable\";\r\n\t\t\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\t\t}, 1000);\r\n\t\t\t};\r\n\t\t\tdanmakuApi.startDanmaku(state.userSession, {\r\n\t\t\t\tstartCallback,\r\n\t\t\t\tdanmakuCallback,\r\n\t\t\t\tendCallback,\r\n\t\t\t\terrorCallback\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\tdanmakuing(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\tstore.commit(\"getRank\");\r\n\t\tif (isElectron()) {\r\n\t\t\tstore.commit(\"getRoomProfile\");\r\n\t\t\tstore.commit(\"checkLikeStreaming\");\r\n\t\t}\r\n\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t}, 10000);\r\n\t},\r\n\tstreamEnded(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\tstore.commit(\"resetStreamStatus\");\r\n\t\tstore.state.streamStatus.step = \"streamable\";\r\n\t\tstore.state.minify = false;\r\n\t\tevent.emit(\"streamStatusChanged\");\r\n\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t},\r\n\tasync reconnect(store: any) {\r\n\t\tclearTimeout(streamStatusTimer);\r\n\t\ttry {\r\n\t\t\tawait store.dispatch(\"startServe\");\r\n\t\t\tconst preStage = sessionStorage.getItem(\"preStep\");\r\n\t\t\tif (preStage !== \"online\") {\r\n\t\t\t\tconst res = await user.login(store.state.userData);\r\n\t\t\t\tif (isElectron()) {\r\n\t\t\t\t\tstore.state.userSession = {\r\n\t\t\t\t\t\t...res.tokenInfo\r\n\t\t\t\t\t\t// userID: 378269\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (preStage === \"danmakuing\" || preStage === \"streaming\") {\r\n\t\t\t\tstore.state.streamStatus.step = \"streamable\";\r\n\t\t\t} else {\r\n\t\t\t\tstore.state.streamStatus.step = preStage;\r\n\t\t\t}\r\n\t\t\tevent.emit(\"streamStatusChanged\");\r\n\t\t\tstore.dispatch(store.state.streamStatus.step);\r\n\t\t\tretry = 0;\r\n\t\t} catch (error) {\r\n\t\t\tretry += 1;\r\n\t\t\tif (isElectron() && retry >= 5) {\r\n\t\t\t\tconsole.log(\"restarted!\");\r\n\r\n\t\t\t\tretry = 0;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait backendRestart();\r\n\t\t\t\t} catch (error) {}\r\n\t\t\t}\r\n\r\n\t\t\tstreamStatusTimer = setTimeout(() => {\r\n\t\t\t\tstore.dispatch(\"reconnect\");\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t},\r\n\topenStream(store: any, streamStartInfo: any) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tstreamApi\r\n\t\t\t\t.start(streamStartInfo)\r\n\t\t\t\t.then(async res => {\r\n\t\t\t\t\tif (res && res.liveID) {\r\n\t\t\t\t\t\tawait store.dispatch(\"streamable\");\r\n\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new Error(\"openStreamError\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t},\r\n\tcloseStream(store: any, liveID: string) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tstreamApi\r\n\t\t\t\t.close(liveID)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tresolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\n","import { Store, StoreOptions } from \"vuex\";\r\nimport { state } from \"./state\";\r\nimport { getters } from \"./getters\";\r\nimport { mutations } from \"./mutations\";\r\nimport { actions } from \"./actions\";\r\nimport { throttle } from \"lodash\";\r\n// import generalState from \"@front/store/general/general\";\r\n\r\n// const proxyState = reactive(state);\r\n\r\nconst store = new Store({\r\n\tstate,\r\n\tgetters,\r\n\tmutations,\r\n\tactions\r\n});\r\n\r\nexport default store;\r\n","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=48928f8e&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"outer\" v-loading=\"loading\" :style=\"{backgroundImage:`url(${settings.backgroundImage})`}\">\r\n\t\t<div class=\"title shadow\">留言列表({{settings.mode?'手动模式':'先到先得模式'}})</div>\r\n\t\t<div class=\"question-list\">\r\n\t\t\t<div class=\"question-row\" :class=\"{active:isActive(question)}\" v-for=\"question in questionList\" :key=\"question.id\">\r\n\t\t\t\t<div class=\"question-group\">\r\n\t\t\t\t\t<title-scrolling :label=\"question.title\" />\r\n\t\t\t\t\t<title-scrolling :label=\"question.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button-group>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" type=\"primary\" @click=\"toTop(question,true)\">切换</el-button>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"detailText = question;detail = true\">详情</el-button>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" type=\"danger\" @click=\"remove(question)\">移除</el-button>\r\n\t\t\t\t</el-button-group>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-input size=\"mini\" v-model=\"owner\" @keydown.enter=\"ownerAddQuestion()\" placeholder=\"主播留言，会强行顶掉现在的留言\" />\r\n\t\t<el-dialog v-model=\"detail\">\r\n\t\t\t{{detailText.nickname}}的留言:&nbsp;{{detailText.title}}\r\n\t\t</el-dialog>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div>留言模式</div>\r\n\t\t\t\t<el-select @change=\"upgradeSettings\" size=\"mini\" v-model=\"settings.mode\">\r\n\t\t\t\t\t<el-option label=\"先到先得\" :value=\"0\" />\r\n\t\t\t\t\t<el-option label=\"手动\" :value=\"1\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"hint\">先到先得：自动展示第一个留言的观众；手动：系统收集观众留言，主播手动切换</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-show=\"settings.mode===0\">\r\n\t\t\t\t<div>冷却时间</div>\r\n\t\t\t\t<el-input-number @change=\"upgradeSettings\" size=\"mini\" v-model=\"settings.cooldown\" :min=\"1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-show=\"settings.mode===0\">\r\n\t\t\t\t<div class=\"hint\">留言持续时间，单位为分钟，时间结束以后观众才可以发出新留言</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-show=\"settings.mode===0\">\r\n\t\t\t\t<div>冷却结束即消失</div>\r\n\t\t\t\t<el-switch @change=\"upgradeSettings\" v-model=\"settings.disappearWhenCool\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-show=\"settings.mode===0\">\r\n\t\t\t\t<div class=\"hint\">如果开启，则冷却时间结束后obs处留言会立即消失，但是列表中该留言仍需手动移除，否则将会维持到下一个留言</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div>留言门槛</div>\r\n\t\t\t\t<el-input-number size=\"mini\" v-model=\"settings.ticket\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"hint\">单位为ac币，即一次性送出大于等于该ac币数量礼物才能留言，为0时是香蕉</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div>屏蔽关键词</div>\r\n\t\t\t\t<el-select style=\"width:50%\" size=\"mini\" v-model=\"settings.blackList\" multiple filterable allow-create>\r\n\t\t\t\t\t<el-option v-for=\"(item,index) in settings.blackList\" :key=\"index\" :label=\"item\" :value=\"item\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>OBS文字缩放</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.zoom\" :min=\"50\" :max=\"300\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">obs文字轮廓大小</span>\r\n\t\t\t\t<el-input-number @change=\"upgradeSettings\" size=\"mini\" :step=\"0.1\" v-model=\"settings.titleOutline\" :min=\"0.1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"url\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"copy(url)\">复制</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"hint\">OBS端高大于120px，宽大于400px</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\thasContent,\r\n\thasGift,\r\n\tisOwner\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport {\r\n\tgetTime,\r\n\tgetContent,\r\n\tgetNickName,\r\n\tgetGiftValue,\r\n\tgetUID,\r\n\tgetAvatar\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nexport default defineComponent({\r\n\tname: \"messageBoard\",\r\n\tcname: \"留言板\",\r\n\ticon: \"self-question\",\r\n\tdescription:\r\n\t\t\"送出香蕉或礼物后，输入“留言@留言内容”进行留言，留言会一直维持到冷却时间结束或被新留言顶掉,可用于话题讨论、问答等环节。与SuperChat不同的是，冷却时间中的留言与礼物均不会被记录，所以谨慎用于礼物答谢\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tsettings: {\r\n\t\t\t\tmode: 0,\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100,\r\n\t\t\t\tcooldown: 5,\r\n\t\t\t\tticket: 0,\r\n\t\t\t\tdisappearWhenCool: false,\r\n\t\t\t\ttitleOutline: 0.8,\r\n\t\t\t\tblackList: []\r\n\t\t\t},\r\n\t\t\tquestionList: [],\r\n\t\t\tcurrentQuestion: {\r\n\t\t\t\tid: \"\",\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tnickname: \"\",\r\n\t\t\t\tavatar: \"\"\r\n\t\t\t},\r\n\t\t\tlastQuestionTime: 0,\r\n\t\t\tgiftSended: new Set(),\r\n\t\t\tblackListRegex: \"\",\r\n\t\t\tsettingShow: false,\r\n\t\t\tdetail: false,\r\n\t\t\tdetailText: \"\",\r\n\t\t\towner: \"\",\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterRole(\"留言\");\r\n\t\tregisterClient(\r\n\t\t\t[\"changedDanmaku\", \"userProfile\", \"userSession\"],\r\n\t\t\t({ changedDanmaku, userProfile, userSession }) => {\r\n\t\t\t\tObject.assign(this.$store.state, { userProfile, userSession });\r\n\t\t\t\tconst output = [];\r\n\t\t\t\tfor (const danmaku of changedDanmaku) {\r\n\t\t\t\t\tconst id = getUID(danmaku);\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\thasGift(danmaku) &&\r\n\t\t\t\t\t\tgetGiftValue(danmaku) / 1000 >= this.settings.ticket\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.giftSended.add(id);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hasContent(danmaku) && this.canBeQuestion(danmaku)) {\r\n\t\t\t\t\t\tif (isOwner(danmaku, this.$store.state)) {\r\n\t\t\t\t\t\t\tthis.owner = getContent(danmaku).replace(\r\n\t\t\t\t\t\t\t\t\"留言@\",\r\n\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tthis.ownerAddQuestion();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!this.giftSended.has(id)) return;\r\n\t\t\t\t\t\tthis.giftSended.delete(id);\r\n\t\t\t\t\t\toutput.push(danmaku);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.addQuestion(output);\r\n\t\t\t}\r\n\t\t);\r\n\t\twsevent.on(\"registered\", () => {\r\n\t\t\tthis.upgradeSettings();\r\n\t\t});\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.registerOBS();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"userProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\ttoTop(question, force = false) {\r\n\t\t\tthis.currentQuestion = question;\r\n\t\t\tthis.upgradeSettings(force);\r\n\t\t},\r\n\t\tremove(question) {\r\n\t\t\tthis.questionList = this.questionList.filter(\r\n\t\t\t\tq => q.id !== question.id\r\n\t\t\t);\r\n\t\t\tif (this.isActive(question)) {\r\n\t\t\t\tthis.currentQuestion = {\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tnickname: \"\",\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tavatar: \"\"\r\n\t\t\t\t};\r\n\t\t\t\tthis.lastQuestionTime = 0;\r\n\t\t\t}\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tisActive(question) {\r\n\t\t\treturn question.id === this.currentQuestion?.id;\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\tcanBeQuestion(danmaku) {\r\n\t\t\tconst content = getContent(danmaku);\r\n\t\t\tlet isQuestion = false;\r\n\t\t\tdo {\r\n\t\t\t\tif (!content) break;\r\n\t\t\t\tif (!this.blackListRegex) this.createBLRegex();\r\n\t\t\t\tif (!content.includes(\"留言@\")) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tconst matches = content.match(this.blackListRegex);\r\n\t\t\t\tif (matches && matches[0]) break;\r\n\t\t\t\tisQuestion = true;\r\n\t\t\t} while (false);\r\n\t\t\treturn isQuestion;\r\n\t\t},\r\n\t\tcreateBLRegex() {\r\n\t\t\tif (!this.settings.blackList.length) return false;\r\n\t\t\tthis.blackListRegex = new RegExp(\r\n\t\t\t\tthis.settings.blackList.join(\"|\"),\r\n\t\t\t\t\"g\"\r\n\t\t\t);\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\townerAddQuestion() {\r\n\t\t\tif (!this.owner) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst time = Date.now();\r\n\t\t\tconst question = {\r\n\t\t\t\ttitle: this.owner,\r\n\t\t\t\tnickname: this.userProfile.nickname,\r\n\t\t\t\tid: time,\r\n\t\t\t\tavatar: this.userProfile.avatar\r\n\t\t\t};\r\n\r\n\t\t\tthis.currentQuestion = question;\r\n\t\t\tswitch (this.settings.mode) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.questionList = [question];\r\n\t\t\t\t\tthis.lastQuestionTime = time;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.questionList.unshift(question);\r\n\t\t\t\t\tthis.lastQuestionTime = 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.owner = \"\";\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\taddQuestion(output) {\r\n\t\t\tif (!output.length) return;\r\n\t\t\tconst time = Date.now();\r\n\t\t\tif (\r\n\t\t\t\ttime - this.lastQuestionTime <\r\n\t\t\t\tthis.settings.cooldown * 1000 * 60\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (this.settings.mode) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.currentQuestion = this.getQuestion(output[0]);\r\n\t\t\t\t\tthis.questionList = [this.currentQuestion];\r\n\t\t\t\t\tthis.lastQuestionTime = time;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\toutput.forEach(danmaku => {\r\n\t\t\t\t\t\tthis.questionList.unshift(this.getQuestion(danmaku));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.lastQuestionTime = 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tgetQuestion(danmaku) {\r\n\t\t\treturn {\r\n\t\t\t\tnickname: getNickName(danmaku),\r\n\t\t\t\tid: getTime(danmaku),\r\n\t\t\t\ttitle: getContent(danmaku).replace(\"留言@\", \"\"),\r\n\t\t\t\tavatar: getAvatar(danmaku)\r\n\t\t\t};\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t`${this.$options.name}-update`,\r\n\t\t\t\t{\r\n\t\t\t\t\tsettings: this.settings,\r\n\t\t\t\t\tlastQuestionTime: this.lastQuestionTime,\r\n\t\t\t\t\tquestion: this.currentQuestion\r\n\t\t\t\t},\r\n\t\t\t\t`obs-${this.$options.name}`\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\t& > * {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n\tbox-sizing: border-box;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n\r\n.question-list {\r\n\theight: calc(100vh - 110px);\r\n\tbox-sizing: border-box;\r\n\t.question-row {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\t.question-group {\r\n\t\t\twidth: calc(100% - 170px);\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\t& > * {\r\n\t\t\t\twidth: 50%;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tcolor: white !important;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&.active {\r\n\t\t\tbackground-color: rgba(102, 167, 218, 0.5);\r\n\t\t}\r\n\t}\r\n\toverflow-y: scroll;\r\n\tpadding-right: 4px;\r\n\t&:hover {\r\n\t\tpadding-right: 0px;\r\n\t}\r\n\t&::-webkit-scrollbar {\r\n\t\t-webkit-appearance: none;\r\n\t\twidth: 4px;\r\n\t\tborder-radius: 5px;\r\n\t\theight: 10px;\r\n\t\ttransition: background-color 1s;\r\n\t\tdisplay: none;\r\n\t}\r\n\t&:hover {\r\n\t\t&::-webkit-scrollbar {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n\r\n\t&::-webkit-scrollbar-thumb {\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t}\r\n\r\n\t&::-webkit-scrollbar-thumb:hover {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t}\r\n\r\n\t&::-webkit-scrollbar-thumb:window-inactive {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=f2494e00&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f2494e00&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-f2494e00\"\n\nexport default script","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\twidth: integerF(\"宽度\", \"25%\"),\r\n\t\t\t\t\theight: integerF(\"高度\", \"25%\"),\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"25%\"),\r\n\t\t\t\t\tzIndex: integerF(\"层级\", \"75%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\"),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0d9d009e&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=02477ddb&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"outer\" v-loading=\"loading\" :style=\"{backgroundImage:`url(${settings.backgroundImage})`}\">\r\n\t\t<div class=\"title shadow\">{{status==='setting'?\"设置投票参数\":`弹幕投票：${title}`}}</div>\r\n\t\t<div class=\"votePanel\" v-show=\"status=='setting'\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">标题</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"title\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-for=\"(item,index) in voteItem\" :key=\"index\">\r\n\t\t\t\t<span class=\"shadow\">选项{{index+1}}</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"item.keyword\" :maxlength=\"4\" placeholder=\"不要输入标点符号,最多4字\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">选择礼物</span>\r\n\t\t\t\t<el-select size=\"mini\" v-model=\"giftName\" max-height=\"100px\">\r\n\t\t\t\t\t<el-option v-for=\"gift in gifts\" :key=\"gift.giftID\" :value=\"gift.giftName\" :label=\"gift.giftName\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">去重默认开启,多次送礼不会重复获得投屏机会</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"url\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"copy(url)\">复制</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" v-if=\"voteItem.length<6\" type=\"primary\" @click=\"addItem\">点击添加（剩余可添加{{5-voteItem.length}}）</el-button>\r\n\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"status='voting'\" :disabled=\"voteItem.length<2||!giftName\">开始投票</el-button>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"votePanel\" v-if=\"['voting','voted'].includes(status)\">\r\n\t\t\t<div class=\"graph\">\r\n\t\t\t\t<div class=\"set\" v-for=\"(item,index) in voteItem\" :key=\"index\" :style=\"{'width':`${100/voteItem.length}%`}\">\r\n\t\t\t\t\t<span class=\"shadow\">{{item.count}}</span>\r\n\t\t\t\t\t<div class=\"column\" :style=\"{'height':`${item.count?item.count*100/max:0}%`}\" @click=\"showIndex=index;voterShow=true\" />\r\n\t\t\t\t\t<span class=\"shadow\">{{item.keyword}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"status='voted'\" v-show=\"status==='voting'\">停止计票</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" v-show=\"status=='voted'\" disabled>点击柱形图查看投票人</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" v-show=\"status=='voted'\" @click=\"reset\">重新投票</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-dialog :title=\"`投${voteItem[showIndex]?voteItem[showIndex].keyword:''}的观众列表`\" v-model=\"voterShow\">\r\n\t\t\t<div class=\"block\" v-for=\"(person,index) in voteItem[showIndex].person\" :key=\"index\">\r\n\t\t\t\t{{person}}\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>背景图片</div>\r\n\t\t\t\t<img-input-static v-model=\"settings.backgroundImage\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>OBS文字缩放</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.zoom\" :min=\"50\" :max=\"300\" />\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\thasContent,\r\n\thasGift\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport {\r\n\tgetTime,\r\n\tgetGiftName,\r\n\tgetContent,\r\n\tgetNickName,\r\n\tgetUID\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { user, room } from \"@front/api\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\n\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nexport default defineComponent({\r\n\tname: \"danmakuGiftVote\",\r\n\tcname: \"弹幕礼物投票\",\r\n\ticon: \"el-icon-price-tag\",\r\n\tdescription:\r\n\t\t\"输入关键词后，根据弹幕关键词进行投票，只有送出指定礼物的观众才能投票\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tsettingShow: false,\r\n\t\t\tvoterShow: false,\r\n\t\t\tstatus: \"setting\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tnorepeat: false,\r\n\t\t\tvoteItem: [],\r\n\t\t\tvoteUserID: new Set(),\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tgiftName: \"\",\r\n\t\t\tgiftSended: new Set(),\r\n\t\t\tgifts: [],\r\n\t\t\tregexp: \"\",\r\n\t\t\tshowIndex: 0,\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100,\r\n\t\t\t\tbackgroundImage: \"\"\r\n\t\t\t},\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient(\r\n\t\t\t[\"changedDanmaku\", \"roomProfile\"],\r\n\t\t\t({ changedDanmaku, roomProfile }) => {\r\n\t\t\t\tObject.assign(this.$store.state, { roomProfile });\r\n\t\t\t\tif (this.status === \"voting\") {\r\n\t\t\t\t\tthis.addVote(\r\n\t\t\t\t\t\tchangedDanmaku.filter(\r\n\t\t\t\t\t\t\tdanmaku => hasContent(danmaku) || hasGift(danmaku)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.registerOBS();\r\n\t\tthis.getGift();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\"]),\r\n\t\tmax() {\r\n\t\t\treturn Math.max(\r\n\t\t\t\t...this.voteItem.map(item => {\r\n\t\t\t\t\treturn item.count;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\treset() {\r\n\t\t\tthis.status = \"setting\";\r\n\t\t\tthis.regexp = \"\";\r\n\t\t\tthis.giftSended = new Set();\r\n\t\t\tthis.voteUserID = new Set();\r\n\t\t\tthis.voteItem.forEach(item => {\r\n\t\t\t\titem.person = [];\r\n\t\t\t\titem.count = 0;\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync getGift() {\r\n\t\t\tlet retry = Boolean(this.roomProfile.liveID);\r\n\t\t\tif (retry) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait user.login({\r\n\t\t\t\t\t\taccount: \"\",\r\n\t\t\t\t\t\tpassword: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst res = await room.getGiftList({\r\n\t\t\t\t\t\tliveID: this.roomProfile.liveID\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.gifts = res;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tretry = false;\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!retry) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getGift();\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twsevent.wsEmit(\r\n\t\t\t\t\t\"voteUpdate\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: this.status,\r\n\t\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\t\tvoteItem: this.voteItem,\r\n\t\t\t\t\t\tbackgroundImage: this.settings.backgroundImage,\r\n\t\t\t\t\t\tgiftName: this.giftName,\r\n\t\t\t\t\t\tmax: this.max,\r\n\r\n\t\t\t\t\t\tzoom: this.settings.zoom\r\n\t\t\t\t\t},\r\n\t\t\t\t\t`obs-${this.$options.name}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst testerArr = this.voteItem.map(item => {\r\n\t\t\t\treturn \"投票@\" + item.keyword;\r\n\t\t\t});\r\n\t\t\ttesterArr.sort((a, b) => b.length - a.length);\r\n\t\t\tthis.regexp = new RegExp(testerArr.join(\"|\"), \"g\");\r\n\t\t},\r\n\t\taddVote(danmakus) {\r\n\t\t\tif (!this.regexp) this.generateTester();\r\n\t\t\tdanmakus.forEach(danmaku => {\r\n\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\tif (hasGift(danmaku)) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tgetGiftName(danmaku) !== this.giftName ||\r\n\t\t\t\t\t\tthis.voteUserID.has(uid)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.giftSended.add(uid);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.giftSended.has(uid)) return;\r\n\t\t\t\tconst content = getContent(danmaku).match(this.regexp);\r\n\t\t\t\tif (!content) return;\r\n\t\t\t\tcontent.sort((a, b) => b.length - a.length);\r\n\r\n\t\t\t\tconst found = this.voteItem.find(\r\n\t\t\t\t\titem => item.keyword === content[0].replace(\"投票@\", \"\")\r\n\t\t\t\t);\r\n\t\t\t\tif (found) {\r\n\t\t\t\t\tfound.count++;\r\n\t\t\t\t\tfound.person.push(getNickName(danmaku));\r\n\t\t\t\t\tthis.voteUserID.add(uid);\r\n\t\t\t\t\tthis.giftSended.delete(uid);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddItem() {\r\n\t\t\tthis.voteItem = [\r\n\t\t\t\t...this.voteItem,\r\n\t\t\t\t{\r\n\t\t\t\t\tkeyword: \"\",\r\n\t\t\t\t\tcount: 0,\r\n\t\t\t\t\tperson: []\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${this.settings.zoom}%`);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=0b308399&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0b308399&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0b308399\"\n\nexport default script","<template>\r\n\t<div class=\"outer\" v-loading=\"loading\" :style=\"{backgroundImage:`url(${settings.backgroundImage})`}\">\r\n\t\t<div class=\"title shadow\">{{status==='setting'?\"设置投票参数\":`弹幕投票：${title}`}}</div>\r\n\t\t<div class=\"votePanel\" v-show=\"status=='setting'\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">标题</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"title\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-for=\"(item,index) in voteItem\" :key=\"index\">\r\n\t\t\t\t<span class=\"shadow\">选项{{index+1}}</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"item.keyword\" :maxlength=\"4\" placeholder=\"不要输入标点符号,最多4字\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">去重</span>\r\n\t\t\t\t<el-switch v-model=\"norepeat\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"url\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"copy(url)\">复制</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" v-if=\"voteItem.length<6\" type=\"primary\" @click=\"addItem\">点击添加（剩余可添加{{5-voteItem.length}}）</el-button>\r\n\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"status='voting'\" :disabled=\"voteItem.length<2\">开始投票</el-button>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"votePanel\" v-if=\"['voting','voted'].includes(status)\">\r\n\t\t\t<div class=\"graph\">\r\n\t\t\t\t<div class=\"set\" v-for=\"(item,index) in voteItem\" :key=\"index\" :style=\"{'width':`${100/voteItem.length}%`}\">\r\n\t\t\t\t\t<span class=\"shadow\">{{item.count}}</span>\r\n\t\t\t\t\t<div class=\"column\" :style=\"{'height':`${item.count?item.count*100/max:0}%`}\" @click=\"showIndex=index;voterShow=true\" />\r\n\t\t\t\t\t<span class=\"shadow\">{{item.keyword}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"status='voted'\" v-show=\"status==='voting'\">停止计票</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" v-show=\"status=='voted'\" disabled>点击柱形图查看投票人</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" v-show=\"status=='voted'\" @click=\"reset\">重新投票</el-button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<el-dialog :title=\"`投${voteItem[showIndex]?voteItem[showIndex].keyword:''}的观众列表`\" v-model=\"voterShow\">\r\n\t\t\t<div class=\"block\" v-for=\"(person,index) in voteItem[showIndex].person\" :key=\"index\">\r\n\t\t\t\t{{person}}\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>背景图片</div>\r\n\t\t\t\t<img-input-static v-model=\"settings.backgroundImage\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>OBS文字缩放</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.zoom\" :min=\"50\" :max=\"300\" />\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport { hasContent } from \"@front/components/danmakuFlow/utils/tester\";\r\nimport {\r\n\tgetTime,\r\n\tgetContent,\r\n\tgetNickName,\r\n\tgetUID\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\n\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nexport default defineComponent({\r\n\tname: \"danmakuVote\",\r\n\tcname: \"弹幕投票\",\r\n\ticon: \"el-icon-s-data\",\r\n\tdescription: \"输入关键词后，观众打出“投票@关键词”进行投票\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tsettingShow: false,\r\n\t\t\tvoterShow: false,\r\n\t\t\tstatus: \"setting\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tnorepeat: false,\r\n\t\t\tvoteItem: [],\r\n\t\t\tvoteUserID: [],\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tregexp: \"\",\r\n\t\t\tshowIndex: 0,\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100,\r\n\t\t\t\tbackgroundImage: \"\"\r\n\t\t\t},\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient([\"changedDanmaku\"], ({ changedDanmaku }) => {\r\n\t\t\tif (this.status === \"voting\") {\r\n\t\t\t\tthis.addVote(\r\n\t\t\t\t\tchangedDanmaku.filter(danmaku => hasContent(danmaku))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.registerOBS();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tcomputed: {\r\n\t\tmax() {\r\n\t\t\treturn Math.max(\r\n\t\t\t\t...this.voteItem.map(item => {\r\n\t\t\t\t\treturn item.count;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\treset() {\r\n\t\t\tthis.status = \"setting\";\r\n\t\t\tthis.regexp = \"\";\r\n\t\t\tthis.giftSended = new Set();\r\n\t\t\tthis.voteUserID = new Set();\r\n\t\t\tthis.voteItem.forEach(item => {\r\n\t\t\t\titem.person = [];\r\n\t\t\t\titem.count = 0;\r\n\t\t\t});\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twsevent.wsEmit(\r\n\t\t\t\t\t\"voteUpdate\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: this.status,\r\n\t\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\t\tvoteItem: this.voteItem,\r\n\t\t\t\t\t\tbackgroundImage: this.settings.backgroundImage,\r\n\t\t\t\t\t\tmax: this.max,\r\n\t\t\t\t\t\tzoom: this.settings.zoom\r\n\t\t\t\t\t},\r\n\t\t\t\t\t`obs-${this.$options.name}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst testerArr = this.voteItem.map(item => {\r\n\t\t\t\treturn \"投票@\" + item.keyword;\r\n\t\t\t});\r\n\t\t\ttesterArr.sort((a, b) => b.length - a.length);\r\n\t\t\tthis.regexp = new RegExp(testerArr.join(\"|\"), \"g\");\r\n\t\t},\r\n\t\taddVote(danmakus) {\r\n\t\t\tif (!this.regexp) this.generateTester();\r\n\t\t\tdanmakus.forEach(danmaku => {\r\n\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\tif (this.norepeat && this.voteUserID.includes(uid)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst content = getContent(danmaku).match(this.regexp);\r\n\t\t\t\tif (!content) return;\r\n\t\t\t\tcontent.sort((a, b) => b.length - a.length);\r\n\r\n\t\t\t\tconst found = this.voteItem.find(\r\n\t\t\t\t\titem => item.keyword === content[0].replace(\"投票@\", \"\")\r\n\t\t\t\t);\r\n\t\t\t\tif (found) {\r\n\t\t\t\t\tfound.count++;\r\n\t\t\t\t\tfound.person.push(getNickName(danmaku));\r\n\t\t\t\t\tthis.voteUserID.push(uid);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddItem() {\r\n\t\t\tthis.voteItem = [\r\n\t\t\t\t...this.voteItem,\r\n\t\t\t\t{\r\n\t\t\t\t\tkeyword: \"\",\r\n\t\t\t\t\tcount: 0,\r\n\t\t\t\t\tperson: []\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${this.settings.zoom}%`);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=684ca727&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=684ca727&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-684ca727\"\n\nexport default script","<template>\r\n\t<div class=\"hero\">\r\n\t\t<div class=\"title\">{{common.title}}</div>\r\n\t\t<div class=\"subtitle\">{{common.subTitle}}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { common } from \"@front/texts\";\r\nexport default defineComponent({\r\n\tname: \"heroBase\",\r\n\tcomputed: { common }\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n\r\n@font-face {\r\n\tfont-family: \"包图小白体\";\r\n\tsrc: url(\"/fonts/包图小白体.ttf\") format(\"truetype\");\r\n}\r\n\r\n.hero {\r\n\tfont-family: Roboto;\r\n\tcolor: white;\r\n\tuser-select: none;\r\n\tposition: relative;\r\n\tfont-weight: 700;\r\n\t.title {\r\n\t\tfont-size: 90px;\r\n\t\tletter-spacing: 8px;\r\n\t\tpadding: 0px $--font-size-logo;\r\n\t\tfont-family: 包图小白体;\r\n\t\tline-height: 100px;\r\n\t}\r\n\t.subtitle {\r\n\t\tfont-family: 包图小白体;\r\n\t\ttext-align: right;\r\n\t\tfont-size: 65px;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { common } from \"@front/texts\";\r\nexport default defineComponent({\r\n\tname: \"heroBase\",\r\n\tcomputed: { common }\r\n});\r\n","import { render } from \"./base.vue?vue&type=template&id=40465ea6&scoped=true\"\nimport script from \"./base.vue?vue&type=script&lang=ts\"\nexport * from \"./base.vue?vue&type=script&lang=ts\"\n\nimport \"./base.vue?vue&type=style&index=0&id=40465ea6&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-40465ea6\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./obs.vue?vue&type=style&index=0&id=2d9ae9c8&scoped=true&lang=scss\"","var map = {\n\t\"./\": \"972c\",\n\t\"./avatar\": \"4f4e\",\n\t\"./avatar/\": \"4f4e\",\n\t\"./avatar/default\": \"2be7\",\n\t\"./avatar/default.ts\": \"2be7\",\n\t\"./avatar/form\": \"1374\",\n\t\"./avatar/form.ts\": \"1374\",\n\t\"./avatar/index\": \"4f4e\",\n\t\"./avatar/index.vue\": \"4f4e\",\n\t\"./content\": \"6188\",\n\t\"./content/\": \"6188\",\n\t\"./content/default\": \"69c6\",\n\t\"./content/default.ts\": \"69c6\",\n\t\"./content/form\": \"cca2\",\n\t\"./content/form.ts\": \"cca2\",\n\t\"./content/index\": \"6188\",\n\t\"./content/index.vue\": \"6188\",\n\t\"./giftBlock\": \"afd7\",\n\t\"./giftBlock/\": \"afd7\",\n\t\"./giftBlock/default\": \"52da\",\n\t\"./giftBlock/default.ts\": \"52da\",\n\t\"./giftBlock/form\": \"af97\",\n\t\"./giftBlock/form.ts\": \"af97\",\n\t\"./giftBlock/index\": \"afd7\",\n\t\"./giftBlock/index.vue\": \"afd7\",\n\t\"./index\": \"972c\",\n\t\"./index.ts\": \"972c\",\n\t\"./mainBlock\": \"fb18\",\n\t\"./mainBlock/\": \"fb18\",\n\t\"./mainBlock/default\": \"0a99\",\n\t\"./mainBlock/default.ts\": \"0a99\",\n\t\"./mainBlock/form\": \"9b1e\",\n\t\"./mainBlock/form.ts\": \"9b1e\",\n\t\"./mainBlock/index\": \"fb18\",\n\t\"./mainBlock/index.vue\": \"fb18\",\n\t\"./medal\": \"35f2\",\n\t\"./medal/\": \"35f2\",\n\t\"./medal/default\": \"094c\",\n\t\"./medal/default.ts\": \"094c\",\n\t\"./medal/form\": \"729b\",\n\t\"./medal/form.ts\": \"729b\",\n\t\"./medal/index\": \"35f2\",\n\t\"./medal/index.vue\": \"35f2\",\n\t\"./medalDegree\": \"2433\",\n\t\"./medalDegree/\": \"2433\",\n\t\"./medalDegree/default\": \"3a6b\",\n\t\"./medalDegree/default.ts\": \"3a6b\",\n\t\"./medalDegree/form\": \"8484\",\n\t\"./medalDegree/form.ts\": \"8484\",\n\t\"./medalDegree/index\": \"2433\",\n\t\"./medalDegree/index.vue\": \"2433\",\n\t\"./nickName\": \"9eb0\",\n\t\"./nickName/\": \"9eb0\",\n\t\"./nickName/default\": \"e1c8\",\n\t\"./nickName/default.ts\": \"e1c8\",\n\t\"./nickName/form\": \"8e30\",\n\t\"./nickName/form.ts\": \"8e30\",\n\t\"./nickName/index\": \"9eb0\",\n\t\"./nickName/index.vue\": \"9eb0\",\n\t\"./normalBlock\": \"5714\",\n\t\"./normalBlock/\": \"5714\",\n\t\"./normalBlock/default\": \"e54c\",\n\t\"./normalBlock/default.ts\": \"e54c\",\n\t\"./normalBlock/form\": \"63de\",\n\t\"./normalBlock/form.ts\": \"63de\",\n\t\"./normalBlock/index\": \"5714\",\n\t\"./normalBlock/index.vue\": \"5714\",\n\t\"./richText\": \"526f\",\n\t\"./richText/\": \"526f\",\n\t\"./richText/default\": \"abe5\",\n\t\"./richText/default.ts\": \"abe5\",\n\t\"./richText/form\": \"a968\",\n\t\"./richText/form.ts\": \"a968\",\n\t\"./richText/index\": \"526f\",\n\t\"./richText/index.vue\": \"526f\",\n\t\"./role\": \"2bba\",\n\t\"./role/\": \"2bba\",\n\t\"./role/default\": \"8578\",\n\t\"./role/default.ts\": \"8578\",\n\t\"./role/form\": \"7e82\",\n\t\"./role/form.ts\": \"7e82\",\n\t\"./role/index\": \"2bba\",\n\t\"./role/index.vue\": \"2bba\",\n\t\"./timestamp\": \"b2c8\",\n\t\"./timestamp/\": \"b2c8\",\n\t\"./timestamp/default\": \"426d\",\n\t\"./timestamp/default.ts\": \"426d\",\n\t\"./timestamp/form\": \"8b15\",\n\t\"./timestamp/form.ts\": \"8b15\",\n\t\"./timestamp/index\": \"b2c8\",\n\t\"./timestamp/index.vue\": \"b2c8\"\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"1999\";\nmodule.exports = webpackAsyncContext;","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=299db1ae&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"outer\" :style=\"{backgroundImage:`url(${backgroundImage})`,zoom:`${zoom}%`}\">\r\n\t\t<div class=\"title shadow\" v-if=\"status!='setting'\">{{`弹幕投票：${title}`}}<span v-if=\"status=='voted'\">(投票已结束)</span></div>\r\n\t\t<div class=\"votePanel\" v-if=\"status=='setting'\">\r\n\t\t\t<div class=\"title shadow\">投票未开始</div>\r\n\t\t</div>\r\n\t\t<div class=\"graph\" v-if=\"['voting','voted'].includes(status)\">\r\n\t\t\t<div class=\"set\" v-for=\"(item,index) in voteItem\" :key=\"index\" :style=\"{'width':`${100/voteItem.length}%`}\">\r\n\t\t\t\t<span class=\"shadow\">{{item.count}}</span>\r\n\t\t\t\t<div class=\"column\" :style=\"{'height':`${item.count?item.count*100/max:0}%`}\" @click=\"showIndex=index;voterShow=true\" />\r\n\t\t\t\t<span class=\"shadow\">{{item.keyword}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"shadow\" style=\"text-align:center;padding:0px;8px\" v-if=\"status=='voting'\">打出“投票@选项”参与投票</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nexport default defineComponent({\r\n\tname: \"danmakuVote\",\r\n\tcname: \"弹幕投票\",\r\n\ticon: \"el-icon-s-data\",\r\n\tdescription: \"输入关键词后，根据弹幕关键词进行投屏\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: true\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatus: \"setting\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tvoteItem: [],\r\n\t\t\tbackgroundImage: \"\",\r\n\t\t\tmax: 1,\r\n\t\t\tzoom: 100,\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.registerOBS();\r\n\t\twsevent.on(\"voteUpdate\", e => {\r\n\t\t\tthis.status = e.status;\r\n\t\t\tthis.title = e.title;\r\n\t\t\tthis.voteItem = e.voteItem;\r\n\t\t\tthis.backgroundImage = e.backgroundImage;\r\n\t\t\tthis.max = e.max || 1;\r\n\t\t\tthis.zoom = e.zoom;\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tmethods: {\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`obs-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tbox-sizing: border-box;\r\n\tpadding-top: 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\tdisplay: flex;\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./obs.vue?vue&type=template&id=3f6aa9ca&scoped=true\"\nimport script from \"./obs.vue?vue&type=script&lang=js\"\nexport * from \"./obs.vue?vue&type=script&lang=js\"\n\nimport \"./obs.vue?vue&type=style&index=0&id=3f6aa9ca&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3f6aa9ca\"\n\nexport default script","export const size = (style: any): any => {\r\n\tconst output = {};\r\n\tconst sizes = [\"width\", \"height\"];\r\n\tsizes.forEach((size: string) => {\r\n\t\tif (style[size] > 0) {\r\n\t\t\t// @ts-ignore\r\n\t\t\toutput[size] = `${style[size]}px`;\r\n\t\t}\r\n\t\tif (style[size] < 0) {\r\n\t\t\t// @ts-ignore\r\n\t\t\toutput[size] = `${-style[size]}%`;\r\n\t\t}\r\n\t});\r\n\treturn output;\r\n};\r\nexport const padding = (style: any): any => {\r\n\tconst result: any = {};\r\n\tconst attrs = [\r\n\t\t\"paddingTop\",\r\n\t\t\"paddingRight\",\r\n\t\t\"paddingBottom\",\r\n\t\t\"paddingLeft\"\r\n\t];\r\n\tattrs.forEach((attr: any) => {\r\n\t\tif (style[attr]) {\r\n\t\t\tresult[attr] =\r\n\t\t\t\tstyle[attr] > 0 ? `${style[attr]}px` : `${-style[attr]}%`;\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n};\r\nexport const margin = (style: any): any => {\r\n\tconst result: any = {};\r\n\tconst attrs = [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"];\r\n\tattrs.forEach((attr: any) => {\r\n\t\tif (style[attr]) {\r\n\t\t\tresult[attr] = `${style[attr]}px`;\r\n\t\t}\r\n\t});\r\n\treturn result;\r\n};\r\nexport const border = (style: any): any => {\r\n\treturn {\r\n\t\tborder: `${style.borderWidth}px solid ${style.borderColor}`\r\n\t};\r\n};\r\nexport const outerBox = (style: any): any => {\r\n\tconst result: any = {\r\n\t\toverflow: style.overflow,\r\n\t\tborderRadius: `${style.borderRadius}px`,\r\n\t\tverticalAlign: style.verticalAlign,\r\n\t\tbackground: style.backgroundColor,\r\n\t\tbackgroundSize: \"100% 100%\"\r\n\t};\r\n\tif (style.backgroundImage) {\r\n\t\tresult.background = `url(${style.backgroundImage})`;\r\n\t}\r\n\treturn result;\r\n};\r\nexport const degreeColor = (colors: any, degree: number): any => {\r\n\tif (!Array.isArray(colors) || !colors.length) {\r\n\t\treturn \"\";\r\n\t}\r\n\tif (colors.length === 1 || !colors.find((i: any) => degree >= i.level)) {\r\n\t\treturn colors[0].color;\r\n\t} else {\r\n\t\treturn [...colors]\r\n\t\t\t.sort((a: any, b: any) => {\r\n\t\t\t\treturn b.level - a.level;\r\n\t\t\t})\r\n\t\t\t.find((i: any) => degree >= i.level).color;\r\n\t}\r\n};\r\nexport const position = (style: any): any => {\r\n\tconst output = {\r\n\t\tposition: style.position,\r\n\t\tzIndex: style.zIndex\r\n\t};\r\n\tconst positions = [\"left\", \"top\", \"right\", \"bottom\"];\r\n\tpositions.forEach((position: string) => {\r\n\t\tif (style[position] >= 0) {\r\n\t\t\t// @ts-ignore\r\n\t\t\toutput[position] = `${style[position]}px`;\r\n\t\t}\r\n\t});\r\n\treturn output;\r\n};\r\nexport const font = (style: any): any => {\r\n\tconst result: any = {\r\n\t\tfontSize: `${style.fontSize}px`,\r\n\t\tfontWeight: style.fontWeight,\r\n\t\tcolor: style.color,\r\n\t\ttextShadow: `-${style.textShadowWidth}px -${style.textShadowWidth}px 0 ${style.textShadowColor}, 0 -${style.textShadowWidth}px 0 ${style.textShadowColor}, ${style.textShadowWidth}px -${style.textShadowWidth}px 0 ${style.textShadowColor}, ${style.textShadowWidth}px 0 0 ${style.textShadowColor},\r\n\t\t${style.textShadowWidth}px ${style.textShadowWidth}px 0 ${style.textShadowColor}, 0 ${style.textShadowWidth}px 0 ${style.textShadowColor}, -${style.textShadowWidth}px ${style.textShadowWidth}px 0 ${style.textShadowColor}, -${style.textShadowWidth}px 0 0 ${style.textShadowColor}`,\r\n\t\tfontStyle: style.fontStyle,\r\n\t\ttextDecoration: style.textDecoration\r\n\t};\r\n\tif (style.font) {\r\n\t\tlet fontName = style.font.match(/[^/]*(?=.ttf)/g);\r\n\t\tif (fontName) {\r\n\t\t\tfontName = fontName[0];\r\n\t\t\tif (!document.querySelector(`style#${fontName}`)) {\r\n\t\t\t\tconst head = document.head;\r\n\t\t\t\tconst styleEle = document.createElement(\"style\");\r\n\t\t\t\tstyleEle.id = fontName;\r\n\t\t\t\tstyleEle.type = \"text/css\";\r\n\t\t\t\tstyleEle.appendChild(\r\n\t\t\t\t\tdocument.createTextNode(`\r\n\t\t\t\t@font-face { \r\n\t\t\t\t\tfont-family: \"${fontName}\"; \r\n\t\t\t\t\tsrc: url(${style.font}) format('truetype'); \r\n\t\t\t\t} \r\n\t\t\t`)\r\n\t\t\t\t);\r\n\t\t\t\thead.appendChild(styleEle);\r\n\t\t\t}\r\n\t\t\tresult.fontFamily = fontName;\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n\r\nexport const transform = (style: any): any => {\r\n\treturn {\r\n\t\ttransform: `rotateZ(${style.rotateZ}deg)`\r\n\t};\r\n};\r\n","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./titleScrolling.vue?vue&type=style&index=0&id=a983cbaa&scoped=true&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarBase\":\"scrollbarBase\",\"scrollbarDark\":\"scrollbarDark\"};","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1cbd7768&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"outer\" v-loading=\"loading\" :style=\"{backgroundImage:`url(${settings.backgroundImage})`}\">\r\n\t\t<div class=\"votePanel\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">测试图片接口</span>\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"getImage()\">测试</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">需要礼物</span>\r\n\t\t\t\t<el-switch @change=\"saveSettings\" v-model=\"settings.needGift\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.needGift\">\r\n\t\t\t\t<span class=\"shadow\">礼物最小值</span>\r\n\t\t\t\t<el-input-number @change=\"saveSettings\" size=\"mini\" v-model=\"settings.triggerValue\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"url\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"copy(url)\">复制</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\thasContent,\r\n\thasGift,\r\n\tisOwner\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport {\r\n\tgetTime,\r\n\tgetContent,\r\n\tgetGiftValue,\r\n\tgetUID\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\n\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nexport default defineComponent({\r\n\tname: \"randomImage\",\r\n\tcname: \"随机风景图片\",\r\n\ticon: \"el-icon-picture-outline\",\r\n\tdescription: \"投蕉/投礼物并弹幕发送“@换壁纸@”更换图片,\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 150,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\ttriggerValue: 0,\r\n\t\t\t\tneedGift: false,\r\n\t\t\t\tbackgroundImage: \"\"\r\n\t\t\t},\r\n\t\t\tgiftSended: new Set(),\r\n\t\t\timageApi:\r\n\t\t\t\t\"http://api.btstu.cn/sjbz/api.php?lx=fengjing&format=images\",\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient(\r\n\t\t\t[\"changedDanmaku\", \"userSession\"],\r\n\t\t\t({ changedDanmaku, userSession }) => {\r\n\t\t\t\tObject.assign(this.$store.state, { userSession });\r\n\t\t\t\tfor (const danmaku of changedDanmaku) {\r\n\t\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.settings.needGift &&\r\n\t\t\t\t\t\thasGift(danmaku) &&\r\n\t\t\t\t\t\tgetGiftValue(danmaku) >= this.settings.triggerValue\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.giftSended.add(uid);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hasContent(danmaku)) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t!isOwner(danmaku, this.$store.state) &&\r\n\t\t\t\t\t\t\tthis.settings.needGift &&\r\n\t\t\t\t\t\t\t!this.giftSended.has(uid)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst content = getContent(danmaku);\r\n\t\t\t\t\t\tif (!content || !content.includes(\"@换壁纸@\")) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.giftSended.delete(uid);\r\n\t\t\t\t\t\tthis.getImage();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.registerOBS();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\tgetImage() {\r\n\t\t\tif (!this.imageApi) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfetch(this.imageApi).then(res => {\r\n\t\t\t\tthis.settings.backgroundImage = res.url;\r\n\t\t\t});\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twsevent.wsEmit(\r\n\t\t\t\t\t\"voteUpdate\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbackgroundImage: this.settings.backgroundImage\r\n\t\t\t\t\t},\r\n\t\t\t\t\t`obs-${this.$options.name}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tthis.saveSettings();\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\tmargin-top: 16px;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=4374ac4a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4374ac4a&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-4374ac4a\"\n\nexport default script","<template>\r\n\t<div class=\"medal\" v-show=\"getMedal(danmaku).clubName\" :style=\"style\">\r\n\t\t<div class=\"level\" :style=\"degreeStyle\" v-show=\"setting?.config?.degree\">{{level}}</div>\r\n\t\t<div class=\"name\" :style=\"nameStyle\" v-show=\"setting?.config?.name\">{{getMedal(danmaku).clubName}}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getMedal } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform,\r\n\tdegreeColor\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"medalDegree\",\r\n\tcname: \"牌子(等级颜色)\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tlevel(): any {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn this.setting?.config?.preview;\r\n\t\t\t}\r\n\t\t\treturn getMedal(this.danmaku).level;\r\n\t\t},\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst color = degreeColor(this.setting?.config?.color, this.level);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\t...this.getSpecificColor(style, color)\r\n\t\t\t};\r\n\t\t},\r\n\t\tdegreeStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.degreeStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst color = degreeColor(this.setting?.config?.color, this.level);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\t...this.getSpecificColor(style, color)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnameStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.nameStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst color = degreeColor(this.setting?.config?.color, this.level);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\t...this.getSpecificColor(style, color)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetMedal,\r\n\t\tgetSpecificColor(style: any, color: string) {\r\n\t\t\tif (!color) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst result: any = {};\r\n\t\t\tif (!style.specificColor) {\r\n\t\t\t\tresult.color = color;\r\n\t\t\t}\r\n\t\t\tif (!style.specificBackgroundColor) {\r\n\t\t\t\tresult.backgroundColor = color;\r\n\t\t\t}\r\n\t\t\tif (!style.specificBorderColor) {\r\n\t\t\t\tresult.borderColor = color;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.medal {\r\n\tdisplay: inline-flex;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\talign-items: center;\r\n\t& > div {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t}\r\n\t// .level {\r\n\t// }\r\n\t// .name {\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getMedal } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform,\r\n\tdegreeColor\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"medalDegree\",\r\n\tcname: \"牌子(等级颜色)\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tlevel(): any {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn this.setting?.config?.preview;\r\n\t\t\t}\r\n\t\t\treturn getMedal(this.danmaku).level;\r\n\t\t},\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst color = degreeColor(this.setting?.config?.color, this.level);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\t...this.getSpecificColor(style, color)\r\n\t\t\t};\r\n\t\t},\r\n\t\tdegreeStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.degreeStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst color = degreeColor(this.setting?.config?.color, this.level);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\t...this.getSpecificColor(style, color)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnameStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.nameStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst color = degreeColor(this.setting?.config?.color, this.level);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\t...this.getSpecificColor(style, color)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetMedal,\r\n\t\tgetSpecificColor(style: any, color: string) {\r\n\t\t\tif (!color) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst result: any = {};\r\n\t\t\tif (!style.specificColor) {\r\n\t\t\t\tresult.color = color;\r\n\t\t\t}\r\n\t\t\tif (!style.specificBackgroundColor) {\r\n\t\t\t\tresult.backgroundColor = color;\r\n\t\t\t}\r\n\t\t\tif (!style.specificBorderColor) {\r\n\t\t\t\tresult.borderColor = color;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=7c039771&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7c039771&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7c039771\"\n\nexport default script","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=57aca212&scoped=true&lang=scss\"","var map = {\n\t\"./avatar/index.vue\": \"4f4e\",\n\t\"./content/index.vue\": \"6188\",\n\t\"./giftBlock/index.vue\": \"afd7\",\n\t\"./mainBlock/index.vue\": \"fb18\",\n\t\"./medal/index.vue\": \"35f2\",\n\t\"./medalDegree/index.vue\": \"2433\",\n\t\"./nickName/index.vue\": \"9eb0\",\n\t\"./normalBlock/index.vue\": \"5714\",\n\t\"./richText/index.vue\": \"526f\",\n\t\"./role/index.vue\": \"2bba\",\n\t\"./timestamp/index.vue\": \"b2c8\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"2554\";","var map = {\n\t\"./\": \"f09c\",\n\t\"./danmakuFlow\": \"4370\",\n\t\"./danmakuFlow/\": \"4370\",\n\t\"./danmakuFlow/index\": \"4370\",\n\t\"./danmakuFlow/index.vue\": \"4370\",\n\t\"./danmakuSong\": \"be60\",\n\t\"./danmakuSong/\": \"be60\",\n\t\"./danmakuSong/index\": \"be60\",\n\t\"./danmakuSong/index.vue\": \"be60\",\n\t\"./danmakuSongPicker\": \"3afc\",\n\t\"./danmakuSongPicker/\": \"3afc\",\n\t\"./danmakuSongPicker/index\": \"3afc\",\n\t\"./danmakuSongPicker/index.vue\": \"3afc\",\n\t\"./danmakuSongPicker/obs\": \"c42e\",\n\t\"./danmakuSongPicker/obs.vue\": \"c42e\",\n\t\"./giftVote\": \"15bf\",\n\t\"./giftVote/\": \"15bf\",\n\t\"./giftVote/index\": \"15bf\",\n\t\"./giftVote/index.vue\": \"15bf\",\n\t\"./giftVote/obs\": \"6cdf\",\n\t\"./giftVote/obs.vue\": \"6cdf\",\n\t\"./index\": \"f09c\",\n\t\"./index.ts\": \"f09c\",\n\t\"./lottery\": \"0725\",\n\t\"./lottery/\": \"0725\",\n\t\"./lottery/index\": \"0725\",\n\t\"./lottery/index.vue\": \"0725\",\n\t\"./messageBoard\": \"12b1\",\n\t\"./messageBoard/\": \"12b1\",\n\t\"./messageBoard/index\": \"12b1\",\n\t\"./messageBoard/index.vue\": \"12b1\",\n\t\"./messageBoard/obs\": \"ad01\",\n\t\"./messageBoard/obs.vue\": \"ad01\",\n\t\"./randomImage\": \"204a\",\n\t\"./randomImage/\": \"204a\",\n\t\"./randomImage/index\": \"204a\",\n\t\"./randomImage/index.vue\": \"204a\",\n\t\"./randomImage/obs\": \"ad55\",\n\t\"./randomImage/obs.vue\": \"ad55\",\n\t\"./randomVideo\": \"3024\",\n\t\"./randomVideo/\": \"3024\",\n\t\"./randomVideo/index\": \"3024\",\n\t\"./randomVideo/index.vue\": \"3024\",\n\t\"./randomVideo/obs\": \"d707\",\n\t\"./randomVideo/obs.vue\": \"d707\",\n\t\"./robot\": \"0c51\",\n\t\"./robot/\": \"0c51\",\n\t\"./robot/index\": \"0c51\",\n\t\"./robot/index.vue\": \"0c51\",\n\t\"./vote\": \"171f\",\n\t\"./vote/\": \"171f\",\n\t\"./vote/index\": \"171f\",\n\t\"./vote/index.vue\": \"171f\",\n\t\"./vote/obs\": \"1a74\",\n\t\"./vote/obs.vue\": \"1a74\"\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"27e0\";\nmodule.exports = webpackAsyncContext;","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HandlerMoving.vue?vue&type=style&index=0&id=0c17ee82&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"role\" :style=\"display.style\">{{display.text}} </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport { isManager, isOwner } from \"../../utils/tester\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"role\",\r\n\tcname: \"身份\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdisplay(): any {\r\n\t\t\tlet style: any = \"\";\r\n\t\t\tlet text = \"\";\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tstyle = this.setting[this.setting.config.preview + \"Style\"];\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\ttext = this.setting.config[\r\n\t\t\t\t\tthis.setting.config.preview + \"Title\"\r\n\t\t\t\t];\r\n\t\t\t} else if (\r\n\t\t\t\tthis.setting.config.owner &&\r\n\t\t\t\tisOwner(this.danmaku, this.$store.state)\r\n\t\t\t) {\r\n\t\t\t\tstyle = this.setting.ownerStyle;\r\n\t\t\t\ttext = this.setting.config.ownerTitle;\r\n\t\t\t} else if (\r\n\t\t\t\tthis.setting.config.manager &&\r\n\t\t\t\tisManager(this.danmaku, this.$store.state)\r\n\t\t\t) {\r\n\t\t\t\tstyle = this.setting.managerStyle;\r\n\t\t\t\ttext = this.setting.config.managerTitle;\r\n\t\t\t}\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tdisplay: \"none\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttext: \"\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\t...font(style),\r\n\t\t\t\t\t...padding(style),\r\n\t\t\t\t\t...margin(style),\r\n\t\t\t\t\t...border(style),\r\n\t\t\t\t\t...outerBox(style),\r\n\t\t\t\t\t...position(style),\r\n\t\t\t\t\t...transform(style)\r\n\t\t\t\t},\r\n\t\t\t\ttext\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.role {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport { isManager, isOwner } from \"../../utils/tester\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"role\",\r\n\tcname: \"身份\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdisplay(): any {\r\n\t\t\tlet style: any = \"\";\r\n\t\t\tlet text = \"\";\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tstyle = this.setting[this.setting.config.preview + \"Style\"];\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\ttext = this.setting.config[\r\n\t\t\t\t\tthis.setting.config.preview + \"Title\"\r\n\t\t\t\t];\r\n\t\t\t} else if (\r\n\t\t\t\tthis.setting.config.owner &&\r\n\t\t\t\tisOwner(this.danmaku, this.$store.state)\r\n\t\t\t) {\r\n\t\t\t\tstyle = this.setting.ownerStyle;\r\n\t\t\t\ttext = this.setting.config.ownerTitle;\r\n\t\t\t} else if (\r\n\t\t\t\tthis.setting.config.manager &&\r\n\t\t\t\tisManager(this.danmaku, this.$store.state)\r\n\t\t\t) {\r\n\t\t\t\tstyle = this.setting.managerStyle;\r\n\t\t\t\ttext = this.setting.config.managerTitle;\r\n\t\t\t}\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tdisplay: \"none\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttext: \"\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\t...font(style),\r\n\t\t\t\t\t...padding(style),\r\n\t\t\t\t\t...margin(style),\r\n\t\t\t\t\t...border(style),\r\n\t\t\t\t\t...outerBox(style),\r\n\t\t\t\t\t...position(style),\r\n\t\t\t\t\t...transform(style)\r\n\t\t\t\t},\r\n\t\t\t\ttext\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=57aca212&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=57aca212&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-57aca212\"\n\nexport default script","export default () => {\r\n\treturn {\r\n\t\tconfig: {},\r\n\t\tstyle: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\twidth: 25,\r\n\t\t\theight: 25,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tborderRadius: 25,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\",\r\n\t\t\tverticalAlign: \"middle\"\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./titleFrame.vue?vue&type=style&index=0&id=6318c346&scoped=true&lang=scss\"","var map = {\n\t\"./footers/footerBase.vue\": \"e08b\",\n\t\"./frames/contentFrame.vue\": \"7c96\",\n\t\"./frames/rowFrame.vue\": \"a2b5\",\n\t\"./frames/rowSpan.vue\": \"629a\",\n\t\"./frames/titleFrame.vue\": \"0051\",\n\t\"./heros/base.vue\": \"1811\",\n\t\"./imgInput/imgInpuClip.vue\": \"dd85\",\n\t\"./imgInput/imgInpuText.vue\": \"bde4\",\n\t\"./imgInput/imgInputBase.vue\": \"d57d\",\n\t\"./imgInput/imgInputStatic.vue\": \"e54f\",\n\t\"./list/base.vue\": \"ac5c\",\n\t\"./popver/popverHelp.vue\": \"6cde\",\n\t\"./sidebars/sidebarBase.vue\": \"b68a\",\n\t\"./texts/iconCounter.vue\": \"aeb2\",\n\t\"./texts/titleScrolling.vue\": \"f1d8\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"2f94\";","import { sendChat } from \"@front/util_function/system\";\r\nconst waitList: any = [];\r\nlet sending = false;\r\nexport const chat = ({ userID, deviceID, serviceToken, data }: any) => {\r\n\tconst text = data.content;\r\n\tif (!text) {\r\n\t\treturn;\r\n\t}\r\n\tif (sending) {\r\n\t\twaitList.push({ userID, deviceID, serviceToken, data });\r\n\t} else {\r\n\t\trealChat({ userID, deviceID, serviceToken, data });\r\n\t}\r\n};\r\n\r\nexport const realChat = (data: any) => {\r\n\tsending = true;\r\n\tsendChat(data).finally(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsending = false;\r\n\t\t\tif (waitList[0]) {\r\n\t\t\t\trealChat(waitList.shift());\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t});\r\n};\r\n","<template>\r\n\t<div class=\"outer\" v-loading=\"loading\">\r\n\t\t<div class=\"votePanel\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">需要礼物</span>\r\n\t\t\t\t<el-switch @change=\"saveSettings\" v-model=\"settings.needGift\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.needGift\">\r\n\t\t\t\t<span class=\"shadow\">礼物最小值</span>\r\n\t\t\t\t<el-input-number @change=\"saveSettings\" size=\"mini\" v-model=\"settings.triggerValue\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"url\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"copy(url)\">复制</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\thasContent,\r\n\thasGift,\r\n\tisOwner\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport {\r\n\tgetTime,\r\n\tgetContent,\r\n\tgetGiftValue,\r\n\tgetUID\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\n\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nexport default defineComponent({\r\n\tname: \"randomVideo\",\r\n\tcname: \"随机动态壁纸\",\r\n\ticon: \"el-icon-picture-outline\",\r\n\tdescription: \"投蕉/投礼物并弹幕发送“@换壁纸@”更换图片,\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 150,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\ttriggerValue: 0,\r\n\t\t\t\tneedGift: false,\r\n\t\t\t\tvideoId: 1,\r\n\t\t\t\tvideoNum: 33\r\n\t\t\t},\r\n\t\t\tgiftSended: new Set(),\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient([\"changedDanmaku\"], ({ changedDanmaku }) => {\r\n\t\t\tfor (const danmaku of changedDanmaku) {\r\n\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.settings.needGift &&\r\n\t\t\t\t\thasGift(danmaku) &&\r\n\t\t\t\t\tgetGiftValue(danmaku) >= this.settings.triggerValue\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.giftSended.add(uid);\r\n\t\t\t\t}\r\n\t\t\t\tif (hasContent(danmaku)) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!isOwner(danmaku, this.$store.state) &&\r\n\t\t\t\t\t\tthis.settings.needGift &&\r\n\t\t\t\t\t\t!this.giftSended.has(uid)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst content = getContent(danmaku);\r\n\t\t\t\t\tif (!content || !content.includes(\"@换壁纸@\")) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.giftSended.delete(uid);\r\n\t\t\t\t\tthis.getImage();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.registerOBS();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\tgetImage() {\r\n\t\t\tlet result = 1;\r\n\t\t\tdo {\r\n\t\t\t\tresult = parseInt(Math.random() * this.settings.videoNum) + 1;\r\n\t\t\t} while (result === this.settings.videoId);\r\n\t\t\tthis.settings.videoId = result;\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twsevent.wsEmit(\r\n\t\t\t\t\t\"voteUpdate\",\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvideoId: this.settings.videoId\r\n\t\t\t\t\t},\r\n\t\t\t\t\t`obs-${this.$options.name}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tthis.saveSettings();\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\tmargin-top: 16px;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=0771850b&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0771850b&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0771850b\"\n\nexport default script","<template>\r\n\t<div class=\"medal\" v-show=\"getMedal(danmaku).clubName\" :style=\"style\">\r\n\t\t<div class=\"level\" :style=\"degreeStyle\" v-show=\"setting.config.degree\">{{getMedal(danmaku).level}}</div>\r\n\t\t<div class=\"name\" :style=\"nameStyle\" v-show=\"setting.config.name\">{{getMedal(danmaku).clubName}}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getMedal } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"medal\",\r\n\tcname: \"牌子\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tdegreeStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.degreeStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnameStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.nameStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetMedal(danmaku: any) {\r\n\t\t\treturn getMedal(danmaku);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.medal {\r\n\tdisplay: inline-flex;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\talign-items: center;\r\n\t& > div {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t}\r\n\t// .level {\r\n\t// }\r\n\t// .name {\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getMedal } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"medal\",\r\n\tcname: \"牌子\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tdegreeStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.degreeStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnameStyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.nameStyle;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetMedal(danmaku: any) {\r\n\t\t\treturn getMedal(danmaku);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=48928f8e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=48928f8e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-48928f8e\"\n\nexport default script","import { ElMessageBox } from \"element-plus\";\r\nexport const logout = (): void => {\r\n\t// backendRestart();\r\n\tsessionStorage.setItem(\"logined\", \"false\");\r\n\t// router.push(\"/login\");\r\n\twindow.location.replace(`http://${window.location.host}/login`);\r\n};\r\n\r\nexport const restart = () => {\r\n\tElMessageBox({\r\n\t\ttitle: \"确认重启？\",\r\n\t\tshowCancelButton: true,\r\n\t\tconfirmButtonText: \"确定\",\r\n\t\tcancelButtonText: \"取消\"\r\n\t}).then(restartConfirmed);\r\n};\r\nexport const restartConfirmed = () => {\r\n\tsessionStorage.clear();\r\n\t// router.push(\"/login\");\r\n\twindow.location.replace(`http://${window.location.host}/login`);\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=eb431554&scoped=true&lang=scss\"","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\towner: false,\r\n\t\t\tdegree: true,\r\n\t\t\tname: true,\r\n\t\t\tpreview: 1,\r\n\t\t\tcolor: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlevel: 0,\r\n\t\t\t\t\tcolor: \"rgba(5, 214, 124, 1)\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlevel: 3,\r\n\t\t\t\t\tcolor: \"rgba(25, 175, 239, 1)\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlevel: 6,\r\n\t\t\t\t\tcolor: \"rgba(249, 164, 0, 1)\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlevel: 9,\r\n\t\t\t\t\tcolor: \"rgba(230, 72, 69, 1)\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlevel: 12,\r\n\t\t\t\t\tcolor: \"rgba(178, 48, 242, 1)\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 8,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tspecificBackgroundColor: false,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 4,\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderColor: \"rgba(232, 221, 7, 1)\"\r\n\t\t},\r\n\t\tdegreeStyle: {\r\n\t\t\tverticalAlign: \"top\",\r\n\t\t\tposition: \"relative\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 13,\r\n\t\t\tfontWeight: \"bold\",\r\n\t\t\tspecificColor: true,\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 1,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 5,\r\n\t\t\tpaddingRight: 4,\r\n\t\t\tpaddingTop: -1,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"rgba(232, 221, 7, 1)\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t},\r\n\t\tnameStyle: {\r\n\t\t\tverticalAlign: \"bottom\",\r\n\t\t\tposition: \"不定位\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 13,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tspecificColor: true,\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 1.2,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 4,\r\n\t\t\tmarginRight: 7,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tspecificBackgroundColor: true,\r\n\t\t\tbackgroundColor: \"rgba(255,255,255,0)\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"outer\">\r\n\t\t<row-frame class=\"rowframe\" title=\"播放器\" contentClass=\"list\">\r\n\t\t\t<title-scrolling style=\"width:100%;white-space:nowrap\" :label=\"`正在播放：${songInfo.title||'暂无播放歌曲'} ${songInfo.author?` - ${songInfo.author}`:''}`\" />\r\n\t\t\t<div class=\"player\">\r\n\t\t\t\t<audio :autoplay=\"settings.autoplay\" controls :src=\"playingSingle.url\" />\r\n\t\t\t</div>\r\n\t\t</row-frame>\r\n\t\t<row-frame class=\" rowframe\" title=\"歌词\" contentClass=\"list\">\r\n\t\t\t<div class=\"lyric\" id=\"lyricList\">\r\n\t\t\t\t<div class=\"lyricBlock\">\r\n\t\t\t\t\t<div class=\"lyric-row\" v-if=\"!lyricReverse.length\">纯音乐，暂无歌词</div>\r\n\t\t\t\t\t<div class=\"lyric-row\" v-for=\"(lyric,index) in lyricReverse\" :key=\"index\" :class=\"{'active':lyric.active}\">{{lyric.text}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</row-frame>\r\n\t\t<row-frame class=\"rowframe playerList\" title=\"待播列表\" contentClass=\"list\">\r\n\t\t\t<div class=\"song-row active\" v-if=\"playing\">\r\n\t\t\t\t<div class=\"song-name\">\r\n\t\t\t\t\t<title-scrolling :label=\"playing.title\" />\r\n\t\t\t\t\t<title-scrolling :label=\"playing.nickName\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button-group>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"playing = null;startSong()\">移除</el-button>\r\n\t\t\t\t</el-button-group>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"song-row\" v-for=\"song in pending\" :key=\"song.title\">\r\n\t\t\t\t<div class=\"song-name\">\r\n\t\t\t\t\t<title-scrolling :label=\"song.title\" />\r\n\t\t\t\t\t<title-scrolling :label=\"song.nickName\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button-group>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"switchTo(song)\">切歌</el-button>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"pending = pending.filter(i=>i!==song)\">移除</el-button>\r\n\t\t\t\t</el-button-group>\r\n\t\t\t</div>\r\n\t\t</row-frame>\r\n\t\t<div class=\"row\">\r\n\t\t\t<el-select style=\"width:100px\" size=\"mini\" v-model=\"settings.addType\">\r\n\t\t\t\t<el-option label=\"编号\" value=\"id\" />\r\n\t\t\t\t<el-option label=\"歌名\" value=\"name\" />\r\n\t\t\t</el-select>\r\n\t\t\t<el-input size=\"mini\" v-model=\"search\" placeholder=\"输入歌名/编号，enter添加\" @keydown.enter=\"addSongSearch\" :disabled=\"loading\" />\r\n\t\t</div>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌曲来源</span>\r\n\t\t\t\t<el-select style=\"width:100px\" size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.source\">\r\n\t\t\t\t\t<el-option label=\"网易云\" value=\"netease\" />\r\n\t\t\t\t\t<el-option label=\"酷狗\" value=\"kugou\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"hint\">选择酷狗时会优先搜索有伴奏的歌曲</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">自动播放</span>\r\n\t\t\t\t<el-switch @change=\"upgradeSettings\" size=\"mini\" v-model=\"settings.autoplay\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">冷却时间</span>\r\n\t\t\t\t<el-input-number @change=\"upgradeSettings\" size=\"mini\" v-model=\"settings.coolingTime\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"hint\">单位为分钟，限制同一人频繁点歌</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">点歌反馈</span>\r\n\t\t\t\t<el-switch size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.feedback\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"hint\">会以弹幕回复观众点歌是否成功，如不成功不会进入冷却时间或消耗点歌券</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">购买点歌券点歌</span>\r\n\t\t\t\t<el-switch size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.needGift\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">允许切歌</span>\r\n\t\t\t\t<el-switch size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.allowSwitch\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.allowSwitch\">\r\n\t\t\t\t<span class=\"shadow\">冷却时间</span>\r\n\t\t\t\t<el-input-number size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.switchCooling\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.allowSwitch\">\r\n\t\t\t\t<span class=\"hint\">买一张点歌券即可切歌，送出礼物后输入“@切歌@”，切到最近一首自己点的歌，冷却时间为所有用户共享</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.needGift||settings.allowSwitch\">\r\n\t\t\t\t<span class=\"shadow\">点歌券价值(AC币)</span>\r\n\t\t\t\t<el-input-number @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.giftValue\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.needGift||settings.allowSwitch\">\r\n\t\t\t\t<span class=\"hint\">礼物价值大于该值后即可点歌,送出礼物后输入\"点歌@歌曲名@\"进行点歌,\"编号点歌@歌曲id@\"进行编号点歌</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">不让下面列表中的UID点歌</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-select style=\"width:100%\" size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.peopleBlackList\" multiple filterable allow-create collapse-tags placeholder=\"输入按回车添加\">\r\n\t\t\t\t\t<el-option v-for=\"(item,index) in settings.peopleBlackList\" :key=\"index\" :label=\"item\" :value=\"item\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">忽略包含以下关键词的歌曲</span>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-select style=\"width:100%\" size=\"mini\" @change=\"upgradeSettings\" v-model=\"settings.keywordBlackList\" multiple filterable allow-create collapse-tags placeholder=\"输入按回车添加\">\r\n\t\t\t\t\t<el-option v-for=\"(item,index) in settings.keywordBlackList\" :key=\"index\" :label=\"item\" :value=\"item\" />\r\n\t\t\t\t</el-select>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">列表为空时随机播放歌单</span>\r\n\t\t\t\t<el-switch size=\"mini\" @change=\"upgradeSettings()\" v-model=\"settings.playSongListWhenEmpty\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.playSongListWhenEmpty\">\r\n\t\t\t\t<span class=\"shadow\">网易云歌单导入</span>\r\n\t\t\t\t<el-input size=\"mini\" v-model=\"songListID\" placeholder=\"歌单id\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"getSongList()\">获取</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.playSongListWhenEmpty\">\r\n\t\t\t\t<span class=\"hint\">歌单里不要包含失效或vip歌曲！歌单里不要包含失效或vip歌曲！歌单里不要包含失效或vip歌曲！</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\" v-if=\"settings.playSongListWhenEmpty\">\r\n\t\t\t\t<span class=\"shadow\">当前歌单状态</span>\r\n\t\t\t\t<span class=\"shadow\">获取到{{settings.songList.length}}首歌</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">优先选取翻译歌词</span>\r\n\t\t\t\t<el-switch size=\"mini\" @change=\"upgradeSettings()\" v-model=\"settings.translateFirst\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌名大小</span>\r\n\t\t\t\t<el-input-number @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.titleSize\" :min=\"1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌名颜色</span>\r\n\t\t\t\t<el-color-picker @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.titleColor\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌名轮廓颜色</span>\r\n\t\t\t\t<el-color-picker @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.titleShadow\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌名轮廓大小</span>\r\n\t\t\t\t<el-input-number @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" :step=\"0.1\" v-model=\"settings.titleOutline\" :min=\"0.1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌词大小</span>\r\n\t\t\t\t<el-input-number @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.lyricSize\" :min=\"1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌词颜色</span>\r\n\t\t\t\t<el-color-picker @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.lyricColor\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌词轮廓颜色</span>\r\n\t\t\t\t<el-color-picker @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" v-model=\"settings.lyricShadow\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">歌词轮廓大小</span>\r\n\t\t\t\t<el-input-number @change=\"wsUpdate();upgradeSettings()\" size=\"mini\" :step=\"0.1\" v-model=\"settings.lyricOutline\" :min=\"0.1\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<el-input size=\"mini\" :model-value=\"url\">\r\n\t\t\t\t\t<template #append>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\" @click=\"copy(url)\">复制</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-input>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t\t<span class=\"hint\">推荐尺寸：400px x 100px</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\tgetContent,\r\n\tgetUID,\r\n\tgetTime,\r\n\tgetNickName,\r\n\tgetGiftValue,\r\n\tgetGiftNumber\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport {\r\n\thasContent,\r\n\thasGift,\r\n\tisOwner\r\n} from \"@front/components/danmakuFlow/utils/tester\";\r\nimport debounce from \"lodash/debounce\";\r\nimport throttle from \"lodash/throttle\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nimport { user, room } from \"@front/api\";\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nimport { chat } from \"@front/api/chat\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nimport { registerRole } from \"@front/util_function/base\";\r\nexport default defineComponent({\r\n\tname: \"danmakuSongPicker\",\r\n\tcname: \"弹幕点歌台\",\r\n\ticon: \"self-netease\",\r\n\tdescription:\r\n\t\t'###会链接第三方服务器获取歌曲数据！###    支持网易云和酷狗，观众输入\"点歌@歌曲名\"进行点歌,\"点歌@歌曲名#歌曲编号\"进行歌手点歌,\"编号点歌@歌曲id\"进行编号点歌，\"查歌手@歌名\"查询歌手，会合并同名请求，右上角设置提供obs端显示歌曲名和歌词、冷却时间, 会与歌回助手冲突！！',\r\n\tconfigurations: {\r\n\t\twidth: 300,\r\n\t\theight: 500,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsendedGift: new Set(),\r\n\t\t\tfeedbackArray: [],\r\n\t\t\tpending: [],\r\n\t\t\tcooling: [],\r\n\t\t\tplaying: null,\r\n\t\t\tplayIndex: 0,\r\n\t\t\tfeedbackTimer: null,\r\n\t\t\tsearch: \"\",\r\n\t\t\tloading: false,\r\n\t\t\tlyricloading: false,\r\n\t\t\tsettings: {\r\n\t\t\t\tcoolingTime: 1,\r\n\t\t\t\ttranslateFirst: false,\r\n\t\t\t\taddType: \"name\",\r\n\t\t\t\tautoPlay: true,\r\n\t\t\t\tallowSwitch: false,\r\n\t\t\t\tswitchCooling: 3,\r\n\t\t\t\tfeedback: false,\r\n\t\t\t\tsource: \"netease\",\r\n\t\t\t\tneedGift: false,\r\n\t\t\t\tgiftValue: 0,\r\n\t\t\t\tlyricSize: 20,\r\n\t\t\t\tlyricColor: \"rgba(255,255,255,1)\",\r\n\t\t\t\tlyricShadow: \"rgba(0,0,0,1)\",\r\n\t\t\t\tlyricOutline: 0.8,\r\n\t\t\t\ttitleSize: 16,\r\n\t\t\t\ttitleColor: \"rgba(255,255,255,1)\",\r\n\t\t\t\ttitleShadow: \"rgba(0,0,0,1)\",\r\n\t\t\t\ttitleOutline: 0.8,\r\n\t\t\t\topacity: 0.5,\r\n\t\t\t\tplaySongListWhenEmpty: false,\r\n\t\t\t\tsongList: [],\r\n\t\t\t\tpeopleBlackList: [],\r\n\t\t\t\tkeywordBlackList: []\r\n\t\t\t},\r\n\t\t\tlyricInfo: {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tlyrics: []\r\n\t\t\t},\r\n\t\t\tsongInfo: {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tlyric: \"\",\r\n\t\t\t\tauthor: \"\"\r\n\t\t\t},\r\n\t\t\tsongListID: \"\",\r\n\t\t\tsuperRight: false,\r\n\t\t\tplayTime: 0,\r\n\t\t\tlastSwitchTime: 0,\r\n\t\t\tgifts: [],\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tsettingShow: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterRole(\"点唱机\");\r\n\t\tregisterClient(\r\n\t\t\t[\"changedDanmaku\", \"userProfile\", \"roomProfile\", \"userSession\"],\r\n\t\t\t({ changedDanmaku, userProfile, roomProfile, userSession }) => {\r\n\t\t\t\tObject.assign(this.$store.state, {\r\n\t\t\t\t\tuserProfile,\r\n\t\t\t\t\troomProfile,\r\n\t\t\t\t\tuserSession\r\n\t\t\t\t});\r\n\t\t\t\tconst output = [];\r\n\t\t\t\tfor (const danmaku of changedDanmaku) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(this.settings.needGift || this.settings.allowSwitch) &&\r\n\t\t\t\t\t\thasGift(danmaku) &&\r\n\t\t\t\t\t\t(getGiftValue(danmaku) * getGiftNumber(danmaku)) /\r\n\t\t\t\t\t\t\t1000 >=\r\n\t\t\t\t\t\t\tparseInt(this.settings.giftValue)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.sendedGift.add(getUID(danmaku));\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hasContent(danmaku)) {\r\n\t\t\t\t\t\toutput.push(danmaku);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.addSong(output);\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.registerOBS();\r\n\t\tthis.getGift();\r\n\t\tthis.checkFeedback();\r\n\t\tthis.loadSettings();\r\n\t\tthis.addAudioListeners();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"userProfile\", \"roomProfile\", \"userSession\"]),\r\n\t\tlyricReverse() {\r\n\t\t\treturn [...this.lyricInfo.lyrics].reverse();\r\n\t\t},\r\n\t\tplayingSingle() {\r\n\t\t\tif (this.playing) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.playing.songList[this.playIndex] || {\r\n\t\t\t\t\t\turl: \"\",\r\n\t\t\t\t\t\tlrc: \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn { url: \"\", lrc: \"\" };\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\tgetSongList() {\r\n\t\t\tconst xhr = new XMLHttpRequest();\r\n\r\n\t\t\txhr.open(\r\n\t\t\t\t\"GET\",\r\n\t\t\t\t`https://netease-music-api.fe-mm.com/playlist/detail?id=${this.songListID}`\r\n\t\t\t);\r\n\t\t\txhr.onloadend = () => {\r\n\t\t\t\tconst result = JSON.parse(xhr.responseText);\r\n\t\t\t\tif (result.code !== 200) {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\tmessage: result.msg,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.settings.songList = result.playlist.trackIds.map(item => {\r\n\t\t\t\t\treturn item.id;\r\n\t\t\t\t});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: `成功同步到${this.settings.songList.length}首歌曲`,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\tthis.startSong();\r\n\t\t\t};\r\n\t\t\txhr.send(null);\r\n\t\t},\r\n\t\tgenerateLyric() {\r\n\t\t\tif (!this.playingSingle.url || this.lyricloading) return;\r\n\t\t\tthis.lyricloading = true;\r\n\t\t\tconst id = this.playingSingle.id || this.playingSingle.songid;\r\n\t\t\tconst xhr = new XMLHttpRequest();\r\n\t\t\txhr.open(\r\n\t\t\t\t\"GET\",\r\n\t\t\t\t`https://netease-music-api.fe-mm.com/lyric?id=${id}`\r\n\t\t\t);\r\n\t\t\txhr.onloadend = () => {\r\n\t\t\t\tconst res = JSON.parse(xhr.responseText);\r\n\t\t\t\tlet lrc = res?.lrc?.lyric;\r\n\t\t\t\tif (this.settings.translateFirst && res?.tlyric?.lyric) {\r\n\t\t\t\t\tlrc = res?.tlyric?.lyric;\r\n\t\t\t\t}\r\n\t\t\t\tif (lrc) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// const lrc = this.playingSingle.lrc;\r\n\t\t\t\t\t\tconst lrcs = lrc.split(\"\\n\").filter(i => i.trim());\r\n\t\t\t\t\t\tconst lrcList = lrcs.reverse();\r\n\t\t\t\t\t\tthis.lyricInfo.lyrics = lrcList.map(lrca => {\r\n\t\t\t\t\t\t\tconst splitted = lrca\r\n\t\t\t\t\t\t\t\t.split(/\\[|\\]/g)\r\n\t\t\t\t\t\t\t\t.filter(i => i);\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\ttime: splitted[0]\r\n\t\t\t\t\t\t\t\t\t.split(\":\")\r\n\t\t\t\t\t\t\t\t\t.reduce((acc, time) => 60 * acc + +time),\r\n\t\t\t\t\t\t\t\ttext: splitted[1]\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.lyricInfo.lyrics = this.lyricInfo.lyrics.filter(\r\n\t\t\t\t\t\t\ti => {\r\n\t\t\t\t\t\t\t\treturn i.text;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tthis.lyricInfo.title = this.playingSingle.title;\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t// console.log(this.playingSingle);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.lyricInfo.lyrics = [];\r\n\t\t\t\t\tthis.lyricInfo.title = this.playingSingle.title;\r\n\t\t\t\t}\r\n\t\t\t\tthis.lyricloading = false;\r\n\t\t\t};\r\n\t\t\txhr.send(null);\r\n\t\t},\r\n\t\taddAudioListeners() {\r\n\t\t\tconst audio = document.querySelector(\"audio\");\r\n\t\t\tconst lyriclist = document.querySelector(\"#lyricList\");\r\n\t\t\taudio.ontimeupdate = throttle(e => {\r\n\t\t\t\tthis.playTime = audio.currentTime;\r\n\t\t\t\tlet lyric = \"\";\r\n\t\t\t\tlet title = \"\";\r\n\t\t\t\tlet author = \"\";\r\n\t\t\t\tlet lyricChanged = false;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (!this.playingSingle.url) break;\r\n\t\t\t\t\tif (this.lyricInfo.title !== this.playingSingle.title) {\r\n\t\t\t\t\t\tthis.generateLyric();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet lyricObj = this.lyricInfo.lyrics.find(\r\n\t\t\t\t\t\tly => ly.time < this.playTime + 0.5\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (lyricObj && !lyricObj.active) {\r\n\t\t\t\t\t\tthis.lyricInfo.lyrics.forEach(i => {\r\n\t\t\t\t\t\t\ti.active = false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlyricObj.active = true;\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tconst active = lyriclist.querySelector(\".active\");\r\n\t\t\t\t\t\t\tlyriclist.scrollTop = active.offsetTop - 45;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlyric = lyricObj?.text;\r\n\t\t\t\t\ttitle = this.playingSingle.title;\r\n\t\t\t\t\tauthor = this.playingSingle.author;\r\n\t\t\t\t\tlyricChanged =\r\n\t\t\t\t\t\tlyric !== this.songInfo.lyric ||\r\n\t\t\t\t\t\tauthor !== this.songInfo.author ||\r\n\t\t\t\t\t\ttitle !== this.songInfo.title;\r\n\t\t\t\t} while (false);\r\n\r\n\t\t\t\tif (lyricChanged) {\r\n\t\t\t\t\tthis.songInfo = { lyric, title, author };\r\n\t\t\t\t\tthis.wsUpdate();\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t\taudio.onerror = audio.onstalled = e => {\r\n\t\t\t\tif (!this.playing) {\r\n\t\t\t\t\tthis.startSong();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.playIndex < this.playing.songList.length - 1) {\r\n\t\t\t\t\tthis.playIndex += 1;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.playing = null;\r\n\t\t\t\tthis.startSong();\r\n\t\t\t};\r\n\t\t\taudio.onended = e => {\r\n\t\t\t\tthis.playing = null;\r\n\t\t\t\tthis.startSong();\r\n\t\t\t};\r\n\t\t},\r\n\t\tasync getGift() {\r\n\t\t\tlet retry = Boolean(this.roomProfile.liveID);\r\n\t\t\tif (retry) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait user.login({\r\n\t\t\t\t\t\taccount: \"\",\r\n\t\t\t\t\t\tpassword: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst res = await room.getGiftList({\r\n\t\t\t\t\t\tliveID: this.roomProfile.liveID\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.gifts = res;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tretry = false;\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!retry) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getGift();\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcheckFeedback() {\r\n\t\t\tclearTimeout(this.feedbackTimer);\r\n\t\t\tconst feedback = this.feedbackArray.shift();\r\n\t\t\tif (this.settings.feedback && feedback) {\r\n\t\t\t\tconst content = `用户 ${this.shorten(\r\n\t\t\t\t\tfeedback.nickName,\r\n\t\t\t\t\t10\r\n\t\t\t\t)}点歌 ${this.shorten(feedback.title, 10)} ${feedback.type}:${\r\n\t\t\t\t\tfeedback.message\r\n\t\t\t\t}`;\r\n\t\t\t\tlet part = \"\";\r\n\t\t\t\tlet start = 0;\r\n\t\t\t\twhile ((part = content.slice(start, start + 49))) {\r\n\t\t\t\t\tchat({\r\n\t\t\t\t\t\tuserID: this.userSession.userID,\r\n\t\t\t\t\t\tdeviceID: this.userSession.deviceID,\r\n\t\t\t\t\t\tserviceToken: this.userSession.serviceToken,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tvisitorId: this.userSession.userID,\r\n\t\t\t\t\t\t\tliveId: this.roomProfile.liveID,\r\n\t\t\t\t\t\t\tcontent: part\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstart += 49;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.feedbackTimer = setTimeout(() => {\r\n\t\t\t\tthis.checkFeedback();\r\n\t\t\t}, 5000);\r\n\t\t},\r\n\t\tshorten(str, maxlength) {\r\n\t\t\tif (str.length >= maxlength) {\r\n\t\t\t\treturn str.substr(0, maxlength - 2) + \".\";\r\n\t\t\t}\r\n\t\t\treturn str;\r\n\t\t},\r\n\t\tgetSong(songName, type = \"name\") {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.settings?.source === \"kugou\" &&\r\n\t\t\t\t\ttype === \"name\" &&\r\n\t\t\t\t\t!songName.includes(\"伴奏\")\r\n\t\t\t\t) {\r\n\t\t\t\t\tsongName += \"(伴奏)\";\r\n\t\t\t\t}\r\n\t\t\t\tformData.append(\"input\", songName);\r\n\t\t\t\tformData.append(\"filter\", type);\r\n\t\t\t\tformData.append(\"type\", this.settings?.source || \"netease\");\r\n\t\t\t\tformData.append(\"page\", \"1\");\r\n\t\t\t\t// formData.append(\"page\", \"1\");\r\n\t\t\t\tconst xhr = new XMLHttpRequest();\r\n\r\n\t\t\t\txhr.open(\"POST\", \"http://music.laomao.me/\");\r\n\t\t\t\t// xhr.setRequestHeader(\"Host\", \"music.yunmss.cn\");\r\n\t\t\t\txhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n\t\t\t\txhr.setRequestHeader(\r\n\t\t\t\t\t\"Content-Type\",\r\n\t\t\t\t\t\"application/x-www-form-urlencoded; charset=UTF-8\"\r\n\t\t\t\t);\r\n\t\t\t\txhr.onloadend = () => {\r\n\t\t\t\t\tresolve(JSON.parse(xhr.responseText).data);\r\n\t\t\t\t};\r\n\t\t\t\txhr.send(new URLSearchParams(formData).toString());\r\n\t\t\t});\r\n\t\t},\r\n\t\taddSongSearch() {\r\n\t\t\tif (this.loading) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst songName = this.search;\r\n\t\t\tif (!songName) return;\r\n\t\t\tconst type = this.settings.addType;\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.getSong(songName, type)\r\n\t\t\t\t.then(songList => {\r\n\t\t\t\t\tif (!songList.length) {\r\n\t\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\tmessage: \"找不到歌曲\",\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst newSong = {\r\n\t\t\t\t\t\tuserID: \"10086\",\r\n\t\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\t\tnickName: \"主播\",\r\n\t\t\t\t\t\ttitle: type === \"name\" ? songName : songList[0].title,\r\n\t\t\t\t\t\ttime: 1000,\r\n\t\t\t\t\t\tsongList: songList.map(song => {\r\n\t\t\t\t\t\t\tif (!song.url) song.url = \"123123123\";\r\n\t\t\t\t\t\t\treturn song;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.pending = [...this.pending, newSong];\r\n\t\t\t\t\tthis.search = \"\";\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\tmessage: e.toString(),\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.startSong();\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t\tthis.wsUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\twsUpdate() {\r\n\t\t\tlet {\r\n\t\t\t\tlyricSize,\r\n\t\t\t\tlyricColor,\r\n\t\t\t\tlyricShadow,\r\n\t\t\t\tlyricOutline,\r\n\t\t\t\ttitleSize,\r\n\t\t\t\ttitleColor,\r\n\t\t\t\ttitleShadow,\r\n\t\t\t\ttitleOutline\r\n\t\t\t} = this.settings;\r\n\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t`lyric-update`,\r\n\t\t\t\t{\r\n\t\t\t\t\tsongInfo: this.songInfo,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tlyricSize,\r\n\t\t\t\t\t\tlyricColor,\r\n\t\t\t\t\t\tlyricShadow,\r\n\t\t\t\t\t\tlyricOutline,\r\n\t\t\t\t\t\ttitleSize,\r\n\t\t\t\t\t\ttitleColor,\r\n\t\t\t\t\t\ttitleShadow,\r\n\t\t\t\t\t\ttitleOutline\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t`obs-lyric`\r\n\t\t\t);\r\n\t\t},\r\n\t\tswitchSong(nickName, uid, isOwner = false) {\r\n\t\t\tconst su = [214844, 45443067, 103411].includes(uid);\r\n\t\t\tconst now = Date.now();\r\n\t\t\tdo {\r\n\t\t\t\tif (isOwner || (su && this.superRight)) break;\r\n\t\t\t\tif (!this.settings.allowSwitch) return;\r\n\t\t\t\tif (!this.sendedGift.has(uid)) return;\r\n\t\t\t} while (false);\r\n\t\t\tconst remaining =\r\n\t\t\t\tthis.settings.switchCooling * 60 * 1000 -\r\n\t\t\t\t(now - this.lastSwitchTime);\r\n\t\t\tif (remaining > 0) {\r\n\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\tnickName,\r\n\t\t\t\t\ttitle: \"切歌操作\",\r\n\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\ttype: \"失败\",\r\n\t\t\t\t\tmessage: `切歌处于冷却中！剩余时间${remaining / 1000}秒`\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst song = this.pending.find(i => i.userID === uid);\r\n\t\t\tif (!song) {\r\n\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\tnickName,\r\n\t\t\t\t\ttitle: \"切歌\",\r\n\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\ttype: \"失败\",\r\n\t\t\t\t\tmessage: \"该用户没有点歌！\"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.switchTo(song);\r\n\t\t\tthis.sendedGift.delete(uid);\r\n\t\t\tthis.lastSwitchTime = now;\r\n\t\t},\r\n\t\taddSong(danmakus) {\r\n\t\t\tconst time = Date.now();\r\n\t\t\tthis.cooling = this.cooling.filter(\r\n\t\t\t\ti => time - i.time < 1000 * 60 * this.settings.coolingTime\r\n\t\t\t);\r\n\t\t\tdanmakus.forEach(danmaku => {\r\n\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\tconst nickName = getNickName(danmaku);\r\n\t\t\t\tconst owner = isOwner(danmaku, this.$store.state);\r\n\t\t\t\tconst content = getContent(danmaku);\r\n\t\t\t\tconst su = [214844, 45443067, 103411].includes(uid);\r\n\t\t\t\tif (su && content.includes(\"#超级权限\") && !this.superRight) {\r\n\t\t\t\t\tthis.superRight = true;\r\n\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\ttitle: \"超级权限\",\r\n\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\ttype: \"成功开启\",\r\n\t\t\t\t\t\tmessage: \"进入测试模式\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (\r\n\t\t\t\t\t(!su || !this.superRight) &&\r\n\t\t\t\t\tthis.settings.peopleBlackList.includes(String(uid))\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (content.includes(\"查歌手@\")) {\r\n\t\t\t\t\tthis.searchSong({\r\n\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\tuid\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (content.includes(\"@切歌@\")) {\r\n\t\t\t\t\tthis.switchSong(nickName, uid, owner);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!content.includes(\"点歌@\")) return;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (su && this.superRight) break;\r\n\t\t\t\t\tif (this.cooling.find(i => i.userID === uid)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!owner &&\r\n\t\t\t\t\t\tthis.settings.needGift &&\r\n\t\t\t\t\t\t!this.sendedGift.has(uid)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} while (false);\r\n\r\n\t\t\t\tconst nameAndAuthor = content.split(/@/)[1];\r\n\t\t\t\tif (!nameAndAuthor) return;\r\n\r\n\t\t\t\tlet [songName, index] = nameAndAuthor.split(\"#\").map(i => {\r\n\t\t\t\t\treturn i.trim();\r\n\t\t\t\t});\r\n\t\t\t\tfor (const keyword of this.settings.keywordBlackList) {\r\n\t\t\t\t\tif (songName.includes(keyword)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tindex = parseInt(index);\r\n\t\t\t\tlet type = \"name\";\r\n\t\t\t\tif (content.includes(\"编号\")) {\r\n\t\t\t\t\ttype = \"id\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.getSong(songName, type)\r\n\t\t\t\t\t.then(songList => {\r\n\t\t\t\t\t\tif (!isNaN(index) && index > 0) {\r\n\t\t\t\t\t\t\tsongList = songList.slice(index - 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!songList.length) {\r\n\t\t\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\t\t\ttitle: songName,\r\n\t\t\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\t\t\ttype: \"失败\",\r\n\t\t\t\t\t\t\t\tmessage: \"找不到该歌曲\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsongName = songList[0].title;\r\n\t\t\t\t\t\tconst newSong = {\r\n\t\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\t\ttitle: songName,\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\tsongList: songList.map(song => {\r\n\t\t\t\t\t\t\t\tif (!song.url) song.url = \"123123123\";\r\n\t\t\t\t\t\t\t\treturn song;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.pending = [...this.pending, newSong];\r\n\r\n\t\t\t\t\t\tif (this.settings.needGift) {\r\n\t\t\t\t\t\t\tthis.sendedGift.delete(uid);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!owner) {\r\n\t\t\t\t\t\t\tthis.cooling = [newSong, ...this.cooling];\r\n\t\t\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\t\t\ttitle: songName,\r\n\t\t\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\t\t\ttype: \"成功\",\r\n\t\t\t\t\t\t\t\tmessage: `已添加入队列,排号${this.pending.length}`\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.startSong();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\t\ttitle: songName,\r\n\t\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\t\ttype: \"失败\",\r\n\t\t\t\t\t\t\tmessage: e.toString()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tsearchSong({ nickName, content, uid }) {\r\n\t\t\tif (!content) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst songName = content.split(/@/)[1];\r\n\t\t\tthis.getSong(songName, \"name\")\r\n\t\t\t\t.then(songList => {\r\n\t\t\t\t\tif (!songList.length) {\r\n\t\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\t\ttitle: `查询歌手：${songName}`,\r\n\t\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\t\ttype: \"失败\",\r\n\t\t\t\t\t\t\tmessage: \"没有找到该歌曲\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet message = \"\";\r\n\t\t\t\t\tlet index = 1;\r\n\t\t\t\t\twhile (message.length < 100 && songList.length) {\r\n\t\t\t\t\t\tconst song = songList.shift();\r\n\t\t\t\t\t\tmessage += `${index}.${this.shorten(song.author, 10)};`;\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\ttitle: `查询歌手：${songName}`,\r\n\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\ttype: \"\",\r\n\t\t\t\t\t\tmessage\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\tthis.feedbackArray.push({\r\n\t\t\t\t\t\tnickName,\r\n\t\t\t\t\t\ttitle: songName,\r\n\t\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\t\ttype: \"失败\",\r\n\t\t\t\t\t\tmessage: e.toString()\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tstartSong: debounce(function() {\r\n\t\t\tif (this.playing) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst listNum = this.settings.songList.length;\r\n\t\t\tif (\r\n\t\t\t\t!this.pending.length &&\r\n\t\t\t\tthis.settings.playSongListWhenEmpty &&\r\n\t\t\t\tlistNum\r\n\t\t\t) {\r\n\t\t\t\tthis.search = this.settings.songList[\r\n\t\t\t\t\tparseInt(Math.random() * listNum)\r\n\t\t\t\t];\r\n\t\t\t\tthis.settings.addType = \"id\";\r\n\t\t\t\tthis.addSongSearch();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.playIndex = 0;\r\n\t\t\tthis.playing = this.pending.shift();\r\n\t\t}, 1000),\r\n\t\tswitchTo(song) {\r\n\t\t\tthis.lyricInfo = {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tlyrics: []\r\n\t\t\t};\r\n\t\t\tthis.pending = this.pending.filter(i => i !== song);\r\n\t\t\tthis.playIndex = 0;\r\n\t\t\tthis.playing = song;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t\t} catch (error) {}\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tthis.saveSettings();\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n#font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.song-row {\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\twidth: 100%;\r\n\tmargin-bottom: 8px;\r\n\talign-items: center;\r\n\tpadding: 4px;\r\n\tcolor: white;\r\n\t.song-name {\r\n\t\tflex-grow: 1;\r\n\t\tflex-shrink: 1 !important;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: flex;\r\n\r\n\t\t& > div {\r\n\t\t\tmargin-right: 8px;\r\n\t\t\twidth: calc(50% - 8px);\r\n\t\t}\r\n\t}\r\n\t& > * {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t.btn {\r\n\t\tpadding: 0px 4px !important;\r\n\t}\r\n}\r\n.rowframe {\r\n\tbox-sizing: border-box;\r\n\twidth: 100% !important;\r\n\tpadding: 4px;\r\n\r\n\t:deep .title {\r\n\t\tcolor: white !important;\r\n\t}\r\n\t&.playerList {\r\n\t\tflex-grow: 1;\r\n\t\tmax-height: calc(100vh - 350px);\r\n\t}\r\n\t&:deep .list {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t\tpadding-right: 4px;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow-y: scroll;\r\n\t\theight: calc(100% - 24px);\r\n\t\t&:hover {\r\n\t\t\tpadding-right: 0px;\r\n\t\t}\r\n\t\t&::-webkit-scrollbar {\r\n\t\t\t-webkit-appearance: none;\r\n\t\t\twidth: 4px;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\theight: 10px;\r\n\t\t\ttransition: background-color 1s;\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t&:hover {\r\n\t\t\t&::-webkit-scrollbar {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&::-webkit-scrollbar-thumb {\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\t}\r\n\r\n\t\t&::-webkit-scrollbar-thumb:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\t}\r\n\r\n\t\t&::-webkit-scrollbar-thumb:window-inactive {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\t}\r\n\t}\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tborder: 2px solid grey;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\t.left {\r\n\t\twidth: calc(100% - 250px);\r\n\t}\r\n\t.right {\r\n\t\twidth: 250px;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n}\r\n\r\n.player {\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\t& > * {\r\n\t\twidth: 100%;\r\n\t\toutline: none !important;\r\n\t}\r\n}\r\n.active {\r\n\tbackground-color: rgba(102, 167, 218, 0.5);\r\n}\r\n.lyric {\r\n\tcolor: white !important;\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\theight: 100px;\r\n\tpadding: 4px 8px;\r\n\tword-break: break-all;\r\n\ttext-align: center;\r\n\toverflow-y: auto;\r\n\tpadding-right: 4px;\r\n\t&:hover {\r\n\t\tpadding-right: 0px;\r\n\t}\r\n\t&::-webkit-scrollbar {\r\n\t\t-webkit-appearance: none;\r\n\t\twidth: 4px;\r\n\t\tborder-radius: 5px;\r\n\t\theight: 10px;\r\n\t\ttransition: background-color 1s;\r\n\t\tdisplay: none;\r\n\t}\r\n\t&:hover {\r\n\t\t&::-webkit-scrollbar {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n\r\n\t&::-webkit-scrollbar-thumb {\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t}\r\n\r\n\t&::-webkit-scrollbar-thumb:hover {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t}\r\n\r\n\t&::-webkit-scrollbar-thumb:window-inactive {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t}\r\n}\r\n\r\n.row {\r\n\tbox-sizing: border-box;\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n\tword-break: break-all;\r\n}\r\n.hint {\r\n\tflex-shrink: 1;\r\n\tfont-size: 14px !important;\r\n\tword-break: break-all;\r\n}\r\nspan {\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n\tword-break: break-all;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=675a3715&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=675a3715&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-675a3715\"\n\nexport default script","import { Settings, CommonSettings } from \"@front/datas/danmaku\";\r\nimport { Rank } from \"@front/datas/room\";\r\nimport { getContent, getUserInfo, getMedal, getUID } from \"./getter\";\r\nimport {\r\n\tisOwner as ownerTest,\r\n\tisManager as managerTest,\r\n\tsameGift,\r\n\tsamePerson\r\n} from \"./tester\";\r\nimport { typeOptions } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { rightClickMenuItem } from \"@front/datas/component\";\r\nimport { Store } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { state } from \"@front/store/state\";\r\nconst types = typeOptions().map((i: any) => i.value);\r\n\r\nexport class Filter {\r\n\tgiftList: any = [];\r\n\tlikeList: any = [];\r\n\tenterList: any = [];\r\n\tfilter = (\r\n\t\tdanmaku: Array<any>,\r\n\t\t{ filter, maxNum, clubLevel, settingOfType }: Settings,\r\n\t\t{ blackList, keywords }: CommonSettings,\r\n\t\trank: Rank\r\n\t): any => {\r\n\t\tdanmaku = danmaku.filter(i => {\r\n\t\t\treturn types.indexOf(i.type) > -1;\r\n\t\t});\r\n\t\tif (!filter.open) {\r\n\t\t\treturn danmaku.slice(0, maxNum);\r\n\t\t}\r\n\t\tconst keys = Object.keys(settingOfType);\r\n\t\tlet count = 0;\r\n\t\tlet hasCombined = false;\r\n\t\tlet hasBlackList = false;\r\n\t\tlet hasKeywordBlocked = false;\r\n\r\n\t\tconst output: Array<any> = [];\r\n\t\tfor (let i of danmaku) {\r\n\t\t\tlet needFreeze = true;\r\n\t\t\tconst isOwner = ownerTest(i, state);\r\n\t\t\tif (count > maxNum) {\r\n\t\t\t\tbreak; // reach maxnum\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tfilter.types.indexOf(i.type) < 0 ||\r\n\t\t\t\tkeys.indexOf(String(i.type)) < 0\r\n\t\t\t) {\r\n\t\t\t\tcontinue; // hide specific type danmaku\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t!isOwner &&\r\n\t\t\t\tfilter.blackList &&\r\n\t\t\t\tblackList.find(u => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\tu === getUserInfo(i).userID ||\r\n\t\t\t\t\t\tu.userID === getUserInfo(i).userID\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) {\r\n\t\t\t\thasBlackList = true;\r\n\t\t\t\tcontinue; // filter out blackList\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t!isOwner &&\r\n\t\t\t\tfilter.clubOnly &&\r\n\t\t\t\trank.clubName &&\r\n\t\t\t\tgetMedal(i)?.clubName !== rank.clubName\r\n\t\t\t) {\r\n\t\t\t\tcontinue; // filter out no club member\r\n\t\t\t}\r\n\t\t\tif (!isOwner && getMedal(i)?.level < clubLevel) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\t!isOwner &&\r\n\t\t\t\ti.type === 1000 &&\r\n\t\t\t\tkeywords.find(u => {\r\n\t\t\t\t\treturn getContent(i).includes(u);\r\n\t\t\t\t})\r\n\t\t\t) {\r\n\t\t\t\thasKeywordBlocked = true;\r\n\t\t\t\tcontinue; // filter out keyword\r\n\t\t\t} else if (i.type === 1001 && filter.combineLike) {\r\n\t\t\t\tthis.likeList = this.likeList.slice(0, 5);\r\n\t\t\t\tconst like = this.likeList.find((l: any) => samePerson(i, l));\r\n\t\t\t\tif (like) {\r\n\t\t\t\t\tlike.combineCount += 1;\r\n\t\t\t\t\thasCombined = true;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tneedFreeze = false;\r\n\t\t\t\t\ti = {\r\n\t\t\t\t\t\t...i,\r\n\t\t\t\t\t\tcombineCount: 1\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.likeList.unshift(i);\r\n\t\t\t\t}\r\n\t\t\t} else if (i.type === 1002 && filter.combineEnter) {\r\n\t\t\t\tthis.enterList = this.enterList.slice(0, 10);\r\n\t\t\t\tconst enter = this.enterList.find((l: any) => samePerson(i, l));\r\n\t\t\t\tif (enter) {\r\n\t\t\t\t\tenter.combineCount += 1;\r\n\t\t\t\t\thasCombined = true;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tneedFreeze = false;\r\n\t\t\t\t\ti = {\r\n\t\t\t\t\t\t...i,\r\n\t\t\t\t\t\tcombineCount: 1\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.enterList.unshift(i);\r\n\t\t\t\t}\r\n\t\t\t} else if (i.type === 1005 && filter.combineGift) {\r\n\t\t\t\tconst now = Date.now();\r\n\t\t\t\tthis.giftList = this.giftList.filter(\r\n\t\t\t\t\t(i: any) => now < i.expire\r\n\t\t\t\t);\r\n\t\t\t\tconst gift = this.giftList.find(\r\n\t\t\t\t\t(g: any) => samePerson(i, g) && sameGift(i, g)\r\n\t\t\t\t);\r\n\t\t\t\tif (gift) {\r\n\t\t\t\t\tgift.count += i.data.count;\r\n\t\t\t\t\tgift.expire = now + 5000;\r\n\t\t\t\t\thasCombined = true;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tneedFreeze = false;\r\n\t\t\t\t\ti = {\r\n\t\t\t\t\t\t...i,\r\n\t\t\t\t\t\texpire: now + 5000,\r\n\t\t\t\t\t\tcount: i.data.count\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.giftList.unshift(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toutput.push(needFreeze ? Object.freeze(i) : i);\r\n\t\t\tcount++;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tfiltered: output,\r\n\t\t\thasCombined,\r\n\t\t\thasBlackList,\r\n\t\t\thasKeywordBlocked\r\n\t\t};\r\n\t};\r\n\r\n\tfilterUpdate = (\r\n\t\tnewDanmaku: Array<any>,\r\n\t\tOldDanmaku: Array<any>,\r\n\t\tsettings: Settings,\r\n\t\tcommonSettings: CommonSettings,\r\n\t\trank: Rank\r\n\t) => {\r\n\t\tconst result = this.filter(newDanmaku, settings, commonSettings, rank);\r\n\t\treturn {\r\n\t\t\tlist: this.filterMaxnium(\r\n\t\t\t\t[...result.filtered.reverse(), ...OldDanmaku],\r\n\t\t\t\tsettings\r\n\t\t\t),\r\n\t\t\t...result\r\n\t\t};\r\n\t};\r\n\r\n\tfilterMaxnium = (danmaku: Array<any>, settings: Settings) => {\r\n\t\tif (danmaku.length > settings.maxNum * 2) {\r\n\t\t\treturn danmaku.slice(0, settings.maxNum);\r\n\t\t}\r\n\t\treturn danmaku;\r\n\t};\r\n}\r\n\r\nexport const menu = (\r\n\tdanmaku: any,\r\n\tstore: Store<any>\r\n): Array<rightClickMenuItem> => {\r\n\tif (!danmaku) {\r\n\t\treturn [];\r\n\t}\r\n\tconst userProfile = getUserInfo(danmaku);\r\n\tconst isOwner = ownerTest(danmaku, store.state);\r\n\tconst isManager = managerTest(danmaku, store.state);\r\n\tconst isBlackList = store.state.danmakuProfile.common.blackList.find(\r\n\t\t(i: any) => i.userID === userProfile.userID\r\n\t);\r\n\tconst likeList = store.state.danmakuProfile.common.likeList || [];\r\n\tconst isLikeList = likeList.find(\r\n\t\t(i: any) => i.userID === userProfile.userID\r\n\t);\r\n\treturn [\r\n\t\t{\r\n\t\t\tname: `当前选择:${getUserInfo(danmaku).nickname}`,\r\n\t\t\ticon: \"el-icon-user-solid\",\r\n\t\t\tshow: true,\r\n\t\t\tdisabled: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"个人主页\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: true,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\twindow.open(`https://www.acfun.cn/u/${getUID(danmaku)}`);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"取消房管\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner && isManager,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"removeManager\", userProfile.userID);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}解除房管`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"添加房管\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner && !isManager,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"addManager\", userProfile.userID);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}设为房管`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"加入特别关心\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner && !isLikeList,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"addLikeList\", {\r\n\t\t\t\t\tuserID: userProfile.userID,\r\n\t\t\t\t\tnickname: userProfile.nickname\r\n\t\t\t\t});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}加入特别关心`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"取消特别关心\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner && isLikeList,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"removeLikeList\", {\r\n\t\t\t\t\tuserID: userProfile.userID,\r\n\t\t\t\t\tnickname: userProfile.nickname\r\n\t\t\t\t});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}移出特别关心`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"原谅他（解除拉黑）\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner && isBlackList,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"removeBlackList\", {\r\n\t\t\t\t\tuserID: userProfile.userID,\r\n\t\t\t\t\tnickname: userProfile.nickname\r\n\t\t\t\t});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}移出黑名单`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"拉黑他！\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner && !isBlackList,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"addBlackList\", {\r\n\t\t\t\t\tuserID: userProfile.userID,\r\n\t\t\t\t\tnickname: userProfile.nickname\r\n\t\t\t\t});\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}拉黑`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"踢出去！\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: !isOwner,\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"kickOut\", userProfile.userID);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将${userProfile.nickname}踢出直播间`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"屏蔽该关键词\",\r\n\t\t\ticon: \"el-icon-arrow-right\",\r\n\t\t\tshow: Boolean(getContent(danmaku)),\r\n\t\t\tdisabled: false,\r\n\t\t\tevent: () => {\r\n\t\t\t\tstore.commit(\"addKeyword\", getContent(danmaku));\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tmessage: `已将 ${getContent(danmaku)} 设为屏蔽词`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n};\r\n","export const speedOptions = () => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"关\",\r\n\t\t\tvalue: \"close\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"慢\",\r\n\t\t\tvalue: \"slow\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"快\",\r\n\t\t\tvalue: \"fast\"\r\n\t\t}\r\n\t];\r\n};\r\nexport const typeOptions = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"评论\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tvalue: 1000\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"点赞\",\r\n\t\t\ttype: \"like\",\r\n\t\t\tvalue: 1001\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"进直播间\",\r\n\t\t\ttype: \"enter\",\r\n\t\t\tvalue: 1002\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"关注\",\r\n\t\t\ttype: \"subscribe\",\r\n\t\t\tvalue: 1003\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"礼物\",\r\n\t\t\ttype: \"gift\",\r\n\t\t\tvalue: 1005\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"系统消息\",\r\n\t\t\ttype: \"richText\",\r\n\t\t\tvalue: 1006\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"加入守护团\",\r\n\t\t\ttype: \"joinClub\",\r\n\t\t\tvalue: 1007\r\n\t\t}\r\n\t];\r\n};\r\nexport const giftTypeOptions = () => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"礼物图片\",\r\n\t\t\tvalue: \"picture\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"礼物名称\",\r\n\t\t\tvalue: \"name\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"价值\",\r\n\t\t\tvalue: \"price\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"数量\",\r\n\t\t\tvalue: \"number\"\r\n\t\t}\r\n\t];\r\n};\r\nexport const styleConfig = (code: any) => {\r\n\tconst danmakuType = typeOptions().find((i: any) => {\r\n\t\treturn i.value === code;\r\n\t});\r\n\tif (!danmakuType) {\r\n\t\treturn {};\r\n\t}\r\n\treturn {\r\n\t\tlabel: danmakuType.label,\r\n\t\tcode,\r\n\t\ttype: danmakuType.type,\r\n\t\twidgets: [] // 具体组件样式\r\n\t};\r\n};\r\n","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\tformat: \"HH:mm:ss\",\r\n\t\t\tpreffix: \"\",\r\n\t\t\taffix: \"\"\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 16,\r\n\t\t\tfontWeight: \"lighter\",\r\n\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 0.6,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"example\" v-loading=\"loading\">\r\n\t\t<div class=\"start center-column\" v-if=\"danmakuStatus=='initial'\">\r\n\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"danmakuType='self';startDanmaku()\">自己的弹幕</el-button>\r\n\t\t\t<div class=\"title\">或者</div>\r\n\t\t\t<el-input size=\"mini\" style=\"width:200px\" v-model=\"liverUID\" placeholder=\"输入对方UID并按下enter\" @keydown.enter=\"danmakuType='other';startDanmaku()\" />\r\n\t\t</div>\r\n\t\t<div class=\"center-column\" v-else-if=\"danmakuStatus=='error'\">\r\n\t\t\t<div class=\"title\">出错啦</div>\r\n\t\t\t<div class=\"title\">{{errorText}}</div>\r\n\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"danmakuStatus='initial'\">重试</el-button>\r\n\t\t</div>\r\n\t\t<div class=\"center-column\" v-else-if=\"danmakuStatus=='end'\">\r\n\t\t\t<div class=\"title\">直播已结束</div>\r\n\t\t</div>\r\n\t\t<div v-else-if=\"danmakuStatus=='danmakuing'\" style=\"width:100%;height:100%\">\r\n\t\t\t<div class=\"info\"><img class=\"avatar\" :src=\"liverProfile.avatar\" />\r\n\t\t\t\t<div class=\"nickname\">{{liverProfile.nickname}}</div>\r\n\t\t\t</div>\r\n\t\t\t<flow :settings=\"style\" style=\"width:100%;height:calc(100% - 30px)\" :danmakuList=\"danmakuList\" :style=\"{zoom:`var(--zoom)`}\" />\r\n\t\t</div>\r\n\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>不透明度</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.opacity\" :min=\"10\" :max=\"100\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block\">\r\n\t\t\t\t<div>字体大小</div>\r\n\t\t\t\t<el-slider @change=\"upgradeSettings\" v-model=\"settings.zoom\" :min=\"50\" :max=\"150\" />\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport flow from \"@front/components/danmakuFlow/index.vue\";\r\nimport { isNormalDanmaku } from \"@front/components/danmakuFlow/utils/tester\";\r\nimport { danmaku, user, server } from \"@front/api\";\r\nimport { Filter } from \"@front/components/danmakuFlow/utils/common\";\r\nimport { ElMessageBox, ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"danmakuFlow\",\r\n\tcname: \"独立弹幕流\",\r\n\ticon: \"el-icon-chat-line-square\",\r\n\tdescription:\r\n\t\t\"单独的弹幕流窗口，用于偷窥别的主播的弹幕,不会显示点赞送礼等内容\",\r\n\tconfigurations: {\r\n\t\twidth: 150,\r\n\t\theight: 600,\r\n\t\tresizable: true,\r\n\t\tmultiple: true,\r\n\t\tliveOnly: false\r\n\t},\r\n\tcomponents: { flow },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdanmakuStatus: \"initial\",\r\n\t\t\tdanmakuType: \"self\",\r\n\t\t\tliverInfo: {\r\n\t\t\t\tnickname: \"\",\r\n\t\t\t\tavatar: \"\"\r\n\t\t\t},\r\n\t\t\tliverUID: \"\",\r\n\t\t\terrorText: \"\",\r\n\t\t\tloading: false,\r\n\t\t\tfilterFlow: [],\r\n\t\t\tsettingShow: false,\r\n\t\t\tfilter: new Filter(),\r\n\t\t\tstyle: {\r\n\t\t\t\tfilter: {\r\n\t\t\t\t\topen: true,\r\n\t\t\t\t\tvisitor: true,\r\n\t\t\t\t\tclubOnly: false,\r\n\t\t\t\t\tblackList: true,\r\n\t\t\t\t\tkeyword: true,\r\n\t\t\t\t\tcombineGift: true,\r\n\t\t\t\t\tcombineLike: false,\r\n\t\t\t\t\tcombineEnter: true,\r\n\t\t\t\t\ttypes: [1000]\r\n\t\t\t\t},\r\n\t\t\t\tmaxNum: 100,\r\n\t\t\t\tclubLevel: 0,\r\n\t\t\t\tspeed: \"slow\",\r\n\t\t\t\thightLight: {\r\n\t\t\t\t\tboss: true,\r\n\t\t\t\t\tmanager: false,\r\n\t\t\t\t\tconcerned: false\r\n\t\t\t\t},\r\n\t\t\t\tsettingOfType: {},\r\n\t\t\t\tanimation: true,\r\n\t\t\t\tblackList: [],\r\n\t\t\t\tkeywords: []\r\n\t\t\t},\r\n\t\t\tsettings: {\r\n\t\t\t\topacity: 50,\r\n\t\t\t\tzoom: 100\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient(\r\n\t\t\t[\"danmakuSession\", \"danmakuProfile\", \"userProfile\"],\r\n\t\t\te => {\r\n\t\t\t\tObject.assign(this.$store.state, e);\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t\tfetch(\"/styles/toolBox.json\")\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => {\r\n\t\t\t\tObject.assign(this.style.settingOfType, json);\r\n\t\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tthis.saveSettings();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuSession\", \"danmakuProfile\", \"userProfile\"]),\r\n\t\tdanmakuList() {\r\n\t\t\tif (this.danmakuType === \"self\") {\r\n\t\t\t\treturn this.danmakuSession.filterFlow;\r\n\t\t\t}\r\n\t\t\treturn this.filterFlow;\r\n\t\t},\r\n\t\tliverProfile() {\r\n\t\t\tif (this.danmakuType === \"self\") {\r\n\t\t\t\treturn this.userProfile;\r\n\t\t\t}\r\n\t\t\treturn this.liverInfo;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\treset() {\r\n\t\t\tthis.danmakuStatus = \"initial\";\r\n\t\t\tthis.danmakuType = \"self\";\r\n\t\t\tthis.liverUID = \"\";\r\n\t\t\tthis.errorText = \"\";\r\n\t\t},\r\n\t\tasync startDanmaku() {\r\n\t\t\tif (this.danmakuType === \"self\") {\r\n\t\t\t\tthis.danmakuStatus = \"danmakuing\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.loading = true;\r\n\t\t\tconst state = this.$store.state;\r\n\t\t\tthis.filterFlow = [];\r\n\t\t\tconst danmakuCallback = danmaku => {\r\n\t\t\t\tif (isNormalDanmaku(danmaku)) {\r\n\t\t\t\t\tconst settings = this.style;\r\n\t\t\t\t\tconst commonSettings = state.danmakuProfile.common;\r\n\t\t\t\t\tconst rank = state.rank;\r\n\r\n\t\t\t\t\t// auto click\r\n\r\n\t\t\t\t\tconst { list } = this.filter.filterUpdate(\r\n\t\t\t\t\t\t[danmaku],\r\n\t\t\t\t\t\tthis.filterFlow,\r\n\t\t\t\t\t\tsettings,\r\n\t\t\t\t\t\tcommonSettings,\r\n\t\t\t\t\t\trank\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.filterFlow = list;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst startCallback = res => {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.danmakuStatus = \"danmakuing\";\r\n\t\t\t};\r\n\t\t\tconst endCallback = () => {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.danmakuStatus = \"end\";\r\n\t\t\t};\r\n\t\t\tconst errorCallback = e => {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.errorText = e;\r\n\t\t\t\tthis.danmakuStatus = \"error\";\r\n\t\t\t\tif (window.wsl) window.wsl.close();\r\n\t\t\t};\r\n\t\t\tif (window.wsl) window.wsl.close();\r\n\t\t\tserver.init({\r\n\t\t\t\tonOpen: async () => {\r\n\t\t\t\t\tawait user.login({\r\n\t\t\t\t\t\taccount: \"\",\r\n\t\t\t\t\t\tpassword: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet res = {};\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tres = await user.isStreaming({\r\n\t\t\t\t\t\t\tuserID: parseInt(this.liverUID)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\t\tmessage: \"该用户不存在！\",\r\n\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst { nickname, avatar, liveID } = res;\r\n\t\t\t\t\tthis.liverInfo = {\r\n\t\t\t\t\t\tnickname,\r\n\t\t\t\t\t\tavatar\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (!liveID) {\r\n\t\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\t\tmessage: `${nickname} 这位用户不在直播！`,\r\n\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait ElMessageBox({\r\n\t\t\t\t\t\t\ttitle: `${nickname} 是这个主播吗？`,\r\n\t\t\t\t\t\t\tshowCancelButton: true,\r\n\t\t\t\t\t\t\tconfirmButtonText: \"系\",\r\n\t\t\t\t\t\t\tcancelButtonText: \"8是\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdanmaku\r\n\t\t\t\t\t\t.startDanmaku(\r\n\t\t\t\t\t\t\t{ userID: Number(this.liverUID) },\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tstartCallback,\r\n\t\t\t\t\t\t\t\tdanmakuCallback,\r\n\t\t\t\t\t\t\t\tendCallback,\r\n\t\t\t\t\t\t\t\terrorCallback\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\t\tthis.errorText = e;\r\n\t\t\t\t\t\t\tif (window.wsl) window.wsl.close();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tonClose: () => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.danmakuStatus = \"error\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${this.settings.zoom}%`);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\tcolor: white;\r\n}\r\n.example {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n.info {\r\n\theight: 30px;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 5px;\r\n\tborder-bottom: 1px rgba(255, 255, 255, 0.5) solid;\r\n}\r\n.avatar {\r\n\theight: 20px;\r\n\twidth: 20px;\r\n\tborder-radius: 100%;\r\n\tborder: 2px solid rgba(255, 255, 255, 0.5);\r\n\tflex-shrink: 0;\r\n}\r\n.nickname {\r\n\tflex-grow: 1;\r\n\tpadding: 0px 5px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tcolor: white;\r\n\tuser-select: none;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=dc8bc02a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=dc8bc02a&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-dc8bc02a\"\n\nexport default script","export const toANY = (obj: any): any => {\r\n\treturn obj;\r\n};\r\nexport const tostring = (obj: any): string => {\r\n\treturn String(obj);\r\n};\r\n","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./iconCounter.vue?vue&type=style&index=0&id=048bd500&scoped=true&lang=scss\"","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=490e82f9&scoped=true&lang=scss\"","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1d63315f&scoped=true&lang=scss\"","export interface Profile {\r\n\tliveID: string;\r\n\tstreamName: string;\r\n\ttitle: string;\r\n\tliveCover: string;\r\n\tliveStartTime: number;\r\n\tpanoramic: boolean;\r\n\tbizUnit: string;\r\n\tbizCustomData: any;\r\n}\r\n\r\nexport const profile = (): Profile => {\r\n\treturn {\r\n\t\tliveID: \"\",\r\n\t\tstreamName: \"\",\r\n\t\ttitle: \"\",\r\n\t\tliveCover: \"\",\r\n\t\tliveStartTime: 0,\r\n\t\tpanoramic: false,\r\n\t\tbizUnit: \"\",\r\n\t\tbizCustomData: null\r\n\t};\r\n};\r\n\r\nexport interface ProfileDetail extends Profile {\r\n\tliveType: {\r\n\t\tcategoryID: number;\r\n\t\tcategoryName: string;\r\n\t\tsubCategoryID: number;\r\n\t\tsubCategoryName: string;\r\n\t};\r\n\thasFansClub: boolean;\r\n\tlikeCount: number;\r\n\tonlineCount: number;\r\n\tportrait: boolean;\r\n\tpaidShowUserBuyStatus: boolean;\r\n\tdisableDanmakuShow: boolean;\r\n}\r\n\r\nexport const profileDetail = (): ProfileDetail => {\r\n\treturn {\r\n\t\t...profile(),\r\n\t\tliveType: category(),\r\n\t\thasFansClub: false,\r\n\t\tlikeCount: 0,\r\n\t\tonlineCount: 0,\r\n\t\tportrait: false,\r\n\t\tpaidShowUserBuyStatus: false,\r\n\t\tdisableDanmakuShow: false\r\n\t};\r\n};\r\n\r\nexport interface Category {\r\n\tcategoryID: number;\r\n\tcategoryName: string;\r\n\tsubCategoryID: number;\r\n\tsubCategoryName: string;\r\n}\r\n\r\nexport const category = (): Category => {\r\n\treturn {\r\n\t\tcategoryID: 1,\r\n\t\tcategoryName: \"\",\r\n\t\tsubCategoryID: 1,\r\n\t\tsubCategoryName: \"\"\r\n\t};\r\n};\r\n\r\nexport interface Statistic {\r\n\tlikeCount: number;\r\n\tgiftCount: number;\r\n\tdiamondCount: number;\r\n\tbananaCount: number;\r\n\twatchCount: number;\r\n\tduration: number;\r\n}\r\n\r\nexport const statistic = (): Statistic => {\r\n\treturn {\r\n\t\tlikeCount: 0,\r\n\t\tgiftCount: 0,\r\n\t\tdiamondCount: 0,\r\n\t\tbananaCount: 0,\r\n\t\twatchCount: 0,\r\n\t\tduration: 0\r\n\t};\r\n};\r\n\r\nexport interface Status {\r\n\tliveDurationTimer: any;\r\n\tgiftTimer: any;\r\n\tliveDuration: number;\r\n\twatchingCount: string;\r\n\tstatistic: Statistic;\r\n}\r\n\r\nexport const status = (): Status => {\r\n\treturn {\r\n\t\tliveDurationTimer: null,\r\n\t\tgiftTimer: null,\r\n\t\tliveDuration: 0,\r\n\t\twatchingCount: \"0\", // 弹幕直接获取\r\n\t\tstatistic: statistic()\r\n\t};\r\n};\r\n\r\nexport interface Rank {\r\n\trankList: Array<any>;\r\n\tclubName: string;\r\n\tmedalCount: number;\r\n\thasMedal: boolean;\r\n\tuserFriendshipDegree: number;\r\n\tuserRank: number;\r\n}\r\nexport const rank = (): Rank => {\r\n\treturn {\r\n\t\trankList: [],\r\n\t\tclubName: \"\",\r\n\t\tmedalCount: 0,\r\n\t\thasMedal: true,\r\n\t\tuserFriendshipDegree: 0,\r\n\t\tuserRank: 0\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"avatar\" :style=\"style\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getAvatar } from \"../../utils/getter\";\r\nimport {\r\n\tsize,\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"avatar\",\r\n\tcname: \"用户头像\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...size(style),\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\tbackground: `url(${getAvatar(this.danmaku)})!important`\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.avatar {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tbackground-position: center;\r\n\tbackground-size: 100%;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getAvatar } from \"../../utils/getter\";\r\nimport {\r\n\tsize,\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"avatar\",\r\n\tcname: \"用户头像\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...size(style),\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style),\r\n\t\t\t\tbackground: `url(${getAvatar(this.danmaku)})!important`\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=299db1ae&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=299db1ae&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-299db1ae\"\n\nexport default script","<template>\r\n\t<span class=\"content\" :style=\"style\">{{getRichText(danmaku)}}</span>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport { getRichText } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"richText\",\r\n\tcname: \"系统消息\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1006],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: { getRichText }\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.content {\r\n\tdisplay: inline;\r\n\tposition: relative;\r\n\tword-break: break-all;\r\n\tword-wrap: break-word;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport { getRichText } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"richText\",\r\n\tcname: \"系统消息\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1006],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: { getRichText }\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=d67e34c2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=d67e34c2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-d67e34c2\"\n\nexport default script","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\tdegree: true,\r\n\t\t\tname: true\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\twidth: 25,\r\n\t\t\theight: 25,\r\n\t\t\t// 边距\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\t// 背景\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\",\r\n\t\t\tverticalAlign: \"middle\"\r\n\t\t}\r\n\t};\r\n};\r\n","import { wsPromise, wsStatus } from \"@front/api/utils/websocket\";\r\nimport { Event, event as sysEvent } from \"@front/util_function/eventBus\";\r\n\r\nclass WsEvent extends Event {\r\n\tregistered = false;\r\n\tid = \"\";\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.id = \"\";\r\n\t}\r\n\r\n\tregister(id: string) {\r\n\t\tif (!this.checkRegister()) {\r\n\t\t\treturn wsPromise(\"register\", {\r\n\t\t\t\ttype: 3,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tclientID: id\r\n\t\t\t\t}\r\n\t\t\t}).then(() => {\r\n\t\t\t\twsStatus.ws.addEventListener(\"message\", (e: any) => {\r\n\t\t\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\t\t\tif (data.type === 5) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow new Error(data.error);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst realData = JSON.parse(data.data.message);\r\n\t\t\t\t\t\t\tif (realData.sourceID !== this.id) {\r\n\t\t\t\t\t\t\t\tthis.emit(realData.event, realData.data);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\twsStatus.ws.addEventListener(\"close\", (e: any) => {\r\n\t\t\t\t\tthis.registered = false;\r\n\t\t\t\t});\r\n\t\t\t\tthis.registered = true;\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tthis.emit(\"registered\");\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\treRegister() {\r\n\t\tif (this.id) {\r\n\t\t\treturn this.register(this.id);\r\n\t\t} else {\r\n\t\t\tconsole.log(\"not registered yet!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tcheckRegister() {\r\n\t\tif (!this.registered) console.log(\"unregistered yet!\");\r\n\t\treturn this.registered;\r\n\t}\r\n\r\n\twsEmit(eventName: any, data: any = {}, targetID = \"\") {\r\n\t\tconst promise = () => {\r\n\t\t\treturn wsPromise(\"message-broadcast\", {\r\n\t\t\t\ttype: 4,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tclientID: targetID,\r\n\t\t\t\t\tmessage: JSON.stringify({\r\n\t\t\t\t\t\tsourceID: this.id,\r\n\t\t\t\t\t\tevent: eventName,\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\tif (this.checkRegister()) {\r\n\t\t\treturn promise();\r\n\t\t}\r\n\t\t//  else {\r\n\t\t// \tthis.once(\"registered\", promise);\r\n\t\t// \treturn true;\r\n\t\t// }\r\n\t}\r\n}\r\n\r\nexport const wsevent = new WsEvent();\r\n","<template>\r\n\t<div class=\"normal-block\" :style=\"style\" v-html=\"getContent(danmaku)\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport replace from \"lodash/replace\";\r\nimport { escapeRegExp } from \"@front/util_function/base\";\r\nimport {\r\n\tsize,\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nexport default defineComponent({\r\n\tname: \"normalBlock\",\r\n\tcname: \"自定义模块\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"temp\"]),\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...size(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetContent() {\r\n\t\t\tlet content = this.setting?.config?.text;\r\n\t\t\tif (!content) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tif (!this.danmakuProfile.common?.emotion) {\r\n\t\t\t\treturn content;\r\n\t\t\t}\r\n\t\t\tlet { emojiTester, emojiMatcher } = this.temp;\r\n\t\t\tif (!emojiTester || !emojiMatcher) {\r\n\t\t\t\tconst { matcher, tester } = this.generateTester();\r\n\t\t\t\temojiTester = this.temp.emojiTester = tester;\r\n\t\t\t\temojiMatcher = this.temp.emojiMatcher = matcher;\r\n\t\t\t}\r\n\t\t\tif (isElectron()) {\r\n\t\t\t\t[...content.matchAll(/ac\\d+/g)].forEach(match => {\r\n\t\t\t\t\tcontent = replace(\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\tmatch[0],\r\n\t\t\t\t\t\t`<a target=\"_blank\" href=\"https://www.acfun.cn/v/${match[0]}\" style=\"color:rgb(100,238,238)\">${match[0]}(点击查看)</a>`\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst max = this.danmakuProfile.common.emotionMax || 3;\r\n\t\t\t[...content.matchAll(emojiTester)].forEach((match, index) => {\r\n\t\t\t\tif (!emojiMatcher[match[0]]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet replacement = \"\";\r\n\t\t\t\tif (index < max) {\r\n\t\t\t\t\treplacement = `<img style=\"max-width:${\r\n\t\t\t\t\t\temojiMatcher[match[0]].scale\r\n\t\t\t\t\t}px;margin-left:8px;margin-top:8px;vertical-align:bottom\" src=\"${\r\n\t\t\t\t\t\temojiMatcher[match[0]].url\r\n\t\t\t\t\t}\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tcontent = content.replace(match[0], replacement);\r\n\t\t\t});\r\n\t\t\treturn content;\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst matcher = {};\r\n\t\t\tconst testerArr: any = [];\r\n\t\t\tthis.danmakuProfile.common.emojis.forEach((emoji: any) => {\r\n\t\t\t\tconst regex = escapeRegExp(emoji.pattern);\r\n\t\t\t\ttesterArr.push(regex);\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tmatcher[emoji.pattern] = {\r\n\t\t\t\t\turl: emoji.url,\r\n\t\t\t\t\tscale: emoji.scale,\r\n\t\t\t\t\tregex: new RegExp(regex, \"g\")\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tconst tester = (this.temp.emojiTester = new RegExp(\r\n\t\t\t\ttesterArr.join(\"|\"),\r\n\t\t\t\t\"g\"\r\n\t\t\t));\r\n\t\t\tthis.temp.emojiMatcher = matcher;\r\n\t\t\treturn {\r\n\t\t\t\ttester,\r\n\t\t\t\tmatcher\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.normal-block {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tbackground-size: 100% 100%;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport replace from \"lodash/replace\";\r\nimport { escapeRegExp } from \"@front/util_function/base\";\r\nimport {\r\n\tsize,\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nexport default defineComponent({\r\n\tname: \"normalBlock\",\r\n\tcname: \"自定义模块\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"temp\"]),\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...size(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetContent() {\r\n\t\t\tlet content = this.setting?.config?.text;\r\n\t\t\tif (!content) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tif (!this.danmakuProfile.common?.emotion) {\r\n\t\t\t\treturn content;\r\n\t\t\t}\r\n\t\t\tlet { emojiTester, emojiMatcher } = this.temp;\r\n\t\t\tif (!emojiTester || !emojiMatcher) {\r\n\t\t\t\tconst { matcher, tester } = this.generateTester();\r\n\t\t\t\temojiTester = this.temp.emojiTester = tester;\r\n\t\t\t\temojiMatcher = this.temp.emojiMatcher = matcher;\r\n\t\t\t}\r\n\t\t\tif (isElectron()) {\r\n\t\t\t\t[...content.matchAll(/ac\\d+/g)].forEach(match => {\r\n\t\t\t\t\tcontent = replace(\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\tmatch[0],\r\n\t\t\t\t\t\t`<a target=\"_blank\" href=\"https://www.acfun.cn/v/${match[0]}\" style=\"color:rgb(100,238,238)\">${match[0]}(点击查看)</a>`\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst max = this.danmakuProfile.common.emotionMax || 3;\r\n\t\t\t[...content.matchAll(emojiTester)].forEach((match, index) => {\r\n\t\t\t\tif (!emojiMatcher[match[0]]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet replacement = \"\";\r\n\t\t\t\tif (index < max) {\r\n\t\t\t\t\treplacement = `<img style=\"max-width:${\r\n\t\t\t\t\t\temojiMatcher[match[0]].scale\r\n\t\t\t\t\t}px;margin-left:8px;margin-top:8px;vertical-align:bottom\" src=\"${\r\n\t\t\t\t\t\temojiMatcher[match[0]].url\r\n\t\t\t\t\t}\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tcontent = content.replace(match[0], replacement);\r\n\t\t\t});\r\n\t\t\treturn content;\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst matcher = {};\r\n\t\t\tconst testerArr: any = [];\r\n\t\t\tthis.danmakuProfile.common.emojis.forEach((emoji: any) => {\r\n\t\t\t\tconst regex = escapeRegExp(emoji.pattern);\r\n\t\t\t\ttesterArr.push(regex);\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tmatcher[emoji.pattern] = {\r\n\t\t\t\t\turl: emoji.url,\r\n\t\t\t\t\tscale: emoji.scale,\r\n\t\t\t\t\tregex: new RegExp(regex, \"g\")\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tconst tester = (this.temp.emojiTester = new RegExp(\r\n\t\t\t\ttesterArr.join(\"|\"),\r\n\t\t\t\t\"g\"\r\n\t\t\t));\r\n\t\t\tthis.temp.emojiMatcher = matcher;\r\n\t\t\treturn {\r\n\t\t\t\ttester,\r\n\t\t\t\tmatcher\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=1d63315f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1d63315f&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1d63315f\"\n\nexport default script","<template>\r\n\t<div class=\"handleMoving\" @mousedown=\"addMovingListener\">\r\n\t\t<slot />\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { win } from \"@front/util_function/system\";\r\nexport default defineComponent({\r\n\tname: \"handleMoving\",\r\n\tdata() {\r\n\t\tconst size: any = null;\r\n\t\treturn {\r\n\t\t\tsize\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\taddMovingListener(e: MouseEvent): void {\r\n\t\t\tconst startX = e.screenX;\r\n\t\t\tconst startY = e.screenY;\r\n\t\t\tconst winPosition = win.getPosition();\r\n\t\t\tconst setPosition = (evt: MouseEvent) => {\r\n\t\t\t\tif (!this.size) {\r\n\t\t\t\t\tthis.size = {\r\n\t\t\t\t\t\theight: window.innerHeight,\r\n\t\t\t\t\t\twidth: window.innerWidth\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\twin.setBounds({\r\n\t\t\t\t\t...this.size,\r\n\t\t\t\t\tx: winPosition[0] + (evt.screenX - startX),\r\n\t\t\t\t\ty: winPosition[1] + (evt.screenY - startY)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\twindow.addEventListener(\"mousemove\", setPosition);\r\n\t\t\twindow.addEventListener(\r\n\t\t\t\t\"mouseup\",\r\n\t\t\t\t() => {\r\n\t\t\t\t\twindow.removeEventListener(\"mousemove\", setPosition);\r\n\t\t\t\t\tthis.size = null;\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tonce: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.handleMoving {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { win } from \"@front/util_function/system\";\r\nexport default defineComponent({\r\n\tname: \"handleMoving\",\r\n\tdata() {\r\n\t\tconst size: any = null;\r\n\t\treturn {\r\n\t\t\tsize\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\taddMovingListener(e: MouseEvent): void {\r\n\t\t\tconst startX = e.screenX;\r\n\t\t\tconst startY = e.screenY;\r\n\t\t\tconst winPosition = win.getPosition();\r\n\t\t\tconst setPosition = (evt: MouseEvent) => {\r\n\t\t\t\tif (!this.size) {\r\n\t\t\t\t\tthis.size = {\r\n\t\t\t\t\t\theight: window.innerHeight,\r\n\t\t\t\t\t\twidth: window.innerWidth\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\twin.setBounds({\r\n\t\t\t\t\t...this.size,\r\n\t\t\t\t\tx: winPosition[0] + (evt.screenX - startX),\r\n\t\t\t\t\ty: winPosition[1] + (evt.screenY - startY)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\twindow.addEventListener(\"mousemove\", setPosition);\r\n\t\t\twindow.addEventListener(\r\n\t\t\t\t\"mouseup\",\r\n\t\t\t\t() => {\r\n\t\t\t\t\twindow.removeEventListener(\"mousemove\", setPosition);\r\n\t\t\t\t\tthis.size = null;\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tonce: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./HandlerMoving.vue?vue&type=template&id=0c17ee82&scoped=true\"\nimport script from \"./HandlerMoving.vue?vue&type=script&lang=ts\"\nexport * from \"./HandlerMoving.vue?vue&type=script&lang=ts\"\n\nimport \"./HandlerMoving.vue?vue&type=style&index=0&id=0c17ee82&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0c17ee82\"\n\nexport default script","export const isElectron = (): boolean => {\r\n\treturn Boolean(window && window.process && window.process.type);\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./obs.vue?vue&type=style&index=0&id=3a4f0dda&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=675a3715&scoped=true&lang=scss\"","<template>\r\n\t<span class=\"content\" :style=\"style\" v-html=\"content\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { getContent } from \"../../utils/getter\";\r\nimport replace from \"lodash/replace\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nimport { escapeRegExp } from \"@front/util_function/base\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"content\",\r\n\tcname: \"弹幕文字\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"temp\"]),\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tcontent(): any {\r\n\t\t\tconst prefix = this.setting?.config?.preffix || \"\";\r\n\t\t\tconst affix = this.setting?.config?.affix || \"\";\r\n\t\t\treturn `${prefix}${this.getContent(this.danmaku)}${affix}`;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetContent(danmaku: any) {\r\n\t\t\tlet content = getContent(danmaku);\r\n\t\t\tif (!this.danmakuProfile?.common?.emotion || this.configMode) {\r\n\t\t\t\treturn content;\r\n\t\t\t}\r\n\t\t\tlet { emojiTester, emojiMatcher } = this.temp;\r\n\t\t\tif (!emojiTester || !emojiMatcher) {\r\n\t\t\t\tconst { matcher, tester } = this.generateTester();\r\n\t\t\t\temojiTester = this.temp.emojiTester = tester;\r\n\t\t\t\temojiMatcher = this.temp.emojiMatcher = matcher;\r\n\t\t\t}\r\n\t\t\tif (isElectron()) {\r\n\t\t\t\t[...content.matchAll(/(ac|AC|aC|Ac)\\d+/g)].forEach(match => {\r\n\t\t\t\t\tcontent = replace(\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\tmatch[0],\r\n\t\t\t\t\t\t`<a target=\"_blank\" href=\"https://www.acfun.cn/v/${match[0]}\" style=\"color:rgb(100,238,238)\">${match[0]}(点击查看)</a>`\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst max = this.danmakuProfile.common.emotionMax || 3;\r\n\t\t\t[...content.matchAll(emojiTester)].forEach((match, index) => {\r\n\t\t\t\tif (!emojiMatcher[match[0]]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet replacement = \"\";\r\n\t\t\t\tif (index < max) {\r\n\t\t\t\t\treplacement = `<img style=\"max-width:${\r\n\t\t\t\t\t\temojiMatcher[match[0]].scale\r\n\t\t\t\t\t}px;margin-left:8px;margin-top:8px;vertical-align:bottom\" src=\"${\r\n\t\t\t\t\t\temojiMatcher[match[0]].url\r\n\t\t\t\t\t}\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tcontent = content.replace(match[0], replacement);\r\n\t\t\t});\r\n\t\t\treturn content;\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst matcher = {};\r\n\t\t\tconst testerArr: any = [];\r\n\t\t\tthis.danmakuProfile.common.emojis.forEach((emoji: any) => {\r\n\t\t\t\tconst regex = escapeRegExp(emoji.pattern);\r\n\t\t\t\ttesterArr.push(regex);\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tmatcher[emoji.pattern] = {\r\n\t\t\t\t\turl: emoji.url,\r\n\t\t\t\t\tscale: emoji.scale,\r\n\t\t\t\t\tregex: new RegExp(regex, \"g\")\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tconst tester = (this.temp.emojiTester = new RegExp(\r\n\t\t\t\ttesterArr.join(\"|\"),\r\n\t\t\t\t\"g\"\r\n\t\t\t));\r\n\t\t\tthis.temp.emojiMatcher = matcher;\r\n\t\t\treturn {\r\n\t\t\t\ttester,\r\n\t\t\t\tmatcher\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.content {\r\n\tdisplay: inline;\r\n\tposition: relative;\r\n\tword-break: break-all;\r\n\tword-wrap: break-word;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { getContent } from \"../../utils/getter\";\r\nimport replace from \"lodash/replace\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nimport { escapeRegExp } from \"@front/util_function/base\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"content\",\r\n\tcname: \"弹幕文字\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"temp\"]),\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tcontent(): any {\r\n\t\t\tconst prefix = this.setting?.config?.preffix || \"\";\r\n\t\t\tconst affix = this.setting?.config?.affix || \"\";\r\n\t\t\treturn `${prefix}${this.getContent(this.danmaku)}${affix}`;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetContent(danmaku: any) {\r\n\t\t\tlet content = getContent(danmaku);\r\n\t\t\tif (!this.danmakuProfile?.common?.emotion || this.configMode) {\r\n\t\t\t\treturn content;\r\n\t\t\t}\r\n\t\t\tlet { emojiTester, emojiMatcher } = this.temp;\r\n\t\t\tif (!emojiTester || !emojiMatcher) {\r\n\t\t\t\tconst { matcher, tester } = this.generateTester();\r\n\t\t\t\temojiTester = this.temp.emojiTester = tester;\r\n\t\t\t\temojiMatcher = this.temp.emojiMatcher = matcher;\r\n\t\t\t}\r\n\t\t\tif (isElectron()) {\r\n\t\t\t\t[...content.matchAll(/(ac|AC|aC|Ac)\\d+/g)].forEach(match => {\r\n\t\t\t\t\tcontent = replace(\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\tmatch[0],\r\n\t\t\t\t\t\t`<a target=\"_blank\" href=\"https://www.acfun.cn/v/${match[0]}\" style=\"color:rgb(100,238,238)\">${match[0]}(点击查看)</a>`\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst max = this.danmakuProfile.common.emotionMax || 3;\r\n\t\t\t[...content.matchAll(emojiTester)].forEach((match, index) => {\r\n\t\t\t\tif (!emojiMatcher[match[0]]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet replacement = \"\";\r\n\t\t\t\tif (index < max) {\r\n\t\t\t\t\treplacement = `<img style=\"max-width:${\r\n\t\t\t\t\t\temojiMatcher[match[0]].scale\r\n\t\t\t\t\t}px;margin-left:8px;margin-top:8px;vertical-align:bottom\" src=\"${\r\n\t\t\t\t\t\temojiMatcher[match[0]].url\r\n\t\t\t\t\t}\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tcontent = content.replace(match[0], replacement);\r\n\t\t\t});\r\n\t\t\treturn content;\r\n\t\t},\r\n\t\tgenerateTester() {\r\n\t\t\tconst matcher = {};\r\n\t\t\tconst testerArr: any = [];\r\n\t\t\tthis.danmakuProfile.common.emojis.forEach((emoji: any) => {\r\n\t\t\t\tconst regex = escapeRegExp(emoji.pattern);\r\n\t\t\t\ttesterArr.push(regex);\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tmatcher[emoji.pattern] = {\r\n\t\t\t\t\turl: emoji.url,\r\n\t\t\t\t\tscale: emoji.scale,\r\n\t\t\t\t\tregex: new RegExp(regex, \"g\")\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tconst tester = (this.temp.emojiTester = new RegExp(\r\n\t\t\t\ttesterArr.join(\"|\"),\r\n\t\t\t\t\"g\"\r\n\t\t\t));\r\n\t\t\tthis.temp.emojiMatcher = matcher;\r\n\t\t\treturn {\r\n\t\t\t\ttester,\r\n\t\t\t\tmatcher\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=93dbe516&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=93dbe516&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-93dbe516\"\n\nexport default script","<template>\r\n\t<div class=\"rowSpan\" :style=\"{width:`${span*100/12}%`}\">\r\n\t\t<slot />\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rowSpan\",\r\n\tprops: {\r\n\t\tspan: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 12\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang=\"scss\">\r\n.rowSpan {\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tpadding-right: 16px;\r\n\tbox-sizing: border-box;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rowSpan\",\r\n\tprops: {\r\n\t\tspan: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 12\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./rowSpan.vue?vue&type=template&id=73e9480d\"\nimport script from \"./rowSpan.vue?vue&type=script&lang=ts\"\nexport * from \"./rowSpan.vue?vue&type=script&lang=ts\"\n\nimport \"./rowSpan.vue?vue&type=style&index=0&id=73e9480d&lang=scss\"\nscript.render = render\n\nexport default script","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tstringF,\r\n\tgradientF,\r\n\tbackgroundImageF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttext: stringF(\"自定义文字\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\twidth: integerF(\"宽度\", \"25%\"),\r\n\t\t\t\t\theight: integerF(\"高度\", \"25%\"),\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"25%\"),\r\n\t\t\t\t\tzIndex: integerF(\"层级\", \"75%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\ttextDecoration: selectF(\r\n\t\t\t\t\t\t\"装饰\",\r\n\t\t\t\t\t\tstyle.textDecoration(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tbackgroundImage: backgroundImageF(\"背景图片\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\tpreffix: \"\",\r\n\t\t\taffix: \"\"\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 16,\r\n\t\t\tfontWeight: \"lighter\",\r\n\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 0.6,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","<template>\r\n\t<div id=\"home\">\r\n\t\t<div class=\"minify-bar\">\r\n\t\t\t<handler-moving class=\"handler\">{{$route.meta.cname}}</handler-moving>\r\n\t\t\t<div class=\"button el-icon-refresh-right\" @click=\"reset()\" title=\"重置\" />\r\n\t\t\t<div class=\"button el-icon-setting\" v-if=\"hasSetting\" @click=\"hasSetting()\" title=\"设置\" />\r\n\t\t\t<div class=\"button el-icon-coordinate \" :class=\"{active:isTop}\" @click=\"isTop = !isTop;setTop(isTop)\" title=\"置顶\" />\r\n\t\t\t<div class=\"button el-icon-minus\" @click=\"minimize()\" title=\"最小化\" />\r\n\t\t\t<div class=\"button el-icon-close\" @click=\"close()\" title=\"退出\" />\r\n\t\t</div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<router-view v-slot=\"{ Component }\">\r\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t\t\t<component @hasSetting=\"hasSetting=$event\" :is=\"Component\" />\r\n\t\t\t\t</transition>\r\n\t\t\t</router-view>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { setTop, minimize, close } from \"@front/util_function/system\";\r\nimport HandlerMoving from \"@front/components/system/HandlerMoving.vue\";\r\nexport default defineComponent({\r\n\tname: \"home\",\r\n\tcomponents: { HandlerMoving },\r\n\tmethods: {\r\n\t\tsetTop,\r\n\t\tminimize,\r\n\t\tclose,\r\n\t\treset() {\r\n\t\t\twindow.location.reload();\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thasSetting: false,\r\n\t\t\tisTop: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tdocument.body.classList.add(\"applet\");\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n\r\n#home {\r\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfont-size: $--font-size-base;\r\n\tbox-shadow: $--box-shadow-dark;\r\n\tposition: absolute;\r\n\tbackground-color: rgba(0, 0, 0, var(--opacity));\r\n\ttransition: all 0.5s;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tborder-radius: $--border-radius-small;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n}\r\n.content {\r\n\tposition: absolute;\r\n\ttop: 24px;\r\n\twidth: 100%;\r\n\theight: calc(100% - 24px);\r\n}\r\n.handler {\r\n\tflex-grow: 1;\r\n\tcolor: white;\r\n\tpadding: 0px 8px;\r\n\tjustify-content: flex-start;\r\n}\r\n.minify-bar {\r\n\theight: 24px;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tposition: absolute;\r\n\ttransition: background-color 0.25s;\r\n\tright: 0px;\r\n\ttop: 0px !important;\r\n\tcursor: move;\r\n\tuser-select: none;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t.button {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tcursor: pointer;\r\n\t\tborder: none;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tfont-size: 14px;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 0px;\r\n\t\tpadding: 2px 8px;\r\n\t\tmargin: 0px;\r\n\t\ttransition: background-color 0.25s;\r\n\t\t&:hover,\r\n\t\t&.active {\r\n\t\t\tbackground-color: rgba(255, 255, 255, 0.25);\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n@import \"@front/styles/scrollbar.scss\";\r\nbody.applet {\r\n\tpadding: 0px !important;\r\n\t.el-scrollbar {\r\n\t\tmax-height: 100px;\r\n\t}\r\n}\r\n.applet {\r\n\t.el-dialog {\r\n\t\twidth: 100% !important;\r\n\t\tbottom: 0px !important;\r\n\t\tposition: absolute;\r\n\t}\r\n\t.el-overlay {\r\n\t\tmargin: 0px !important;\r\n\t\theight: 100% !important;\r\n\t\twidth: 100% !important;\r\n\t\tpointer-events: none;\r\n\t\t& > div {\r\n\t\t\tpointer-events: all;\r\n\t\t\tmargin: 0px !important;\r\n\t\t\tmax-height: calc(100vh - 25px);\r\n\t\t\t@include scrollbarDark();\r\n\t\t}\r\n\t}\r\n\t.el-message-box {\r\n\t\tposition: absolute;\r\n\t\tleft: 0px;\r\n\t\ttop: 20%;\r\n\t\twidth: 100vw;\r\n\t\tz-index: 10000;\r\n\t\tpointer-events: all;\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=7cbfd3e9&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7cbfd3e9&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=7cbfd3e9&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7cbfd3e9\"\n\nexport default script","import { clientApplets } from \"@front/applets\";\r\nimport appletLayout from \"@front/layouts/applets/index.vue\";\r\nexport default {\r\n\tname: \"applets\",\r\n\tpath: \"/applets\",\r\n\tcomponent: appletLayout,\r\n\tchildren: clientApplets.map(({ name, component, cname }: any) => {\r\n\t\treturn {\r\n\t\t\tname,\r\n\t\t\tcomponent,\r\n\t\t\tmeta: {\r\n\t\t\t\tcname\r\n\t\t\t},\r\n\t\t\tpath: `/applets/${name}`\r\n\t\t};\r\n\t})\r\n};\r\n","import { obsApplets } from \"@front/applets\";\r\nexport default [\r\n\t{\r\n\t\tpath: \"/obs/danmaku\",\r\n\t\tname: \"danmaku\",\r\n\t\tmeta: {\r\n\t\t\tlabel: \"弹幕流\",\r\n\t\t\ticon: \"el-icon-chat-line-square\",\r\n\t\t\taction: \"router\",\r\n\t\t\tnoElectron: true\r\n\t\t},\r\n\t\tcomponent: () => import(\"@/electron_browser/views/danmakuWeb/index.vue\")\r\n\t},\r\n\t// ...testRouters,\r\n\t...obsApplets.map(({ name, component, cname }: any) => {\r\n\t\treturn {\r\n\t\t\tname,\r\n\t\t\tcomponent,\r\n\t\t\tmeta: {\r\n\t\t\t\tcname,\r\n\t\t\t\tnoElectron: true\r\n\t\t\t},\r\n\t\t\tpath: `/obs/${name}`\r\n\t\t};\r\n\t}),\r\n\t{\r\n\t\tpath: \"/404\",\r\n\t\tname: \"404\",\r\n\t\tcomponent: () => import(\"@front/views/error-page/404.vue\")\r\n\t}\r\n];\r\n","import { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nimport client from \"./clientRouter\";\r\nimport appletRouter from \"./appletRouter\";\r\nimport web from \"./webRouter\";\r\nconst routes: Array<RouteRecordRaw> = isElectron()\r\n\t? [...client, appletRouter]\r\n\t: web;\r\n\r\nconst router = createRouter({\r\n\thistory: createWebHistory(process.env.BASE_URL),\r\n\troutes\r\n});\r\nif (!isElectron() || process.env.NODE_ENV === \"production\") {\r\n\trouter.beforeEach((to, from, next) => {\r\n\t\tif (!isElectron()) {\r\n\t\t\tif (to.meta.noElectron || to.name === \"404\") {\r\n\t\t\t\tnext();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tnext({\r\n\t\t\t\tname: \"404\"\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// @ts-ignore\r\n\t\t\tif (to.meta.disabled && to.meta.disabled()) {\r\n\t\t\t\tnext(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (to.fullPath.includes(\"applet\")) {\r\n\t\t\t\tnext();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (sessionStorage.getItem(\"logined\") === \"true\") {\r\n\t\t\t\tif (to.name !== \"Login\") {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tnext({\r\n\t\t\t\t\tname: \"dashboard\"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (to.name === \"Login\") {\r\n\t\t\t\tnext();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tnext({\r\n\t\t\t\tname: \"Login\"\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport default router;\r\n","<!--\r\n ! AcFunlive toolbox client, AcFun直播工具箱的客戶端\r\n ! 版權所有 (C) 2020 ACFUN-FOC(ACFUN自由與開源9課)\r\n ! 此程序爲自由軟件：本程序遵守自由軟件聯盟(FSF)所發佈之GNU Affero通用公共許可第三版。\r\n ! 在此條約下、伱可以再發行・修改之。\r\n ! 我等開發者希望本程序能是實用的軟件、竝心懷如此願望而發佈。但此程序\r\n ! ！       ！       ！       ！\r\n ! 無       有       擔       保  。\r\n ! ！       ！       ！       ！\r\n ! 無 有 任 何 擔 保 。甚至不保證它能有用・能對伱產生經濟效益。\r\n ! 伱應該收到了一份GNU Affero通用公共許可第三版、它伴隨着本程序。若伱沒有收到，請查閱\r\n ! <http://www.gnu.org/licenses/>。同時提供伱的電子郵寄地址或傳統的郵件聯繫方式。\r\n-->\r\n\r\n<template>\r\n\t<div id=\"app\" :class=\"{logined:$store.state.isLogined}\">\r\n\t\t<router-view v-slot=\"{ Component }\">\r\n\t\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t\t<component :is=\"Component\" />\r\n\t\t\t</transition>\r\n\t\t</router-view>\r\n\t</div>\r\n\r\n</template>\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { logout } from \"@front/util_function/login\";\r\nexport default defineComponent({\r\n\tname: \"app\"\r\n});\r\n</script>\r\n<style lang=\"scss\">\r\nhtml,\r\nbody {\r\n\tmargin: 0px;\r\n\tpadding: 0px;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-color: transparent !important;\r\n\tposition: absolute;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n}\r\nbody {\r\n\tpadding: 12px;\r\n}\r\n#app {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { logout } from \"@front/util_function/login\";\r\nexport default defineComponent({\r\n\tname: \"app\"\r\n});\r\n","import { render } from \"./App.vue?vue&type=template&id=451fcd92\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=451fcd92&lang=scss\"\nscript.render = render\n\nexport default script","import { App } from \"vue\";\r\nexport const initGlobalComp = (vm: App) => {\r\n\tconst requireComponent = require.context(\r\n\t\t\"@front/components/base/\",\r\n\t\ttrue,\r\n\t\t/\\w+\\.(vue)$/\r\n\t);\r\n\r\n\trequireComponent.keys().forEach(fileName => {\r\n\t\tconst componentConfig = requireComponent(fileName);\r\n\t\tvm.component(\r\n\t\t\tcomponentConfig.default.name ||\r\n\t\t\t\tfileName.replace(\"./\", \"\").replace(\".vue\", \"\"),\r\n\t\t\tcomponentConfig.default || componentConfig\r\n\t\t);\r\n\t});\r\n};\r\n","export const dpiOptions = () => {\r\n\treturn [\r\n\t\t[1, \"100%\"],\r\n\t\t[1.25, \"100%\"],\r\n\t\t[1.5, \"93%\"],\r\n\t\t[1.75, \"80%\"]\r\n\t];\r\n};\r\n","import { listenDpi } from \"./listeners\";\r\nimport { dpiOptions } from \"@front/datas/common\";\r\nimport { log } from \"@front/util_function/system\";\r\nimport { common } from \"@front/texts\";\r\nconst dpiOption: any = dpiOptions();\r\n\r\nexport const dpiHandler = () => {\r\n\tconst dpi = window.devicePixelRatio;\r\n\tfor (const i of dpiOption.reverse()) {\r\n\t\tif (dpi >= i[0]) {\r\n\t\t\tdocument.body.style.zoom = i[1];\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tdocument.body.style.zoom = \"100%\";\r\n};\r\nexport const logger = () => {\r\n\tconst ept = () => 1;\r\n\tif (process.env.NODE_ENV === \"production\") {\r\n\t\t// const newConsole: any = {};\r\n\t\t// Object.keys(console).forEach(key => {\r\n\t\t// \tnewConsole[key] = ept;\r\n\t\t// });\r\n\t\t// Object.assign(console, newConsole);\r\n\t\tconst error = console.error;\r\n\t\tconst lg = console.log;\r\n\t\tconsole.error = (e: any) => {\r\n\t\t\terror(e);\r\n\t\t\tif (e instanceof Error) {\r\n\t\t\t\tlog(String(e.stack) + `@${common().version}`);\r\n\t\t\t}\r\n\t\t};\r\n\t\tconsole.log = (...e: any) => {\r\n\t\t\tlg(...e);\r\n\t\t\tlog(JSON.stringify(e));\r\n\t\t};\r\n\t\twindow.addEventListener(\"unhandledrejection\", e => {\r\n\t\t\tif (e.reason instanceof Error) {\r\n\t\t\t\tlog(String(e.reason.stack) + `@${common().version}`);\r\n\t\t\t}\r\n\t\t});\r\n\t\twindow.addEventListener(\"error\", e => {\r\n\t\t\tlog(String(e.error.stack) + `@${common().version}`);\r\n\t\t});\r\n\t}\r\n};\r\nexport const globalMethods = [dpiHandler, logger];\r\n\r\nexport const registerMethod = () => {\r\n\tglobalMethods.forEach((handler: any) => {\r\n\t\thandler();\r\n\t});\r\n};\r\n","/*\r\n * AcFunlive toolbox client, AcFun直播工具箱的客戶端\r\n * 版權所有 (C) 2020 ACFUN-FOC(ACFUN自由與開源9課)\r\n * 此程序爲自由軟件：本程序遵守自由軟件聯盟(FSF)所發佈之GNU Affero通用公共許可第三版。\r\n * 在此條約下、伱可以再發行・修改之。\r\n * 我等開發者希望本程序能是實用的軟件、竝心懷如此願望而發佈。但此程序\r\n * ！       ！       ！       ！\r\n * 無       有       擔       保  。\r\n * ！       ！       ！       ！\r\n * 無 有 任 何 擔 保 。甚至不保證它能有用・能對伱產生經濟效益。\r\n * 伱應該收到了一份GNU Affero通用公共許可第三版、它伴隨着本程序。若伱沒有收到，請查閱\r\n * <http://www.gnu.org/licenses/>。同時提供伱的電子郵寄地址或傳統的郵件聯繫方式。\r\n */\r\nimport \"@front/styles/index.scss\";\r\nimport ElementPlus from \"element-plus\";\r\nimport store from \"@front/store\";\r\nimport router from \"@front/router\";\r\nimport App from \"@front/App.vue\";\r\nimport { initGlobalComp } from \"@front/components/injector\";\r\nimport { registerMethod } from \"@front/util_function/globalRegister\";\r\nimport { createApp, h } from \"vue\";\r\n\r\nconst app = createApp({\r\n\trender: () => h(App)\r\n})\r\n\t.use(ElementPlus)\r\n\t.use(router)\r\n\t.use(store);\r\ninitGlobalComp(app);\r\nregisterMethod();\r\napp.mount(\"body\");\r\n","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./withAvatar.vue?vue&type=style&index=0&id=1660186d&scoped=true&lang=scss\"","<template>\r\n\t<el-popover v-bind=\"$attrs\">\r\n\t\t<template #reference>\r\n\t\t\t<span class=\"el-icon-question\" />\r\n\t\t</template>\r\n\t\t<slot />\r\n\t</el-popover>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"popverHelp\"\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n</style>\r\n","import { render } from \"./popverHelp.vue?vue&type=template&id=e9bcb1fe&scoped=true\"\nimport script from \"./popverHelp.vue?vue&type=script&lang=js\"\nexport * from \"./popverHelp.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-e9bcb1fe\"\n\nexport default script","<template>\r\n\t<div class=\"outer\" :style=\"{backgroundImage:`url(${backgroundImage})`,zoom:`${zoom}%`}\">\r\n\t\t<div class=\"title shadow\" v-if=\"status!='setting'\">{{`弹幕投票：${title}`}}<span v-if=\"status=='voted'\">(投票已结束)</span></div>\r\n\t\t<div class=\"votePanel\" v-if=\"status=='setting'\">\r\n\t\t\t<div class=\"title shadow\">投票未开始</div>\r\n\t\t</div>\r\n\t\t<div class=\"graph\" v-if=\"['voting','voted'].includes(status)\">\r\n\t\t\t<div class=\"set\" v-for=\"(item,index) in voteItem\" :key=\"index\" :style=\"{'width':`${100/voteItem.length}%`}\">\r\n\t\t\t\t<span class=\"shadow\">{{item.count}}</span>\r\n\t\t\t\t<div class=\"column\" :style=\"{'height':`${item.count?item.count*100/max:0}%`}\" @click=\"showIndex=index;voterShow=true\" />\r\n\t\t\t\t<span class=\"shadow\">{{item.keyword}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"shadow\" style=\"text-align:center;padding:0px;8px\" v-if=\"status=='voting'\">送出 {{giftName}} 后即可打出“投票@选项”参与投票,每人一票</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nexport default defineComponent({\r\n\tname: \"danmakuGiftVote\",\r\n\tcname: \"弹幕礼物投票\",\r\n\ticon: \"el-icon-s-data\",\r\n\tdescription: \"输入关键词后，观众打出“投票@关键词”进行投票\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: true\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatus: \"setting\",\r\n\t\t\ttitle: \"\",\r\n\t\t\tvoteItem: [],\r\n\t\t\tbackgroundImage: \"\",\r\n\t\t\tmax: 1,\r\n\t\t\tgiftName: \"\",\r\n\t\t\tzoom: 100,\r\n\t\t\ttimer: null\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.registerOBS();\r\n\t\twsevent.on(\"voteUpdate\", e => {\r\n\t\t\tthis.status = e.status;\r\n\t\t\tthis.title = e.title;\r\n\t\t\tthis.voteItem = e.voteItem;\r\n\t\t\tthis.backgroundImage = e.backgroundImage;\r\n\t\t\tthis.giftName = e.giftName;\r\n\t\t\tthis.max = e.max || 1;\r\n\t\t\tthis.zoom = e.zoom;\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tmethods: {\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`obs-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tbox-sizing: border-box;\r\n\tpadding-top: 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\tdisplay: flex;\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./obs.vue?vue&type=template&id=7ca852c9&scoped=true\"\nimport script from \"./obs.vue?vue&type=script&lang=js\"\nexport * from \"./obs.vue?vue&type=script&lang=js\"\n\nimport \"./obs.vue?vue&type=style&index=0&id=7ca852c9&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7ca852c9\"\n\nexport default script","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=93dbe516&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tbooleanF,\r\n\tnumberF,\r\n\tstringF,\r\n\tfontF,\r\n\tgradientF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\tconst config = {\r\n\t\tverticalAlign: selectF(\"垂直排布\", style.verticalAlign(), \"25%\"),\r\n\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\tleft: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t},\r\n\t\tright: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t},\r\n\t\tbottom: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t},\r\n\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\ttextDecoration: selectF(\"装饰\", style.textDecoration(), \"25%\"),\r\n\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t};\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tdegree: booleanF(\"等级\", \"25%\"),\r\n\t\t\t\t\tname: booleanF(\"牌子名\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"背景样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdegreeStyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"等级样式\",\r\n\t\t\t\t\"ui:hidden\": \"{{!rootFormData.config.degree}}\",\r\n\t\t\t\tproperties: config\r\n\t\t\t},\r\n\t\t\tnameStyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"牌子名样式\",\r\n\t\t\t\t\"ui:hidden\": \"{{!rootFormData.config.name}}\",\r\n\t\t\t\tproperties: config\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=f2494e00&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./footerBase.vue?vue&type=style&index=0&id=3863483c&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0b308399&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"contentFrame\" :class=\"align\">\r\n\t\t<slot />\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"contentFrame\",\r\n\tprops: {\r\n\t\talign: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"column\"\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.contentFrame {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\t&.column {\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-start;\r\n\t\t:deep rowFrame {\r\n\t\t\tmargin-right: 4%;\r\n\t\t}\r\n\t}\r\n\t&.row {\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-start;\r\n\t\talign-content: flex-start;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"contentFrame\",\r\n\tprops: {\r\n\t\talign: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"column\"\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./contentFrame.vue?vue&type=template&id=50b2b036&scoped=true\"\nimport script from \"./contentFrame.vue?vue&type=script&lang=ts\"\nexport * from \"./contentFrame.vue?vue&type=script&lang=ts\"\n\nimport \"./contentFrame.vue?vue&type=style&index=0&id=50b2b036&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-50b2b036\"\n\nexport default script","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tstringF,\r\n\tbooleanF,\r\n\tgradientF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\n\r\nconst config = () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\ttitle: \"样式\",\r\n\t\tproperties: {\r\n\t\t\tverticalAlign: selectF(\"垂直排布\", style.verticalAlign(), \"25%\"),\r\n\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\tleft: {\r\n\t\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t},\r\n\t\t\tright: {\r\n\t\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t},\r\n\t\t\ttop: {\r\n\t\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t},\r\n\t\t\tbottom: {\r\n\t\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t},\r\n\r\n\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\ttextDecoration: selectF(\"装饰\", style.textDecoration(), \"25%\"),\r\n\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t}\r\n\t};\r\n};\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tpreview: selectF(\r\n\t\t\t\t\t\t\"预览对象\",\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"主播\",\r\n\t\t\t\t\t\t\t\tvalue: \"owner\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"管理员\",\r\n\t\t\t\t\t\t\t\tvalue: \"manager\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\"100%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\towner: {\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{parentFormData.preview!=='owner'}}\",\r\n\t\t\t\t\t\t...booleanF(\"显示主播标签\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\townerTitle: {\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{parentFormData.preview!=='owner'}}\",\r\n\t\t\t\t\t\t...stringF(\"主播称谓\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmanager: {\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{parentFormData.preview!=='manager'}}\",\r\n\t\t\t\t\t\t...booleanF(\"显示房管标签\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmanagerTitle: {\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{parentFormData.preview!=='manager'}}\",\r\n\t\t\t\t\t\t...stringF(\"房管称谓\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\townerStyle: {\r\n\t\t\t\t\"ui:hidden\": \"{{parentFormData.config.preview!=='owner'}}\",\r\n\t\t\t\t...config()\r\n\t\t\t},\r\n\t\t\tmanagerStyle: {\r\n\t\t\t\t\"ui:hidden\": \"{{parentFormData.config.preview!=='manager'}}\",\r\n\t\t\t\t...config()\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./imgInpuClip.vue?vue&type=style&index=0&id=0005670c&lang=scss\"","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tbooleanF,\r\n\tnumberF,\r\n\tstringF,\r\n\tfontF,\r\n\tdegreeF,\r\n\tgradientF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\tconst config = {\r\n\t\tverticalAlign: selectF(\"垂直排布\", style.verticalAlign(), \"25%\"),\r\n\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\tleft: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t},\r\n\t\tright: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t},\r\n\t\tbottom: {\r\n\t\t\t\"ui:hidden\": \"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t},\r\n\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\tspecificColor: booleanF(\"单独设置文字色\", \"25%\"),\r\n\t\tcolor: {\r\n\t\t\t...colorF(\"文字颜色\", \"25%\"),\r\n\t\t\t\"ui:hidden\": \"{{!parentFormData.specificColor}}\"\r\n\t\t},\r\n\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\ttextDecoration: selectF(\"装饰\", style.textDecoration(), \"25%\"),\r\n\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\tspecificBackgroundColor: booleanF(\"单独设置背景色\", \"25%\"),\r\n\t\tbackgroundColor: {\r\n\t\t\t...gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\"ui:hidden\": \"{{!parentFormData.specificBackgroundColor}}\"\r\n\t\t},\r\n\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\tspecificBorderColor: booleanF(\"单独设置边框色\", \"25%\"),\r\n\t\tborderColor: {\r\n\t\t\t...colorF(\"边框颜色\", \"25%\"),\r\n\t\t\t\"ui:hidden\": \"{{!parentFormData.specificBorderColor}}\"\r\n\t\t}\r\n\t};\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\towner: booleanF(\"只显示主播牌子\", \"50%\"),\r\n\t\t\t\t\tdegree: booleanF(\"等级\", \"25%\"),\r\n\t\t\t\t\tname: booleanF(\"牌子名\", \"25%\"),\r\n\t\t\t\t\tpreview: integerF(\"等级浏览\", \"100%\"),\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t...degreeF(\"通用颜色\", \"100%\"),\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\"通用颜色将会按照等级应用到所有的背景、边框、文字颜色上，除非针对上述颜色进行设置\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"背景样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tspecificBackgroundColor: booleanF(\"单独设置背景色\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: {\r\n\t\t\t\t\t\t...gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{!parentFormData.specificBackgroundColor}}\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tspecificBorderColor: booleanF(\"单独设置边框色\", \"25%\"),\r\n\t\t\t\t\tborderColor: {\r\n\t\t\t\t\t\t...colorF(\"边框颜色\", \"25%\"),\r\n\t\t\t\t\t\t\"ui:hidden\": \"{{!parentFormData.specificBorderColor}}\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdegreeStyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"等级样式\",\r\n\t\t\t\t\"ui:hidden\": \"{{!rootFormData.config.degree}}\",\r\n\t\t\t\tproperties: config\r\n\t\t\t},\r\n\t\t\tnameStyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"牌子名样式\",\r\n\t\t\t\t\"ui:hidden\": \"{{!rootFormData.config.name}}\",\r\n\t\t\t\tproperties: config\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\tpreview: \"manager\",\r\n\t\t\towner: true,\r\n\t\t\townerTitle: \"主播\",\r\n\t\t\tmanager: true,\r\n\t\t\tmanagerTitle: \"管\"\r\n\t\t},\r\n\t\townerStyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfont: \"/fonts/站酷快乐体.ttf\",\r\n\t\t\tfontSize: 15,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 1.1,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 4,\r\n\t\t\tpaddingRight: 3,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 7,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"rgba(227,185,124,1)\",\r\n\t\t\tborderRadius: 6,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t},\r\n\t\tmanagerStyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 15,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 1,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 4,\r\n\t\t\tpaddingRight: 4,\r\n\t\t\tpaddingTop: 1,\r\n\t\t\tpaddingBottom: 1,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 7,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"rgba(100,238,238,1)\",\r\n\t\t\tborderRadius: 15,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tstringF,\r\n\tgradientF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tformat: stringF(\"时间格式\", \"25%\"),\r\n\t\t\t\t\tpreffix: stringF(\"前缀\", \"25%\"),\r\n\t\t\t\t\taffix: stringF(\"后缀\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\ttextDecoration: selectF(\r\n\t\t\t\t\t\t\"装饰\",\r\n\t\t\t\t\t\tstyle.textDecoration(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"danmaku-flow\" @mousemove=\"leaveScroll\" @mousewheel=\"scrollable=true;\" @mouseleave=\"scrollable=false\">\r\n\t\t<transition-group name=\"fade\">\r\n\t\t\t<danmaku-row v-menu=\"list\" @contextmenu=\"currentRow = danmaku\" v-for=\"danmaku in [...danmakuLists].reverse()\" :key=\"getKey(danmaku)\" :danmaku=\"danmaku\" :setting=\"getSetting(danmaku)\" />\r\n\t\t</transition-group>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\treturn this.danmakuList;\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop: that.$el.scrollHeight,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.danmaku-flow {\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\twidth: calc(100% - 12px);\r\n\theight: calc(100% - 32px);\r\n\toverflow-x: hidden;\r\n\toverflow-y: auto;\r\n\tpadding: 4px 6px;\r\n\ttransform: translateZ(1);\r\n\t// will-change: contents scroll-position;\r\n\t@include scrollbarBaseSlinder();\r\n\t// & > div {\r\n\t// \tdisplay: flex;\r\n\t// \tflex-direction: column;\r\n\t// \talign-content: stretch;\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\treturn this.danmakuList;\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop: that.$el.scrollHeight,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=637b9718&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=637b9718&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-637b9718\"\n\nexport default script","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./imgInputStatic.vue?vue&type=style&index=0&id=5e5372ee&lang=scss\"","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tstringF,\r\n\tgradientF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tpreffix: stringF(\"前缀\", \"25%\"),\r\n\t\t\t\t\taffix: stringF(\"后缀\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\ttextDecoration: selectF(\r\n\t\t\t\t\t\t\"装饰\",\r\n\t\t\t\t\t\tstyle.textDecoration(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./obs.vue?vue&type=style&index=0&id=664248cc&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=684ca727&scoped=true&lang=scss\"","import { wsPromise } from \"@front/api/utils/websocket\";\r\nimport { room, user } from \"@front/datas\";\r\nexport const setProfile = (data: any): Promise<any> => {\r\n\t// 修改房间图片信息\r\n\treturn wsPromise(\"setRoomProfile\", {\r\n\t\ttype: 907,\r\n\t\tdata\r\n\t});\r\n};\r\n\r\nexport const getProfile = (): Promise<any> => {\r\n\treturn wsPromise(\"getRoomProfile\", {\r\n\t\ttype: 903\r\n\t});\r\n};\r\n\r\nexport const getRank = (data: user.Session): Promise<any> => {\r\n\treturn wsPromise(\"getBoss\", {\r\n\t\ttype: 302,\r\n\t\tdata: {\r\n\t\t\tliverUID: data.userID\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const getGift = (): Promise<any> => {\r\n\treturn wsPromise(\"getGift\", { type: 107 });\r\n};\r\n\r\nexport const getGiftList = ({ liveID }: any): Promise<any> => {\r\n\treturn wsPromise(\"getGiftList\", {\r\n\t\ttype: 114,\r\n\t\tdata: {\r\n\t\t\tliveID\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const getDonate = (data: user.Session): Promise<any> => {\r\n\treturn wsPromise(\"getDonate\", {\r\n\t\ttype: 103,\r\n\t\tdata: {\r\n\t\t\tliverUID: data.userID\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const getAudience = (data: room.Profile): Promise<any> => {\r\n\treturn wsPromise(\"getAudience\", {\r\n\t\ttype: 102,\r\n\t\tdata\r\n\t});\r\n};\r\n\r\nexport const getManagerList = (): Promise<any> => {\r\n\treturn wsPromise(\"getManagerList\", {\r\n\t\ttype: 200\r\n\t});\r\n};\r\n\r\nexport const addManager = (userID: number): Promise<any> => {\r\n\treturn wsPromise(\"addManager\", {\r\n\t\ttype: 201,\r\n\t\tdata: {\r\n\t\t\tmanagerUID: userID\r\n\t\t}\r\n\t});\r\n};\r\nexport const removeManager = (userID: number): Promise<any> => {\r\n\treturn wsPromise(\"removeManager\", {\r\n\t\ttype: 202,\r\n\t\tdata: {\r\n\t\t\tmanagerUID: userID\r\n\t\t}\r\n\t});\r\n};\r\nexport const kickOutPerson = ({ userID, liveID }: any): Promise<any> => {\r\n\treturn wsPromise(\"kickOutPerson\", {\r\n\t\ttype: 205,\r\n\t\tdata: {\r\n\t\t\tkickedUID: userID,\r\n\t\t\tliveID\r\n\t\t}\r\n\t});\r\n};\r\n","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./sidebarBase.vue?vue&type=style&index=0&id=519cf5f5&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./contentFrame.vue?vue&type=style&index=0&id=50b2b036&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./danmakuRow.vue?vue&type=style&index=0&id=6e089a46&scoped=true&lang=scss\"","import { randomId } from \"@front/util_function/base\";\r\nimport { defineAsyncComponent, markRaw } from \"vue\";\r\nconst requireComponent = require.context(\r\n\t\"@front/components/danmakuFlow/widgets\",\r\n\ttrue,\r\n\t/\\w+\\.(vue)$/\r\n);\r\n\r\nconst output: any = {};\r\n\r\nrequireComponent.keys().forEach(fileName => {\r\n\tconst matches = fileName.match(/(?<=\\/).+(?=\\/index\\.vue)/);\r\n\tif (matches) {\r\n\t\tconst component = requireComponent(fileName).default;\r\n\t\toutput[component.name] = {\r\n\t\t\tid: randomId(6),\r\n\t\t\tlabel: component.cname,\r\n\t\t\tlabelEn: matches[0],\r\n\t\t\twidgetOptions: component.widgetOptions,\r\n\t\t\tcomponent: markRaw(\r\n\t\t\t\tdefineAsyncComponent(() =>\r\n\t\t\t\t\timport(\r\n\t\t\t\t\t\t`@front/components/danmakuFlow/widgets/${fileName.replace(\r\n\t\t\t\t\t\t\t\"./\",\r\n\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t)}`\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\tstyleForm: component.data()?.settingForm(),\r\n\t\t\tstyleValue: component.data()?.settingValue()\r\n\t\t};\r\n\t}\r\n});\r\nexport default output;\r\n","<template>\r\n\t<div class=\"danmaku-row\" :class=\"{config:configMode}\" :style=\"style\">\r\n\t\t<component v-for=\"widget in setting.widgets\" :is=\"widgets[widget.labelEn].component\" :config-mode=\"configMode\" :key=\"widget.id\" :danmaku=\"danmaku\" :setting=\"widget.value\" :count=\"danmaku.count\" />\r\n\t\t<div v-if=\"danmaku.combineCount>1\" class=\"combo\" :key=\"danmaku.combineCount\">x{{danmaku.combineCount}}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport widgets from \"@front/components/danmakuFlow/widgets\";\r\nimport { getUserInfo } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\ttransform\r\n} from \"@front/components/danmakuFlow/utils/styleGetter\";\r\nexport default defineComponent({\r\n\tname: \"danmakuRow\",\r\n\tprops: {\r\n\t\tsetting: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\twidgets\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuWidgets(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.setting.widgets.filter(\r\n\t\t\t\t(widget: any) => widget.labelEn !== \"mainBlock\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tstyle(): any {\r\n\t\t\ttry {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst style = this.setting.widgets.find(\r\n\t\t\t\t\t(widget: any) => widget.labelEn === \"mainBlock\"\r\n\t\t\t\t)?.value.style;\r\n\t\t\t\tif (style) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...padding(style),\r\n\t\t\t\t\t\t...margin(style),\r\n\t\t\t\t\t\t...border(style),\r\n\t\t\t\t\t\t...outerBox(style),\r\n\t\t\t\t\t\t...transform(style)\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn {};\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: { getUserInfo }\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.danmaku-row {\r\n\t&.config {\r\n\t\tmin-width: 300px;\r\n\t}\r\n\twidth: 100%;\r\n\tbox-sizing: border-box;\r\n\tword-break: break-all;\r\n\tword-wrap: break-word;\r\n\tposition: relative;\r\n\t.combo {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t\tcolor: white;\r\n\t\tbackground-color: rgb(67, 136, 214);\r\n\t\tpadding: 2px 4px;\r\n\t\tborder-radius: 8px;\r\n\t\tanimation: scale 0.25s forwards;\r\n\t\tmargin: 6px;\r\n\t}\r\n\t@keyframes scale {\r\n\t\t0% {\r\n\t\t\ttransform: scale(1.5);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t}\r\n\t}\r\n\r\n\t// &.is-liver {\r\n\t// \twidth: calc(100% - 16px) !important;\r\n\t// \tpadding-left: 8px !important;\r\n\t// \tpadding-right: 8px !important;\r\n\t// \tpadding-top: 8px !important;\r\n\t// \tpadding-bottom: 24px !important;\r\n\t// \tborder-radius: 4px !important;\r\n\t// \tbackground-color: rgb(0, 170, 255) !important;\r\n\t// \t&::after {\r\n\t// \t\tcontent: \"主播发言\";\r\n\t// \t\tcolor: white;\r\n\t// \t\tposition: absolute;\r\n\t// \t\tleft: 12px;\r\n\t// \t\tbottom: 4px;\r\n\t// \t\tfont-size: 12px !important;\r\n\t// \t}\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport widgets from \"@front/components/danmakuFlow/widgets\";\r\nimport { getUserInfo } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\ttransform\r\n} from \"@front/components/danmakuFlow/utils/styleGetter\";\r\nexport default defineComponent({\r\n\tname: \"danmakuRow\",\r\n\tprops: {\r\n\t\tsetting: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\twidgets\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuWidgets(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.setting.widgets.filter(\r\n\t\t\t\t(widget: any) => widget.labelEn !== \"mainBlock\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tstyle(): any {\r\n\t\t\ttry {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst style = this.setting.widgets.find(\r\n\t\t\t\t\t(widget: any) => widget.labelEn === \"mainBlock\"\r\n\t\t\t\t)?.value.style;\r\n\t\t\t\tif (style) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...padding(style),\r\n\t\t\t\t\t\t...margin(style),\r\n\t\t\t\t\t\t...border(style),\r\n\t\t\t\t\t\t...outerBox(style),\r\n\t\t\t\t\t\t...transform(style)\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn {};\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: { getUserInfo }\r\n});\r\n","import { render } from \"./danmakuRow.vue?vue&type=template&id=6e089a46&scoped=true\"\nimport script from \"./danmakuRow.vue?vue&type=script&lang=ts\"\nexport * from \"./danmakuRow.vue?vue&type=script&lang=ts\"\n\nimport \"./danmakuRow.vue?vue&type=style&index=0&id=6e089a46&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6e089a46\"\n\nexport default script","export class Event {\r\n\tevents: any = {};\r\n\tconstructor() {\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\ton(eventName: any, fn: any) {\r\n\t\tthis.events[eventName] = this.events[eventName] || [];\r\n\t\tthis.events[eventName].push(fn);\r\n\t}\r\n\r\n\tonce(eventName: any, fn: any) {\r\n\t\tthis.events[eventName] = this.events[eventName] || [];\r\n\t\tconst once = () => {\r\n\t\t\tthis.off(eventName, once);\r\n\t\t\tfn();\r\n\t\t};\r\n\t\tthis.events[eventName].push(once);\r\n\t}\r\n\r\n\toff(eventName: any, fn: any) {\r\n\t\tif (this.events[eventName]) {\r\n\t\t\tfor (let i = 0; i < this.events[eventName].length; i++) {\r\n\t\t\t\tif (this.events[eventName][i] === fn) {\r\n\t\t\t\t\tthis.events[eventName].splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\temit(eventName: any, data: any = {}) {\r\n\t\tif (this.events[eventName]) {\r\n\t\t\tthis.events[eventName].forEach((fn: any) => {\r\n\t\t\t\tif (fn) fn(data);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const event = new Event();\r\n","import { user } from \"@front/datas\";\r\nimport { wsPromise } from \"@front/api/utils/websocket\";\r\nexport const login = (data: user.Session | any): Promise<any> => {\r\n\t// 登陆\r\n\treturn wsPromise(\"login\", {\r\n\t\ttype: 2,\r\n\t\tdata\r\n\t});\r\n};\r\n\r\nexport const streamInfo = ({ userID }: any): Promise<any> => {\r\n\t// 获取用户直播信息\r\n\treturn wsPromise(\"getUserStreamInfo\", {\r\n\t\ttype: 109,\r\n\t\tdata: {\r\n\t\t\tuserID\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const isStreaming = ({ userID }: any): Promise<any> => {\r\n\t// 获取用户直播信息\r\n\treturn wsPromise(\"getUserStreamInfo\", {\r\n\t\ttype: 115,\r\n\t\tdata: {\r\n\t\t\tuserID\r\n\t\t}\r\n\t});\r\n};\r\n","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tgradientF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\t\t\t\t\toverflow: selectF(\r\n\t\t\t\t\t\t\"溢出\",\r\n\t\t\t\t\t\tstyle.overflow().slice(0, 2),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export interface SuperChatBlockSetting {\r\n\ttriggerValue: number;\r\n\ttheme: any;\r\n\tthemeID: any;\r\n\tlistDuration: number;\r\n}\r\n\r\nexport const superChatBlockSetting = (): SuperChatBlockSetting => {\r\n\treturn {\r\n\t\ttriggerValue: 99,\r\n\t\ttheme: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttext: \"我永远单推主播！\"\r\n\t\t\t},\r\n\t\t\tbackground: {\r\n\t\t\t\tbackgroundType: 0,\r\n\t\t\t\tbackgroundColor: \"rgba(16,128,185,1)\",\r\n\t\t\t\tbackgroundImage: \"\",\r\n\t\t\t\tbackgroundSize: 100,\r\n\t\t\t\tbackgroundPosition: \"center\",\r\n\t\t\t\tbackgroundDynamic: \"default\",\r\n\t\t\t\tbackgroundSizeType: 0,\r\n\t\t\t\tbackgroundOpacity: 100\r\n\t\t\t},\r\n\t\t\tlistStyle: {\r\n\t\t\t\tfont: \"/fonts/站酷快乐体.ttf\",\r\n\t\t\t\tfontSize: 14,\r\n\t\t\t\tfontWeight: \"bolder\",\r\n\t\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\t\ttextShadowWidth: 0.6,\r\n\t\t\t\ttextShadowColor: \"#000\"\r\n\t\t\t},\r\n\t\t\tpanelStyle: {\r\n\t\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\t\tfontSize: 14,\r\n\t\t\t\tfontWeight: \"lighter\",\r\n\t\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\t\ttextShadowWidth: 0.6,\r\n\t\t\t\ttextShadowColor: \"#000\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tthemeID: \"0\",\r\n\t\tlistDuration: 55000\r\n\t};\r\n};\r\n\r\nexport interface SuperChatBlock extends SuperChatBlockSetting {\r\n\tpanelEndTime: number;\r\n\tlistEndTime: number;\r\n\tcreateTime: number;\r\n\tvalue: number;\r\n\tcontent: string;\r\n\tavatar: string;\r\n\tnickName: string;\r\n\tshowed: boolean;\r\n\tnumber: number;\r\n\tnextLevel: number;\r\n\tuid: number;\r\n}\r\n\r\nexport const superChatBlock = (): SuperChatBlock => {\r\n\treturn {\r\n\t\t...superChatBlockSetting(),\r\n\t\tpanelEndTime: 0,\r\n\t\tlistEndTime: 0,\r\n\t\tcreateTime: 0,\r\n\t\tvalue: 0,\r\n\t\tcontent: \"\",\r\n\t\tavatar: \"\",\r\n\t\tnickName: \"\",\r\n\t\tshowed: false,\r\n\t\tnumber: 0,\r\n\t\tnextLevel: 0,\r\n\t\tuid: 0\r\n\t};\r\n};\r\n","export const verticalAlign = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"顶端\",\r\n\t\t\tvalue: \"top\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"中间\",\r\n\t\t\tvalue: \"middle\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"底端\",\r\n\t\t\tvalue: \"bottom\"\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const fontWeight = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"细\",\r\n\t\t\tvalue: \"lighter\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"正常\",\r\n\t\t\tvalue: \"normal\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"粗\",\r\n\t\t\tvalue: \"bold\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"更粗\",\r\n\t\t\tvalue: \"bolder\"\r\n\t\t}\r\n\t];\r\n};\r\nexport const fontStyle = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"正常\",\r\n\t\t\tvalue: \"normal\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"斜体\",\r\n\t\t\tvalue: \"italic\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"反斜\",\r\n\t\t\tvalue: \"oblique\"\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const textDecoration = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"无\",\r\n\t\t\tvalue: \"none\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"下划线\",\r\n\t\t\tvalue: \"underline\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"上划线\",\r\n\t\t\tvalue: \"overline\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"横划线\",\r\n\t\t\tvalue: \"line-through\"\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const overflow = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"显示\",\r\n\t\t\tvalue: \"visible\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"隐藏\",\r\n\t\t\tvalue: \"hidden\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"滚动\",\r\n\t\t\tvalue: \"scroll\"\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const position = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"不定位\",\r\n\t\t\tvalue: \"\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"相对定位\",\r\n\t\t\tvalue: \"relative\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"绝对定位\",\r\n\t\t\tvalue: \"absolute\"\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const backgroundType = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"纯色+图片\",\r\n\t\t\tvalue: 0\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"动态背景+图片\",\r\n\t\t\tvalue: 1\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const backgroundPosition = (): any => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"左上\",\r\n\t\t\tvalue: \"top left\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"上\",\r\n\t\t\tvalue: \"top center\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"右上\",\r\n\t\t\tvalue: \"top right\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"左\",\r\n\t\t\tvalue: \"center left\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"中\",\r\n\t\t\tvalue: \"center\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"右\",\r\n\t\t\tvalue: \"center right\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"左下\",\r\n\t\t\tvalue: \"bottom left\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"下\",\r\n\t\t\tvalue: \"bottom center\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"右下\",\r\n\t\t\tvalue: \"bottom right\"\r\n\t\t}\r\n\t];\r\n};\r\n\r\nexport const backgroundSizeType = () => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"无\",\r\n\t\t\tvalue: 0\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"包含\",\r\n\t\t\tvalue: \"contain\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"适应\",\r\n\t\t\tvalue: \"cover\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"拉伸\",\r\n\t\t\tvalue: \"100% 100%\"\r\n\t\t}\r\n\t];\r\n};\r\nexport default {\r\n\tverticalAlign,\r\n\tfontWeight,\r\n\tfontStyle,\r\n\ttextDecoration,\r\n\toverflow,\r\n\tposition,\r\n\tbackgroundType,\r\n\tbackgroundPosition,\r\n\tbackgroundSizeType\r\n};\r\n","<template>\r\n\t<div class=\"nickName\" :style=\"style\">{{nickName}} </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getNickName } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"nickName\",\r\n\tcname: \"用户名\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnickName(): any {\r\n\t\t\tconst preffix = this.setting?.config?.preffix || \"\";\r\n\t\t\tconst affix = this.setting?.config?.affix || \"\";\r\n\t\t\treturn `${preffix}${getNickName(this.danmaku)}${affix}`;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.nickName {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getNickName } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"nickName\",\r\n\tcname: \"用户名\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnickName(): any {\r\n\t\t\tconst preffix = this.setting?.config?.preffix || \"\";\r\n\t\t\tconst affix = this.setting?.config?.affix || \"\";\r\n\t\t\treturn `${preffix}${getNickName(this.danmaku)}${affix}`;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=490e82f9&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=490e82f9&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-490e82f9\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./obs.vue?vue&type=style&index=0&id=7ca852c9&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"rowFrame\" :style=\"{width}\">\r\n\t\t<div class=\"title\" v-if=\"title\">{{title}}</div>\r\n\t\t<div :class=\"[{content:contentDefaultClass,flex:flex},contentClass]\">\r\n\t\t\t<slot />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rowFrame\",\r\n\tprops: {\r\n\t\ttitle: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tcontentClass: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tcontentDefaultClass: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"50%\"\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped  lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.rowFrame {\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tflex-grow: 0;\r\n\tmargin-bottom: 16px;\r\n\t.flex {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.title {\r\n\t\tposition: relative;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: $--color-text-primary;\r\n\t\theight: 24px;\r\n\t\tuser-select: none;\r\n\t}\r\n\t.content {\r\n\t\tposition: relative;\r\n\t\tbackground-color: white;\r\n\t\twidth: 100%;\r\n\t\tbox-shadow: $--box-shadow-base;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rowFrame\",\r\n\tprops: {\r\n\t\ttitle: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tcontentClass: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tcontentDefaultClass: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"50%\"\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./rowFrame.vue?vue&type=template&id=1cf93e19&scoped=true\"\nimport script from \"./rowFrame.vue?vue&type=script&lang=ts\"\nexport * from \"./rowFrame.vue?vue&type=script&lang=ts\"\n\nimport \"./rowFrame.vue?vue&type=style&index=0&id=1cf93e19&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1cf93e19\"\n\nexport default script","export const login = (): any => {\r\n\treturn {\r\n\t\tdisclaimer:\r\n\t\t\t\"为避免不必要的误解与争论，现做如下声明：\\n\\n    0. 本软件是自由软件，本软件无有任何担保（NO WARRANTY），本软件遵守AGPL3协议发布，您须遵守之以使用/再发行/修改该软件；\\n    1. ACFUN开源⑨ 课之开发本直播工具箱及其插件属非商业行为， 不以盈利为目的；\\n    2. 本直播工具箱及其插件代码在一定开发阶段后会传播（propagate）并开源；\\n    3. 本直播工具箱及其插件均部署在客户端， 其中涉及到A站相关用户隐私数据（ 账号、 密码等） 均从客户端直连A站， 中间不经过任何服务器；\\n    4. 最终解释权归属ACFUN开源⑨ 课。 \",\r\n\t\twelcomeLogo: \"/imgs/gif/acfun_welcome.gif\",\r\n\t\twelcomeText: \"欢迎使用ACFUN直播工具箱(主播版)~~\"\r\n\t};\r\n};\r\n","import { version } from \"@/../package.json\";\r\nexport const common = (): any => {\r\n\treturn {\r\n\t\ttitle: \"ACFUN\",\r\n\t\tsubTitle: \"直播工具箱\",\r\n\t\tunstreamable: \"恁不是主播，请到A站申请开播权限\",\r\n\t\tversion\r\n\t};\r\n};\r\n","export const welcome = (): any => {\r\n\treturn {\r\n\t\tmessage:\r\n\t\t\t\"感谢支持，祝你在A站玩的开心！有问题/想要的功能请及时站内私信或在下方链接反馈\",\r\n\t\tblocks: [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Bug报告/反馈建议\",\r\n\t\t\t\ttype: \"html\",\r\n\t\t\t\tvalue:\r\n\t\t\t\t\t\"<a href='https://www.wjx.top/vj/h4Zh8Hc.aspx' target='_blank'>此处</a>提交Bug或反馈\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"未来规划\",\r\n\t\t\t\ttype: \"list\",\r\n\t\t\t\tvalue: [\"魔法画屏\", \"鸡鸡人2.0\", \"帮助导览\"]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"最后\",\r\n\t\t\t\ttype: \"html\",\r\n\t\t\t\tvalue:\r\n\t\t\t\t\t\"如果觉得好用可以在<a href='https://github.com/ACFUN-FOSS/acfunlive-toolbox-client-Public' target='_blank'>这里</a>和<a href='https://github.com/ACFUN-FOSS/acfunlive-backend' target='_blank'>这里</a>点个星星支持我们\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"本次更新内容\",\r\n\t\t\t\ttype: \"list\",\r\n\t\t\t\tvalue: [\r\n\t\t\t\t\t\"针对网络不稳定的问题进行优化（反复横跳、弹幕断连、退出迷你化显示未开播等）\",\r\n\t\t\t\t\t\"增加快速重启按钮（不需要关闭程序）\",\r\n\t\t\t\t\t\"新增小程序模块\",\r\n\t\t\t\t\t\"小程序：独立弹幕流、弹幕抽奖、弹幕点歌、弹幕投票、歌回助手、公告机器人、留言板\",\r\n\t\t\t\t\t\"修复重连有概率卡死电脑的问题（塞壬对不起！）\",\r\n\t\t\t\t\t\"以及其它一些bug修复\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"特别感谢\",\r\n\t\t\t\ttype: \"list\",\r\n\t\t\t\tvalue: [\r\n\t\t\t\t\t\"logo by <a href='https://www.acfun.cn/u/1447414' target='_blank'>木羽熊藏</a>\",\r\n\t\t\t\t\t\"产品设计：<a href='https://www.acfun.cn/u/173620' target='_blank'>林梦仙</a>\",\r\n\t\t\t\t\t\"所有参与测试或提出意见的主播们\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"最后的最后\",\r\n\t\t\t\ttype: \"string\",\r\n\t\t\t\tvalue: \"AC在 爱也在\"\r\n\t\t\t}\r\n\t\t]\r\n\t};\r\n};\r\n","export const footer = (): any => {\r\n\treturn {\r\n\t\tbase:\r\n\t\t\t\"Logo:By @木羽熊藏\\n UI设计: By @林梦仙\\n ACFUN开源⑨课\\n Copyright @ 2007-2021 AcFun. 保留所有权利\",\r\n\t\twrap: \"ACFUN开源⑨课\\n Copyright @ 2007-2021 \\nAcFun. 保留所有权利\"\r\n\t};\r\n};\r\n","export default function SharedWorker_fn() {\n  return new SharedWorker(__webpack_public_path__ + \"js/shared.worker.37cf7b9e.worker.js\");\n}\n","import { throttle } from \"lodash\";\r\nimport { Store } from \"vuex\";\r\n// @ts-ignore\r\nimport SharedWorker from \"./shared.worker.js\";\r\nlet _worker: any = null;\r\nlet changedDanmaku: any = [];\r\n\r\nexport const addChangedDanmaku = (danmaku: any) => {\r\n\tchangedDanmaku.unshift(danmaku);\r\n};\r\n\r\nexport const openWorker = () => {\r\n\tif (_worker) {\r\n\t\t// @ts-ignore\r\n\t\tcloseWorker();\r\n\t}\r\n\t_worker = new SharedWorker();\r\n\t_worker.port.start();\r\n\twindow.addEventListener(\"beforeunload\", () => {\r\n\t\t_worker.port.postMessage([\"close\"]);\r\n\t});\r\n\treturn _worker;\r\n};\r\nexport const registerHost = (store: Store<any>) => {\r\n\tconst worker = openWorker();\r\n\tworker.port.postMessage([\"registerHost\"]);\r\n\r\n\tworker.port.onmessage = (e: any) => {\r\n\t\tconst [msg, ...attrs] = e.data;\r\n\t\tconsole.log(e.data);\r\n\t\tif (msg === \"requestData\") {\r\n\t\t\tconst [id, ...states] = attrs;\r\n\t\t\tconst output: any = {};\r\n\t\t\tstates.forEach((state: string) => {\r\n\t\t\t\tif (state === \"changedDanmaku\") {\r\n\t\t\t\t\toutput[state] = changedDanmaku;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput[state] = store.state[state];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tworker.port.postMessage([\r\n\t\t\t\t\"responseData\",\r\n\t\t\t\tid,\r\n\t\t\t\tJSON.stringify(output)\r\n\t\t\t]);\r\n\t\t}\r\n\t\tif (msg === \"sendUp\") {\r\n\t\t\tchangedDanmaku = [];\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const registerClient = (requireArray: Array<any>, callback: any) => {\r\n\tconst worker = openWorker();\r\n\tworker.port.postMessage([\"registerClient\", ...requireArray]);\r\n\tworker.port.onmessage = (e: any) => {\r\n\t\tconst [msg, data] = e.data;\r\n\t\tconsole.log(e.data);\r\n\t\tif (msg === \"response\") {\r\n\t\t\tcallback(JSON.parse(data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const closeWorker = () => {\r\n\tif (!_worker) {\r\n\t\treturn;\r\n\t}\r\n\t_worker.port.postMessage([\"close\"]);\r\n\t_worker.port.close();\r\n\t_worker = null;\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=bf9c424e&scoped=true&lang=scss\"","import {\r\n\tgradientF,\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tstringF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tpreffix: stringF(\"前缀\", \"25%\"),\r\n\t\t\t\t\taffix: stringF(\"后缀\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"75%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\ttextDecoration: selectF(\r\n\t\t\t\t\t\t\"装饰\",\r\n\t\t\t\t\t\tstyle.textDecoration(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","import { robots } from \"@front/util_function/system\";\r\nimport {\r\n\trobotGetters,\r\n\tgetContent,\r\n\tgetUID,\r\n\tgetDanmakuType\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { removePunctuation } from \"@front/util_function/base\";\r\nconst waitList: any = [];\r\nlet readObj: any = null;\r\nlet reading = false;\r\n\r\nexport const read = ({\r\n\trtype,\r\n\tapi,\r\n\tspeed,\r\n\tvolume,\r\n\tdanmaku,\r\n\trules,\r\n\tcomboReading,\r\n\tfilters = []\r\n}: any) => {\r\n\tlet content = \"\";\r\n\tif (!rules) {\r\n\t\treturn;\r\n\t}\r\n\tlet contentI = \"\";\r\n\tif (getDanmakuType(danmaku) === 1000) {\r\n\t\tcontentI = getContent(danmaku);\r\n\t\tfilters.forEach((filter: any) => {\r\n\t\t\tcontentI = contentI.replaceAll(filter, \"\");\r\n\t\t});\r\n\t\tif (!removePunctuation(contentI).replaceAll(\" \", \"\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tcomboReading &&\r\n\t\t\treadObj &&\r\n\t\t\tgetDanmakuType(readObj) === 1000 &&\r\n\t\t\tgetUID(danmaku) === getUID(readObj)\r\n\t\t) {\r\n\t\t\tcontent = contentI;\r\n\t\t}\r\n\t}\r\n\tif (!content) {\r\n\t\trules.forEach((rule: any) => {\r\n\t\t\tswitch (rule.type) {\r\n\t\t\t\tcase \"text\":\r\n\t\t\t\t\tcontent += rule.value;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"variable\":\r\n\t\t\t\t\tif (rule.value === \"getContent\" && contentI) {\r\n\t\t\t\t\t\tcontent += contentI;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\tif (robotGetters[rule.value]) {\r\n\t\t\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\t\t\tcontent += robotGetters[rule.value](danmaku);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tif (!content) {\r\n\t\treturn;\r\n\t}\r\n\tconst data = {\r\n\t\trtype,\r\n\t\tapi,\r\n\t\tspeed,\r\n\t\tvolume,\r\n\t\ttext: content,\r\n\t\torigin: danmaku\r\n\t};\r\n\tif (reading) {\r\n\t\tif (waitList.length >= 10) {\r\n\t\t\twaitList.splice(1);\r\n\t\t}\r\n\t\twaitList.push(data);\r\n\t} else {\r\n\t\trealRead(data);\r\n\t}\r\n};\r\n\r\nexport const realRead = (data: any) => {\r\n\treading = true;\r\n\treadObj = data.origin;\r\n\tlet reader: any = robots.default;\r\n\tif (data.rtype) {\r\n\t\t// @ts-ignore\r\n\t\treader = robots[data.rtype] || robots.default;\r\n\t}\r\n\treader(data)\r\n\t\t.catch((e: any) => {\r\n\t\t\tconsole.error(e);\r\n\t\t})\r\n\t\t.finally(() => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\treading = false;\r\n\t\t\t\tif (waitList[0]) {\r\n\t\t\t\t\trealRead(waitList.splice(0, 1)[0]);\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t});\r\n};\r\n","export default () => {\r\n\treturn {\r\n\t\tstyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 16,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 1.3,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"list\">\r\n\t\t<div class=\"list-item\" :class=\"{selected:selected===i}\" v-for=\"i in list\" :key=\"i.id\">\r\n\t\t\t<span class=\"list-item-title\">{{i.label}}</span>\r\n\t\t\t<span class=\"list-item-icon\"><span v-for=\"(a,index) in action\" :key=\"index\" :class=\"a.icon\" @click=\"a.action(i)\" /></span>\r\n\t\t</div>\r\n\t\t<div v-if=\"list.length===0\" class=\"empty\">{{emptytip}}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"list\",\r\n\tprops: {\r\n\t\tlist: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\taction: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\temptytip: {\r\n\t\t\tdefault: \"空空如也\"\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.list {\r\n\tborder: $--border-base;\r\n\tborder-radius: $--border-radius-base;\r\n\tbackground-color: $--border-color-lighter;\r\n\tcolor: $--color-text-regular;\r\n\tposition: relative;\r\n\toverflow-y: scroll;\r\n\tbox-sizing: border-box;\r\n\t@include scrollbarDark();\r\n\t.list-item {\r\n\t\tmargin: 5px 5px;\r\n\t\tbackground-color: white;\r\n\t\tbox-shadow: $--box-shadow-base;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 5px;\r\n\t\t&.selected,\r\n\t\t&:hover {\r\n\t\t\tcolor: $--color-primary-light-3;\r\n\t\t\tbox-shadow: 0 2px 4px rgba($--color-primary, 0.12),\r\n\t\t\t\t0 0 6px rgba($--color-primary, 0.04);\r\n\t\t}\r\n\t\t.list-item-icon > span {\r\n\t\t\tcolor: $--color-text-secondary;\r\n\t\t\tcursor: pointer;\r\n\t\t\t&:hover {\r\n\t\t\t\tcolor: $--color-primary-light-3;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.empty {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 40%;\r\n\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"list\",\r\n\tprops: {\r\n\t\tlist: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\taction: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\temptytip: {\r\n\t\t\tdefault: \"空空如也\"\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./base.vue?vue&type=template&id=648f4714&scoped=true\"\nimport script from \"./base.vue?vue&type=script&lang=ts\"\nexport * from \"./base.vue?vue&type=script&lang=ts\"\n\nimport \"./base.vue?vue&type=style&index=0&id=648f4714&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-648f4714\"\n\nexport default script","<template>\r\n\t<div class=\"outer\" :class=\"classList[classIndex]\">\r\n\t\t<div class=\"avatar\" :style=\"{'backgroundImage':`url(${question.avatar})`,'borderColor':color}\" />\r\n\t\t<div class=\"question-bar\">\r\n\t\t\t<div class=\"username shadow\" :style=\"{'backgroundColor':color}\">\r\n\t\t\t\t<title-scrolling :style=\"{zoom:`${settings.zoom}%`,...textStyle}\" class=\"nickname shadow\" :label=\"question.nickname\" />\r\n\t\t\t\t<div :style=\"{zoom:`${settings.zoom}%`,...textStyle}\" class=\"remain-time\" :class=\"{blink:remain>0&&remain<10000,shake:remain<0}\" v-if=\"settings.mode===0\">\r\n\t\t\t\t\t<template v-if=\"remain>0\">\r\n\t\t\t\t\t\t剩余时间：{{miniFormat(remain)}}\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t留言可用\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"question shadow\"><span :style=\"{zoom:`${settings.zoom}%`,...textStyle}\">{{question.title}}</span></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nexport default defineComponent({\r\n\tname: \"messageBoard\",\r\n\tcname: \"留言板\",\r\n\ticon: \"self-question\",\r\n\tdescription: \"送出香蕉或礼物后，可在主席台提问，问题一直维持到冷却时间结束\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: true\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tquestion: {\r\n\t\t\t\tnickname: \"\",\r\n\t\t\t\tavatar: \"\",\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tid: 0\r\n\t\t\t},\r\n\t\t\tlastQuestionTime: 0,\r\n\t\t\tcurrentTime: 0,\r\n\t\t\tsettings: {\r\n\t\t\t\tcooldown: 5,\r\n\t\t\t\tdisappearWhenCool: false,\r\n\t\t\t\tmode: 0,\r\n\t\t\t\ttitleOutline: 0.8\r\n\t\t\t},\r\n\t\t\tcolorList: [\r\n\t\t\t\t\"#f94144\",\r\n\t\t\t\t\"#f3722c\",\r\n\t\t\t\t\"#f8961e\",\r\n\t\t\t\t\"#f9844a\",\r\n\t\t\t\t\"#f9c74f\",\r\n\t\t\t\t\"#90be6d\",\r\n\t\t\t\t\"#43aa8b\",\r\n\t\t\t\t\"#4d908e\",\r\n\t\t\t\t\"#577590\",\r\n\t\t\t\t\"#277da1\"\r\n\t\t\t],\r\n\t\t\tcolorIndex: 0,\r\n\t\t\tclassIndex: 0,\r\n\t\t\tclassList: [\"\", \"active\", \"inactive\"],\r\n\t\t\ttimer: null,\r\n\t\t\ttimeCounter: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcolor() {\r\n\t\t\treturn this.colorList[this.colorIndex];\r\n\t\t},\r\n\t\tremain() {\r\n\t\t\treturn (\r\n\t\t\t\tthis.settings.cooldown * 60 * 1000 -\r\n\t\t\t\tthis.currentTime +\r\n\t\t\t\tthis.lastQuestionTime\r\n\t\t\t);\r\n\t\t},\r\n\t\ttextStyle() {\r\n\t\t\treturn {\r\n\t\t\t\ttextShadow: `#000 -${this.settings.titleOutline}px -${this.settings.titleOutline}px 0px, #000 0px -${this.settings.titleOutline}px 0px,\r\n\t\t\t\t\t\t\t #000 ${this.settings.titleOutline}px -${this.settings.titleOutline}px 0px, #000 ${this.settings.titleOutline}px 0px 0px,\r\n\t\t\t\t\t\t\t #000 ${this.settings.titleOutline}px ${this.settings.titleOutline}px 0px, #000 0px ${this.settings.titleOutline}px 0px,\r\n\t\t\t\t\t\t\t #000 -${this.settings.titleOutline}px ${this.settings.titleOutline}px 0px, #000 -${this.settings.titleOutline}px 0px 0px !important`\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tremain(n, o) {\r\n\t\t\tif (o > 0 && n < 0 && this.settings.disappearWhenCool) {\r\n\t\t\t\tif (this.classIndex === 1) {\r\n\t\t\t\t\tthis.classIndex = 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tregisterRole(\"留言网页端\");\r\n\t\tthis.registerOBS();\r\n\t\tthis.timeCounter = setInterval(() => {\r\n\t\t\tthis.currentTime = Date.now();\r\n\t\t}, 1000);\r\n\t\twsevent.on(`${this.$options.name}-update`, e => {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tconst { settings, question, lastQuestionTime } = e;\r\n\t\t\tthis.settings = settings;\r\n\t\t\tif (question.id && question.id === this.question.id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.classIndex === 1) {\r\n\t\t\t\tthis.classIndex = 2;\r\n\t\t\t}\r\n\t\t\tif (!question.id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.colorIndex = parseInt(\r\n\t\t\t\t\tMath.random() * this.colorList.length\r\n\t\t\t\t);\r\n\t\t\t\tthis.question = question;\r\n\t\t\t\tthis.lastQuestionTime = lastQuestionTime;\r\n\t\t\t\tthis.classIndex = 1;\r\n\t\t\t}, 1000);\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tmethods: {\r\n\t\tminiFormat(time) {\r\n\t\t\ttime = parseInt(time / 1000);\r\n\t\t\treturn `${String(parseInt(time / 60)).padStart(2, \"0\")}:${String(\r\n\t\t\t\ttime % 60\r\n\t\t\t).padStart(2, \"0\")}`;\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`obs-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n* {\r\n\tbox-sizing: border-box;\r\n}\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.outer {\r\n\tposition: relative;\r\n}\r\n.question-bar {\r\n\tposition: absolute;\r\n\twidth: calc(100% - 50px);\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\tz-index: 1;\r\n\tmargin-left: 50px;\r\n\r\n\t.username {\r\n\t\twidth: 0%;\r\n\t\tpadding: 5px 0px;\r\n\t\tpadding-left: 0px;\r\n\t\tfont-size: 18px;\r\n\t\twhite-space: nowrap;\r\n\t\tborder-radius: 0 20px 0 0;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.nickname {\r\n\t\tcolor: white;\r\n\t\tfont-size: 18px;\r\n\t\tflex-grow: 1;\r\n\t\twhite-space: nowrap !important;\r\n\t}\r\n\t.question {\r\n\t\twidth: 100%;\r\n\t\theight: 0px;\r\n\t\tpadding: 0px 0px 0px 55px;\r\n\t\tbackground-color: white;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px;\r\n\t\ttransition: height 1s;\r\n\t}\r\n}\r\n.avatar {\r\n\twidth: 100px;\r\n\theight: 100px;\r\n\tbackground-size: 100% 100%;\r\n\tborder-radius: 100%;\r\n\tborder-width: 7px;\r\n\tborder-style: solid;\r\n\tposition: relative;\r\n\topacity: 0;\r\n\tz-index: 2;\r\n\tbox-shadow: 0 2px 3px rgba(0, 0, 0, 0.12), 0 0 4px;\r\n}\r\n.remain-time {\r\n\twhite-space: nowrap;\r\n\tpadding: 0px 8px;\r\n\tfont-size: 16px;\r\n\twidth: 140px;\r\n\tflex-shrink: 0;\r\n}\r\n.normal {\r\n\t.avatar {\r\n\t\topacity: 0;\r\n\t\ttransform: scale(20%);\r\n\t}\r\n}\r\n.active {\r\n\t.avatar {\r\n\t\tanimation: avatarActive 0.7s ease-in forwards;\r\n\t}\r\n\t.username {\r\n\t\tanimation: usernameActive 0.3s 0.6s ease-in forwards;\r\n\t}\r\n\t.question {\r\n\t\tanimation: questionActive 0.1s 0.9s ease-in forwards;\r\n\t}\r\n}\r\n.inactive {\r\n\t.avatar {\r\n\t\topacity: 1;\r\n\t\tanimation: avatarInactive 0.5s 0.6s ease-out forwards;\r\n\t}\r\n\t.username {\r\n\t\twidth: 100%;\r\n\t\tanimation: usernameInactive 0.3s 0.2s ease-in forwards;\r\n\t}\r\n\t.question {\r\n\t\theight: fit-content;\r\n\t\tpadding: 6px 0px 6px 55px;\r\n\t\tanimation: questionInactive 0.1s ease-out forwards;\r\n\t}\r\n}\r\n@keyframes avatarActive {\r\n\t0% {\r\n\t\topacity: 0;\r\n\t\ttransform: scale(0.4) rotate(-180deg);\r\n\t}\r\n\t90% {\r\n\t\topacity: 1;\r\n\t\ttransform: scale(1.2) rotate(0deg);\r\n\t}\r\n\t100% {\r\n\t\topacity: 1;\r\n\t\ttransform: scale(1);\r\n\t}\r\n}\r\n@keyframes avatarInactive {\r\n\t0% {\r\n\t\topacity: 1;\r\n\t\ttransform: scale(1) rotate(0deg);\r\n\t}\r\n\t100% {\r\n\t\topacity: 0;\r\n\t\ttransform: scale(0.8) rotate(-180deg);\r\n\t}\r\n}\r\n@keyframes usernameActive {\r\n\t0% {\r\n\t\twidth: 0%;\r\n\t\tpadding-left: 0px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t100% {\r\n\t\twidth: 100%;\r\n\t\tpadding-left: 55px;\r\n\t\twhite-space: normal;\r\n\t}\r\n}\r\n@keyframes usernameInactive {\r\n\t0% {\r\n\t\twidth: 100%;\r\n\t\tpadding-left: 55px;\r\n\t\twhite-space: normal;\r\n\t}\r\n\t100% {\r\n\t\twidth: 0%;\r\n\t\tpadding-left: 0px;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n}\r\n@keyframes questionActive {\r\n\t0% {\r\n\t\theight: 0px !important;\r\n\t\tpadding: 0px;\r\n\t}\r\n\t100% {\r\n\t\theight: fit-content;\r\n\t\tpadding: 6px 0px 6px 55px;\r\n\t}\r\n}\r\n@keyframes questionInactive {\r\n\t0% {\r\n\t\theight: fit-content;\r\n\t\tpadding: 6px 0px 6px 55px;\r\n\t}\r\n\t100% {\r\n\t\theight: 0px;\r\n\t\tpadding: 0px;\r\n\t}\r\n}\r\n.blink {\r\n\tanimation: blink 1s infinite;\r\n}\r\n@keyframes blink {\r\n\t0% {\r\n\t\topacity: 1;\r\n\t}\r\n\t50% {\r\n\t\topacity: 0;\r\n\t}\r\n\t100% {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n.shake {\r\n\tanimation: shake 2s infinite;\r\n\twidth: 80px;\r\n}\r\n@keyframes shake {\r\n\t0% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n\t25% {\r\n\t\ttransform: scale(1.1);\r\n\t}\r\n\t50% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n\t75% {\r\n\t\ttransform: scale(1.1);\r\n\t}\r\n\t100% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./obs.vue?vue&type=template&id=664248cc&scoped=true\"\nimport script from \"./obs.vue?vue&type=script&lang=js\"\nexport * from \"./obs.vue?vue&type=script&lang=js\"\n\nimport \"./obs.vue?vue&type=style&index=0&id=664248cc&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-664248cc\"\n\nexport default script","export interface Status {\r\n\tstep: string;\r\n\tavaliable: boolean;\r\n\tconnected: boolean;\r\n\tunderway: boolean;\r\n\tdanmaku: boolean;\r\n}\r\nexport const status = (): Status => {\r\n\treturn {\r\n\t\tstep: \"offline\",\r\n\t\tavaliable: true,\r\n\t\tconnected: false,\r\n\t\tunderway: false,\r\n\t\tdanmaku: false\r\n\t};\r\n};\r\n\r\nexport interface Session {\r\n\tstreamName: string;\r\n\tstreamPullAddress: string;\r\n\tstreamPushAddress: Array<string>;\r\n\tpanoramic: boolean;\r\n\tinterval: number;\r\n\trtmpServer: string;\r\n\tstreamKey: string;\r\n}\r\n\r\nexport const session = (): Session => {\r\n\treturn {\r\n\t\tstreamName: \"\",\r\n\t\tstreamPullAddress: \"\",\r\n\t\tstreamPushAddress: [],\r\n\t\tpanoramic: false,\r\n\t\tinterval: 5000,\r\n\t\trtmpServer: \"\",\r\n\t\tstreamKey: \"\"\r\n\t};\r\n};\r\n\r\nexport interface Url {\r\n\turl: string;\r\n\tbitrate: number;\r\n\tqualityType: string;\r\n\tqualityName: string;\r\n}\r\n\r\nexport const url = (): Url => {\r\n\treturn {\r\n\t\turl: \"\",\r\n\t\tbitrate: 0,\r\n\t\tqualityType: \"\",\r\n\t\tqualityName: \"\"\r\n\t};\r\n};\r\n\r\nexport interface Encodec {\r\n\tstreamUrl: Url;\r\n\tresolution: string;\r\n\tframeRate: number;\r\n\ttemplate: string;\r\n}\r\n\r\nexport const encodec = (): Encodec => {\r\n\treturn {\r\n\t\tstreamUrl: url(),\r\n\t\tresolution: \"\",\r\n\t\tframeRate: 0,\r\n\t\ttemplate: \"\"\r\n\t};\r\n};\r\n","export interface Data {\r\n\taccount: string;\r\n\tpassword: string;\r\n}\r\n\r\nexport const data = (): Data => {\r\n\treturn {\r\n\t\taccount: \"\",\r\n\t\tpassword: \"\"\r\n\t};\r\n};\r\n\r\nexport interface Profile {\r\n\tuserID: number;\r\n\tnickname: string;\r\n\tsignature: string;\r\n\tverifiedText: string;\r\n\tfollowingCount: number;\r\n\tfansCount: number;\r\n\tcontributeCount: number;\r\n\tavatar: string;\r\n\tavatarFrame: string;\r\n}\r\n\r\nexport const profile = (): Profile => {\r\n\treturn {\r\n\t\tuserID: 0,\r\n\t\tnickname: \"\",\r\n\t\tsignature: \"\",\r\n\t\tverifiedText: \"\",\r\n\t\tfollowingCount: 0,\r\n\t\tfansCount: 0,\r\n\t\tcontributeCount: 0,\r\n\t\tavatar: \"\",\r\n\t\tavatarFrame: \"\"\r\n\t};\r\n};\r\n\r\nexport interface Session {\r\n\tuserID: number;\r\n\tsecurityKey: string;\r\n\tserviceToken: string;\r\n\tdeviceID: string;\r\n\tcookies: Array<string>;\r\n}\r\n\r\nexport const session = (): Session => {\r\n\treturn {\r\n\t\tuserID: 0,\r\n\t\tsecurityKey: \"\",\r\n\t\tserviceToken: \"\",\r\n\t\tdeviceID: \"\",\r\n\t\tcookies: []\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"outer\" :style=\"{backgroundImage:`url(${backgroundImage})`}\" />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nexport default defineComponent({\r\n\tname: \"randomImage\",\r\n\tcname: \"随机风景图片\",\r\n\ticon: \"el-icon-s-data\",\r\n\tdescription: \"输入关键词后，根据弹幕关键词进行投屏\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: true\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbackgroundImage: \"\"\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.registerOBS();\r\n\t\twsevent.on(\"voteUpdate\", e => {\r\n\t\t\tthis.backgroundImage = e.backgroundImage;\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tmethods: {\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`obs-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n.graph {\r\n\twidth: 100%;\r\n\theight: calc(100% - 40px);\r\n\tbox-sizing: border-box;\r\n\tpadding-top: 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\talign-items: flex-end;\r\n}\r\n.set {\r\n\theight: 100%;\r\n\tposition: relative;\r\n\tflex-shrink: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: flex-end;\r\n}\r\n.set span {\r\n\tfont-size: 18px;\r\n}\r\n.column {\r\n\twidth: 90%;\r\n\tmax-width: 50px;\r\n\tbackground-color: rgb(64, 158, 255);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tcursor: pointer;\r\n\ttransition: height 0.3s ease;\r\n}\r\n.column:hover {\r\n\tbackground-color: rgb(138, 196, 255);\r\n}\r\n.votePanel {\r\n\twidth: 100%;\r\n\theight: calc(100% - 53px);\r\n\tdisplay: flex;\r\n\toverflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./obs.vue?vue&type=template&id=2d9ae9c8&scoped=true\"\nimport script from \"./obs.vue?vue&type=script&lang=js\"\nexport * from \"./obs.vue?vue&type=script&lang=js\"\n\nimport \"./obs.vue?vue&type=style&index=0&id=2d9ae9c8&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2d9ae9c8\"\n\nexport default script","<template>\r\n\t<div class=\"iconCounter\">\r\n\t\t<span :class=\"icon\" />{{num}}\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"iconCounter\",\r\n\tprops: {\r\n\t\ticon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"el-icon-bell\"\r\n\t\t},\r\n\t\tnum: {\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tincreaseAni: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tdecreaseAni: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tnum(n, o) {\r\n\t\t\tthis.ani(n, o);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tani(n: any, o: any) {\r\n\t\t\tif (typeof n === \"string\" || typeof n !== typeof o) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.iconCounter {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tmargin-right: 8px;\r\n\tuser-select: none;\r\n\twhite-space: nowrap;\r\n\tspan {\r\n\t\tmargin-right: 2px;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"iconCounter\",\r\n\tprops: {\r\n\t\ticon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"el-icon-bell\"\r\n\t\t},\r\n\t\tnum: {\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tincreaseAni: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tdecreaseAni: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tnum(n, o) {\r\n\t\t\tthis.ani(n, o);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tani(n: any, o: any) {\r\n\t\t\tif (typeof n === \"string\" || typeof n !== typeof o) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./iconCounter.vue?vue&type=template&id=048bd500&scoped=true\"\nimport script from \"./iconCounter.vue?vue&type=script&lang=ts\"\nexport * from \"./iconCounter.vue?vue&type=script&lang=ts\"\n\nimport \"./iconCounter.vue?vue&type=style&index=0&id=048bd500&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-048bd500\"\n\nexport default script","import {\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tbooleanF,\r\n\tnumberF,\r\n\tfontF,\r\n\tgradientF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nimport { giftTypeOptions } from \"@front/components/danmakuFlow/utils/data\";\r\nexport default () => {\r\n\tconst noInPicture = [\r\n\t\t\"fontSize\",\r\n\t\t\"fontWeight\",\r\n\t\t\"color\",\r\n\t\t\"fontStyle\",\r\n\t\t\"textDecoration\",\r\n\t\t\"textShadowWidth\",\r\n\t\t\"textShadowColor\",\r\n\t\t\"paddingLeft\",\r\n\t\t\"paddingRight\",\r\n\t\t\"paddingTop\",\r\n\t\t\"paddingBottom\"\r\n\t];\r\n\tconst form = {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttype: selectF(\"类型\", giftTypeOptions(), \"50%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\twidth: {\r\n\t\t\t\t\t\t...integerF(\"宽度\", \"25%\"),\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{rootFormData.config.type !== 'picture'}}\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\theight: {\r\n\t\t\t\t\t\t...integerF(\"高度\", \"25%\"),\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{rootFormData.config.type !== 'picture'}}\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"25%\"),\r\n\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"25%\"),\r\n\t\t\t\t\tzIndex: integerF(\"层级\", \"25%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\ttextDecoration: selectF(\r\n\t\t\t\t\t\t\"装饰\",\r\n\t\t\t\t\t\tstyle.textDecoration(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tfor (const style of noInPicture) {\r\n\t\t// @ts-ignore\r\n\t\tform.properties.style.properties[style][\"ui:hidden\"] =\r\n\t\t\t\"{{rootFormData.config.type === 'picture'}}\";\r\n\t}\r\n\treturn form;\r\n};\r\n","<template>\r\n\t<img ref=\"img\" class=\"gift-block\" :style=\"picture\" v-if=\"getGift(danmaku).display&&setting?.config?.type=='picture'\" :src=\"getGift(danmaku).giftDetail.webpPic\" @error=\"reload\" />\r\n\t<div class=\"gift\" :style=\"gname\" v-else-if=\"getGift(danmaku).display&&setting?.config?.type=='name'\">{{getGift(danmaku)?.giftDetail.giftName}}</div>\r\n\t<div class=\"gift\" :style=\"price\" v-else-if=\"getGift(danmaku).display&&setting?.config?.type=='price'\">{{getGiftValue(danmaku)?`${getGiftValue(danmaku)/1000} AC币`:\"免费\"}}</div>\r\n\t<div class=\"gift\" :style=\"number\" v-else-if=\"getGift(danmaku).display&&setting?.config?.type=='number'\"><span class=\"combo\" :key=\"count||1\">{{count||getGift(danmaku)?.count}}</span></div>\r\n\t<div class=\"gift\" v-else />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getGift, getGiftValue } from \"../../utils/getter\";\r\nimport {\r\n\tsize,\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"giftBlock\",\r\n\tcname: \"礼物\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tcount: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tpicture(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...size(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tgname(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tprice(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnumber(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetGift,\r\n\t\tgetGiftValue,\r\n\t\treload() {\r\n\t\t\tconst img: any = this.$refs.img;\r\n\t\t\tif (img) {\r\n\t\t\t\timg.src =\r\n\t\t\t\t\timg.src.substr(0, img.src.indexOf(\"?\")) +\r\n\t\t\t\t\t\"?t=\" +\r\n\t\t\t\t\tnew Date().getTime();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.gift {\r\n\tdisplay: inline;\r\n\tposition: relative;\r\n\t// .level {\r\n\t// }\r\n\t// .name {\r\n\t// }\r\n}\r\n.gift-block {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n}\r\n\r\n.combo {\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tanimation: scale 0.5s forwards;\r\n}\r\n@keyframes scale {\r\n\t0% {\r\n\t\ttransform: scale(3);\r\n\t}\r\n\t100% {\r\n\t\ttransform: scale(1);\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getGift, getGiftValue } from \"../../utils/getter\";\r\nimport {\r\n\tsize,\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"giftBlock\",\r\n\tcname: \"礼物\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1005],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t},\r\n\t\tcount: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tpicture(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...size(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tgname(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tprice(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tnumber(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetGift,\r\n\t\tgetGiftValue,\r\n\t\treload() {\r\n\t\t\tconst img: any = this.$refs.img;\r\n\t\t\tif (img) {\r\n\t\t\t\timg.src =\r\n\t\t\t\t\timg.src.substr(0, img.src.indexOf(\"?\")) +\r\n\t\t\t\t\t\"?t=\" +\r\n\t\t\t\t\tnew Date().getTime();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=14791d0c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=14791d0c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-14791d0c\"\n\nexport default script","<template>\r\n\t<div class=\"timestamp\" :style=\"style\">{{time}}</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { format, fromUnixTime } from \"date-fns\";\r\nimport { getTime } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"timestamp\",\r\n\tcname: \"时间戳\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tconfig(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst config = this.setting?.config || defaultValue().config;\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\ttime(): any {\r\n\t\t\tconst time = format(\r\n\t\t\t\tfromUnixTime(getTime(this.danmaku) / 1000),\r\n\t\t\t\tthis.config?.format || \"HH:mm:ss\"\r\n\t\t\t);\r\n\t\t\tconst preffix = this.setting?.config?.preffix || \"\";\r\n\t\t\tconst affix = this.setting?.config?.affix || \"\";\r\n\t\t\treturn `${preffix}${time}${affix}`;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.timestamp {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tcolor: white;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { format, fromUnixTime } from \"date-fns\";\r\nimport { getTime } from \"../../utils/getter\";\r\nimport {\r\n\tpadding,\r\n\tmargin,\r\n\tborder,\r\n\touterBox,\r\n\tfont,\r\n\tposition,\r\n\ttransform\r\n} from \"../../utils/styleGetter\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"timestamp\",\r\n\tcname: \"时间戳\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007],\r\n\t\tlimit: -1\r\n\t},\r\n\tprops: {\r\n\t\tdanmaku: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst style = this.setting?.style;\r\n\t\t\tif (!style) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...padding(style),\r\n\t\t\t\t...margin(style),\r\n\t\t\t\t...border(style),\r\n\t\t\t\t...outerBox(style),\r\n\t\t\t\t...font(style),\r\n\t\t\t\t...position(style),\r\n\t\t\t\t...transform(style)\r\n\t\t\t};\r\n\t\t},\r\n\t\tconfig(): any {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst config = this.setting?.config || defaultValue().config;\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\ttime(): any {\r\n\t\t\tconst time = format(\r\n\t\t\t\tfromUnixTime(getTime(this.danmaku) / 1000),\r\n\t\t\t\tthis.config?.format || \"HH:mm:ss\"\r\n\t\t\t);\r\n\t\t\tconst preffix = this.setting?.config?.preffix || \"\";\r\n\t\t\tconst affix = this.setting?.config?.affix || \"\";\r\n\t\t\treturn `${preffix}${time}${affix}`;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=0d9d009e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0d9d009e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0d9d009e\"\n\nexport default script","<template>\r\n\t<div id=\"sidebar\">\r\n\t\t<div class=\"mainTitle\">{{ common.title+common.subTitle }}</div>\r\n\t\t<div class=\"subTitle\">版本：{{ common.version }}</div>\r\n\t\t<div class=\"sidebarList\">\r\n\t\t\t<div class=\"listBlock\" v-for=\"item in contents\" :key=\"item.meta.label\">\r\n\t\t\t\t<div class=\"blockTitle\">{{ item.meta.label }}</div>\r\n\t\t\t\t<div class=\"blockRow\" v-for=\"row in item.children\" :key=\"row.meta.label\" :class=\"{active:$route.name==row.name,disabled:row.meta.disabled?row.meta.disabled():false}\" @click=\"route(row)\">\r\n\t\t\t\t\t<span class=\"rowIcon\" :class=\"row.meta.icon\" />{{ row.meta.label }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"footer\">{{ footer.wrap }}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { footer, common } from \"@front/texts\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport content from \"@front/router/clientRouter\";\r\nexport default defineComponent({\r\n\tname: \"sidebarBase\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tevent\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tfooter,\r\n\t\tcommon,\r\n\t\tcontents() {\r\n\t\t\treturn content.slice(1);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\troute(row: any) {\r\n\t\t\tif (row.meta.disabled && row.meta.disabled()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.emit(\"routeChange\", { name: row.name });\r\n\t\t\tif (row.meta.action === \"router\") {\r\n\t\t\t\tthis.$router.push({ name: row.name });\r\n\t\t\t}\r\n\t\t\tif (typeof row.meta.action === \"function\") {\r\n\t\t\t\trow.meta.action();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n\r\n@import \"@front/styles/scrollbar.scss\";\r\n@font-face {\r\n\tfont-family: \"包图小白体\";\r\n\tsrc: url(\"/fonts/包图小白体.ttf\") format(\"truetype\");\r\n}\r\n\r\n#sidebar {\r\n\t// position: absolute;\r\n\tbox-sizing: border-box;\r\n\tflex-shrink: 0;\r\n\tflex-grow: 0;\r\n\theight: 100%;\r\n\twidth: 210px;\r\n\tpadding: 30px 0px 8px 20px;\r\n\tbackground-color: $--color-primary;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tcolor: white;\r\n\tuser-select: none;\r\n\t.mainTitle {\r\n\t\tpadding-left: 65px;\r\n\t\tpadding-right: 15px;\r\n\t\tfont-size: 22px;\r\n\t\tline-height: 25px;\r\n\t\tflex-shrink: 0;\r\n\t\tfont-family: 包图小白体;\r\n\t\tfont-weight: 700px;\r\n\t\tbackground-image: url(\"/imgs/common/logo.gif\");\r\n\t\tbackground-size: auto 110%;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position-x: 0px;\r\n\t}\r\n\t.subTitle {\r\n\t\tpadding: 8px 25px 8px 15px;\r\n\t\tfont-size: 20px;\r\n\t\tflex-shrink: 0;\r\n\t\tfont-family: 包图小白体;\r\n\t}\r\n\t.footer {\r\n\t\tfont-size: $--font-size-extra-small;\r\n\t\twhite-space: pre-line;\r\n\t\tcolor: rgba($color: white, $alpha: 0.7);\r\n\t\tflex-shrink: 0;\r\n\t\tpadding: 8px 25px 0px 15px;\r\n\t}\r\n\t.sidebarList {\r\n\t\tflex-grow: 1;\r\n\t\tflex-shrink: 1;\r\n\t\tpadding: 20px 0px 15px 0px;\r\n\t\tmargin-right: 2px;\r\n\t\toverflow-y: auto;\r\n\t\t@include scrollbarBase();\r\n\t\t.listBlock {\r\n\t\t\tmargin-bottom: 16px;\r\n\t\t\toverflow: hidden;\r\n\t\t\t.blockTitle {\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t\tpadding: 0px 16px 4px 16px;\r\n\t\t\t\tcolor: rgba($color: white, $alpha: 0.7);\r\n\t\t\t}\r\n\t\t\t.blockRow {\r\n\t\t\t\tfont-size: $--font-size-base;\r\n\t\t\t\tpadding: 6px 12px;\r\n\t\t\t\tmargin: 6px 4px;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tletter-spacing: 1px;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t&:hover,\r\n\t\t\t\t&.active {\r\n\t\t\t\t\tbackground-color: rgba(255, 255, 255, 0.2);\r\n\t\t\t\t}\r\n\t\t\t\t&.disabled {\r\n\t\t\t\t\topacity: 0.5;\r\n\t\t\t\t\tcursor: not-allowed;\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tbackground-color: transparent;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.rowIcon {\r\n\t\t\t\t\tpadding-right: 8px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { footer, common } from \"@front/texts\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport content from \"@front/router/clientRouter\";\r\nexport default defineComponent({\r\n\tname: \"sidebarBase\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tevent\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tfooter,\r\n\t\tcommon,\r\n\t\tcontents() {\r\n\t\t\treturn content.slice(1);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\troute(row: any) {\r\n\t\t\tif (row.meta.disabled && row.meta.disabled()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.emit(\"routeChange\", { name: row.name });\r\n\t\t\tif (row.meta.action === \"router\") {\r\n\t\t\t\tthis.$router.push({ name: row.name });\r\n\t\t\t}\r\n\t\t\tif (typeof row.meta.action === \"function\") {\r\n\t\t\t\trow.meta.action();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./sidebarBase.vue?vue&type=template&id=519cf5f5&scoped=true\"\nimport script from \"./sidebarBase.vue?vue&type=script&lang=ts\"\nexport * from \"./sidebarBase.vue?vue&type=script&lang=ts\"\n\nimport \"./sidebarBase.vue?vue&type=style&index=0&id=519cf5f5&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-519cf5f5\"\n\nexport default script","import { defineAsyncComponent } from \"vue\";\r\n\r\nexport const stringF = (title: string, width = \"25%\", others = {}) => {\r\n\treturn {\r\n\t\ttype: \"string\",\r\n\t\ttitle,\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t},\r\n\t\t...others\r\n\t};\r\n};\r\nexport const booleanF = (title: string, width = \"25%\", others = {}) => {\r\n\treturn {\r\n\t\ttype: \"boolean\",\r\n\t\ttitle,\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t},\r\n\t\t...others\r\n\t};\r\n};\r\nexport const integerF = (title: string, width = \"25%\", others = {}) => {\r\n\treturn {\r\n\t\ttype: \"integer\",\r\n\t\ttitle,\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t},\r\n\t\t...others\r\n\t};\r\n};\r\nexport const numberF = (title: string, width = \"25%\", step = 0.1) => {\r\n\treturn {\r\n\t\ttype: \"number\",\r\n\t\ttitle,\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t},\r\n\t\tmultipleOf: step\r\n\t};\r\n};\r\nexport const colorF = (title: string, width = \"25%\", showAlpha = true) => {\r\n\treturn {\r\n\t\ttype: \"string\",\r\n\t\ttitle,\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth,\r\n\t\t\tshowAlpha\r\n\t\t},\r\n\t\tformat: \"color\"\r\n\t};\r\n};\r\n\r\nexport const gradientF = (title: string, width = \"25%\") => {\r\n\treturn {\r\n\t\ttype: \"string\",\r\n\t\ttitle,\r\n\t\t\"ui:widget\": defineAsyncComponent(() =>\r\n\t\t\timport(\"@front/components/form/gradientPicker/index.vue\")\r\n\t\t),\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const fontF = (title: string, width = \"25%\") => {\r\n\treturn {\r\n\t\ttype: \"string\",\r\n\t\ttitle,\r\n\t\t\"ui:widget\": defineAsyncComponent(() =>\r\n\t\t\timport(\"@front/components/form/fontPicker/index.vue\")\r\n\t\t),\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const backgroundImageF = (title: string) => {\r\n\treturn {\r\n\t\ttype: \"string\",\r\n\t\ttitle,\r\n\t\t\"ui:widget\": defineAsyncComponent(() =>\r\n\t\t\timport(\"@front/components/base/imgInput/imgInputStatic.vue\")\r\n\t\t)\r\n\t};\r\n};\r\nexport const selectF = (title: string, options: Array<any>, width = \"25%\") => {\r\n\tconst eNum: any = [];\r\n\tconst eNumNames: any = [];\r\n\toptions.forEach((i: any) => {\r\n\t\tif (!i.label) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\teNumNames.push(i.label);\r\n\t\tif (i.value !== undefined) {\r\n\t\t\teNum.push(i.value);\r\n\t\t} else {\r\n\t\t\teNum.push(i.label);\r\n\t\t}\r\n\t});\r\n\treturn {\r\n\t\ttype: \"string\",\r\n\t\ttitle,\r\n\t\t\"ui:options\": {\r\n\t\t\tsize: \"mini\",\r\n\t\t\twidth\r\n\t\t},\r\n\t\tenum: eNum,\r\n\t\tenumNames: eNumNames\r\n\t};\r\n};\r\n\r\nexport const degreeF = (title: string, width = \"25%\") => {\r\n\treturn {\r\n\t\ttitle,\r\n\t\tdescription: \"请按从上到下，等级从小到大顺序添加\",\r\n\t\twidth,\r\n\t\ttype: \"array\",\r\n\t\tminItems: 1,\r\n\t\titems: {\r\n\t\t\ttype: \"object\",\r\n\t\t\tproperties: {\r\n\t\t\t\tlevel: {\r\n\t\t\t\t\t...integerF(\"大于此等级\", \"25%\"),\r\n\t\t\t\t\tdefault: 0\r\n\t\t\t\t},\r\n\t\t\t\tcolor: colorF(\"显示颜色为\", \"25%\")\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","export interface TempInfo {\r\n\temojiTester: string;\r\n\temojiMatcher: any;\r\n\tsuperChatArray: Array<any>;\r\n\tsuperChatID: any;\r\n\tsuperChatBlock: any;\r\n\tlikeList: any;\r\n}\r\n\r\nexport const tempInfo = () => {\r\n\treturn {\r\n\t\temojiTester: \"\",\r\n\t\temojiMatcher: {},\r\n\t\tsuperChatArray: [],\r\n\t\tsuperChatID: false,\r\n\t\tsuperChatBlock: null,\r\n\t\tlikeList: {}\r\n\t};\r\n};\r\n\r\nexport interface LikeTemp {\r\n\tenterTime: number;\r\n\tuserID: number;\r\n\tisLive: boolean;\r\n}\r\n\r\nexport const likeTemp = () => {\r\n\treturn {\r\n\t\tenterTime: 0,\r\n\t\tuserID: 0,\r\n\t\tisLive: false\r\n\t};\r\n};\r\n","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=14791d0c&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"img-input-text\" :style=\"{'--fit':fit}\">\r\n\t\t<span class=\"hint\" style=\"margin-right:8px\">{{modelValue?getBaseName(modelValue):\"未选择图片\"}}</span>\r\n\t\t<el-button @click=\"getFile\" size=\"mini\" type=\"primary\">选择图片</el-button>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport { uploadImage, path } from \"@front/util_function/system\";\r\nexport default defineComponent({\r\n\tname: \"imgInputText\",\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"cover\"\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetBaseName(url: string) {\r\n\t\t\treturn path.basename(url);\r\n\t\t},\r\n\t\tasync getFile() {\r\n\t\t\tconst file: any = await load(\".jpg,.png,.gif\");\r\n\t\t\tif (file) {\r\n\t\t\t\tconst url = await uploadImage(file.path);\r\n\t\t\t\tthis.$emit(\r\n\t\t\t\t\t\"update:modelValue\",\r\n\t\t\t\t\t`/configFiles/images/${path.basename(url)}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style lang='scss'>\r\n.img-input-text {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\talign-content: center;\r\n\tvertical-align: middle;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport { uploadImage, path } from \"@front/util_function/system\";\r\nexport default defineComponent({\r\n\tname: \"imgInputText\",\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"cover\"\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetBaseName(url: string) {\r\n\t\t\treturn path.basename(url);\r\n\t\t},\r\n\t\tasync getFile() {\r\n\t\t\tconst file: any = await load(\".jpg,.png,.gif\");\r\n\t\t\tif (file) {\r\n\t\t\t\tconst url = await uploadImage(file.path);\r\n\t\t\t\tthis.$emit(\r\n\t\t\t\t\t\"update:modelValue\",\r\n\t\t\t\t\t`/configFiles/images/${path.basename(url)}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./imgInpuText.vue?vue&type=template&id=345d68b2\"\nimport script from \"./imgInpuText.vue?vue&type=script&lang=ts\"\nexport * from \"./imgInpuText.vue?vue&type=script&lang=ts\"\n\nimport \"./imgInpuText.vue?vue&type=style&index=0&id=345d68b2&lang=scss\"\nscript.render = render\n\nexport default script","import {\r\n\tgetTime,\r\n\tgetMedal,\r\n\tgetAvatar,\r\n\tgetNickName,\r\n\tgetContent,\r\n\tgetUserInfo,\r\n\tgetGift\r\n} from \"./getter\";\r\nimport { RootState } from \"@front/store/state\";\r\nimport { danmaku } from \"@/electron_browser/datas\";\r\nexport const hasTime = (danmaku: any) => {\r\n\treturn Boolean(getTime(danmaku));\r\n};\r\n\r\nexport const hasMedal = (danmaku: any) => {\r\n\treturn Boolean(getMedal(danmaku).clubName);\r\n};\r\n\r\nexport const hasAvatar = (danmaku: any) => {\r\n\treturn Boolean(getAvatar(danmaku));\r\n};\r\n\r\nexport const hasNickName = (danmaku: any) => {\r\n\treturn Boolean(getNickName(danmaku));\r\n};\r\n\r\nexport const hasContent = (danmaku: any) => {\r\n\treturn Boolean(getContent(danmaku));\r\n};\r\n\r\nexport const hasGift = (danmaku: any) => {\r\n\treturn danmaku.type === 1005;\r\n};\r\n\r\nexport const isManager = (danmaku: any, state: RootState) => {\r\n\treturn Boolean(\r\n\t\tstate.managerList.find(\r\n\t\t\ti => i.userInfo.userID === getUserInfo(danmaku).userID\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport const isOwner = (danmaku: any, state: RootState) => {\r\n\treturn Boolean(state.userSession.userID === getUserInfo(danmaku).userID);\r\n};\r\n\r\nexport const isNormalDanmaku = (danmaku: any) => {\r\n\treturn [1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007].includes(\r\n\t\tdanmaku.type\r\n\t);\r\n};\r\n\r\nexport const sameGift = (danmakuA: any, danmakuB: any) => {\r\n\treturn (\r\n\t\tgetGift(danmakuA).giftDetail.giftID ===\r\n\t\tgetGift(danmakuB).giftDetail.giftID\r\n\t);\r\n};\r\n\r\nexport const samePerson = (danmakuA: any, danmakuB: any) => {\r\n\treturn getUserInfo(danmakuA).userID === getUserInfo(danmakuB).userID;\r\n};\r\n\r\nexport const basicComponentTester = {\r\n\t1000: [hasNickName, hasAvatar, hasMedal, hasContent, hasTime],\r\n\t1001: [hasNickName, hasAvatar, hasMedal, hasTime],\r\n\t1002: [hasNickName, hasAvatar, hasMedal, hasTime],\r\n\t1003: [hasNickName, hasAvatar, hasMedal, hasTime],\r\n\t1004: [hasNickName, hasTime],\r\n\t1005: [hasNickName, hasAvatar, hasMedal, hasTime],\r\n\t1006: [],\r\n\t1007: [hasNickName, hasTime]\r\n};\r\n","<template>\r\n\t<div class=\"outer\">\r\n\t\t<row-frame class=\"rowframe\" title=\"待唱\" contentClass=\"list\">\r\n\t\t\t<div class=\"song-row\" v-for=\"song in pending\" :key=\"song.title\">\r\n\t\t\t\t<div class=\"song-name\">\r\n\t\t\t\t\t<title-scrolling :label=\"song.title\" />\r\n\t\t\t\t\t<title-scrolling :label=\"song.nickname\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<el-button-group>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"copy(song.title);\" type=\"primary\">复制</el-button>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"addToBlackList(song)\">不想唱</el-button>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"pass(song)\">唱过了</el-button>\r\n\t\t\t\t</el-button-group>\r\n\t\t\t</div>\r\n\t\t</row-frame>\r\n\t\t<row-frame class=\"rowframe\" title=\"已唱\" contentClass=\"list\">\r\n\t\t\t<div class=\"song-row\" v-for=\"song in sang\" :key=\"song.title\">\r\n\t\t\t\t<div class=\"song-name\">\r\n\t\t\t\t\t<title-scrolling :label=\"song.title\" />\r\n\t\t\t\t\t<title-scrolling :label=\"song.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button-group>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"sang = sang.filter(i=>i!==song)\">移出</el-button>\r\n\t\t\t\t</el-button-group>\r\n\t\t\t</div>\r\n\t\t</row-frame>\r\n\t\t<row-frame class=\"rowframe\" title=\"不想唱\" contentClass=\"list\">\r\n\t\t\t<div class=\"song-row\" v-for=\"song in settings.nosing\" :key=\"song\">\r\n\t\t\t\t<div class=\"song-name\">\r\n\t\t\t\t\t<title-scrolling :label=\"song\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button-group>\r\n\t\t\t\t\t<el-button class=\"btn\" size=\"mini\" @click=\"settings.nosing = settings.nosing.filter(i=>i!==song)\">移出</el-button>\r\n\t\t\t\t</el-button-group>\r\n\t\t\t</div>\r\n\t\t</row-frame>\r\n\t\t<el-dialog v-model=\"settingShow\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"shadow\">冷却时间</span>\r\n\t\t\t\t<el-input-number size=\"mini\" v-model=\"settings.coolingTime\" :min=\"0\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<span class=\"hint\">单位为分钟，限制同一人频繁点歌</span>\r\n\t\t\t</div>\r\n\t\t\t<span class=\"hint\">推荐尺寸：400px x 100px</span><br>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { registerClient, closeWorker } from \"@front/util_function/storeWorker\";\r\nimport {\r\n\tgetContent,\r\n\tgetUID,\r\n\tgetTime,\r\n\tgetNickName\r\n} from \"@front/components/danmakuFlow/utils/getter\";\r\nimport { hasContent } from \"@front/components/danmakuFlow/utils/tester\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nimport { copy } from \"@front/util_function/clipboard\";\r\nexport default defineComponent({\r\n\tname: \"danmakuSong\",\r\n\tcname: \"歌回助手\",\r\n\ticon: \"el-icon-microphone\",\r\n\tdescription:\r\n\t\t'简单的点歌记录工具，观众输入\"点歌@歌曲名@\"进行点歌，会合并同名请求，右上角设置提供冷却时间设置',\r\n\tconfigurations: {\r\n\t\twidth: 350,\r\n\t\theight: 600,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: false\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpending: [],\r\n\t\t\tsang: [],\r\n\t\t\tcooling: [],\r\n\t\t\tsettings: {\r\n\t\t\t\tcoolingTime: 1,\r\n\t\t\t\tnosing: []\r\n\t\t\t},\r\n\t\t\tsongInfo: {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tlyric: \"\"\r\n\t\t\t},\r\n\t\t\turl: `http://${window.location.host}/obs/${this.$options.name}`,\r\n\t\t\tsettingShow: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterClient(\r\n\t\t\t[\"changedDanmaku\", \"userProfile\"],\r\n\t\t\t({ changedDanmaku, userProfile }) => {\r\n\t\t\t\tObject.assign(this.$store.state, { userProfile });\r\n\t\t\t\tthis.addSong(\r\n\t\t\t\t\tchangedDanmaku.filter(danmaku => hasContent(danmaku))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis.$emit(\"hasSetting\", this.showSetting);\r\n\t\tthis.registerOBS();\r\n\t\tthis.loadSettings();\r\n\t\twindow.onbeforeunload = this.saveSettings;\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tcloseWorker();\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"userProfile\"])\r\n\t},\r\n\tmethods: {\r\n\t\tcopy,\r\n\t\taddToBlackList(song) {\r\n\t\t\tif (!this.settings.nosing.includes(song.title)) {\r\n\t\t\t\tthis.settings.nosing = [song.title, ...this.settings.nosing];\r\n\t\t\t}\r\n\t\t\tthis.pending = this.pending.filter(i => song !== i);\r\n\t\t},\r\n\t\tpass(song) {\r\n\t\t\tif (!this.hasSong(this.sang, song)) {\r\n\t\t\t\tthis.sang = [song, ...this.sang];\r\n\t\t\t}\r\n\t\t\tthis.cooling = this.pending = this.pending.filter(i => i !== song);\r\n\t\t},\r\n\t\thasSong(songList, song) {\r\n\t\t\treturn Boolean(songList.find(i => song.title === i.title));\r\n\t\t},\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`client-${this.$options.name}`);\r\n\t\t\t\t\t\tthis.wsUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\twsUpdate() {\r\n\t\t\twsevent.wsEmit(\r\n\t\t\t\t`lyric-update`,\r\n\t\t\t\t{\r\n\t\t\t\t\tsongInfo: this.songInfo,\r\n\t\t\t\t\tsettings: this.settings\r\n\t\t\t\t},\r\n\t\t\t\t`obs-lyric`\r\n\t\t\t);\r\n\t\t},\r\n\t\taddSong(danmakus) {\r\n\t\t\tconst time = Date.now();\r\n\t\t\tthis.cooling = this.cooling.filter(\r\n\t\t\t\ti => time - i.time < 1000 * 60 * this.settings.coolingTime\r\n\t\t\t);\r\n\t\t\tdanmakus.forEach(danmaku => {\r\n\t\t\t\tconst uid = getUID(danmaku);\r\n\t\t\t\tif (this.cooling.find(i => i.userID === uid)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst content = getContent(danmaku);\r\n\t\t\t\tconst nickname = getNickName(danmaku);\r\n\t\t\t\tif (!content || !content.includes(\"点歌\")) return;\r\n\t\t\t\tlet songName = content.split(/@/)[1];\r\n\t\t\t\tif (!songName) return;\r\n\t\t\t\tsongName = songName.trim();\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.hasSong(this.sang, { title: songName }) ||\r\n\t\t\t\t\tthis.settings.nosing.includes(songName)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst newSong = {\r\n\t\t\t\t\tuserID: uid,\r\n\t\t\t\t\tcontent,\r\n\t\t\t\t\tnickname,\r\n\t\t\t\t\ttitle: songName,\r\n\t\t\t\t\ttime\r\n\t\t\t\t};\r\n\t\t\t\tthis.pending = [newSong, ...this.pending];\r\n\t\t\t\tthis.cooling = [newSong, ...this.cooling];\r\n\t\t\t});\r\n\t\t},\r\n\t\tshowSetting() {\r\n\t\t\tthis.settingShow = !this.settingShow;\r\n\t\t},\r\n\t\tloadSettings() {\r\n\t\t\tlet settings = localStorage.getItem(`applet$${this.$options.name}`);\r\n\t\t\tif (settings) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsettings = JSON.parse(settings);\r\n\t\t\t\t\tObject.assign(this.settings, settings);\r\n\t\t\t\t} catch (error) {}\r\n\t\t\t}\r\n\r\n\t\t\tthis.upgradeSettings();\r\n\t\t},\r\n\t\tupgradeSettings() {\r\n\t\t\tdocument.body.style.setProperty(\r\n\t\t\t\t\"--opacity\",\r\n\t\t\t\tthis.settings.opacity / 100\r\n\t\t\t);\r\n\t\t},\r\n\t\tsaveSettings() {\r\n\t\t\tlocalStorage.setItem(\r\n\t\t\t\t`applet$${this.$options.name}`,\r\n\t\t\t\tJSON.stringify(this.settings)\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.song-row {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\twidth: 100%;\r\n\tmargin-bottom: 8px;\r\n\talign-items: center;\r\n\t.song-name {\r\n\t\tflex-grow: 1;\r\n\t\tflex-shrink: 1 !important;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: flex;\r\n\r\n\t\t& > div {\r\n\t\t\tmargin-right: 8px;\r\n\t\t\twidth: calc(50% - 8px);\r\n\t\t}\r\n\t}\r\n\t& > * {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t.btn {\r\n\t\tpadding: 0px 4px !important;\r\n\t}\r\n}\r\n.rowframe {\r\n\tbox-sizing: border-box;\r\n\twidth: 100% !important;\r\n\theight: calc(100% / 3 - 16px);\r\n\tpadding: 4px;\r\n\tflex-shrink: 0;\r\n\t&:deep .list {\r\n\t\theight: calc(100% - 24px);\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t\toverflow-y: auto;\r\n\t\tpadding-right: 4px;\r\n\t\tbox-sizing: border-box;\r\n\t\toverflow-y: scroll;\r\n\r\n\t\t&:hover {\r\n\t\t\tpadding-right: 0px;\r\n\t\t}\r\n\t\t&::-webkit-scrollbar {\r\n\t\t\t-webkit-appearance: none;\r\n\t\t\twidth: 4px;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\theight: 10px;\r\n\t\t\ttransition: background-color 1s;\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t&:hover {\r\n\t\t\t&::-webkit-scrollbar {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&::-webkit-scrollbar-thumb {\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\t}\r\n\r\n\t\t&::-webkit-scrollbar-thumb:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\t}\r\n\r\n\t\t&::-webkit-scrollbar-thumb:window-inactive {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\t}\r\n\t}\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tbackground-color: whitesmoke;\r\n\tdisplay: flex;\r\n\talign-content: stretch;\r\n\tflex-direction: column;\r\n\tborder: 2px solid grey;\r\n\t.left {\r\n\t\twidth: calc(100% - 250px);\r\n\t}\r\n\t.right {\r\n\t\twidth: 250px;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tbox-sizing: border-box;\r\n\tjustify-content: space-between;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.row span {\r\n\twhite-space: nowrap;\r\n\tflex-shrink: 0;\r\n\tfont-size: 16px;\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=1cbd7768&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1cbd7768&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1cbd7768\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=7cbfd3e9&scoped=true&lang=scss\"","import { isElectron } from \"@front/util_function/electron\";\r\nimport { ElMessage } from \"element-plus\";\r\nconst { clipboard }: any = isElectron() ? require(\"electron\") : {};\r\n\r\nexport const copyText = (text: string) => {\r\n\treturn new Promise(resolve => {\r\n\t\tclipboard.writeText(text);\r\n\t\tresolve(text);\r\n\t});\r\n};\r\n\r\nexport const copy = (text: string) => {\r\n\tcopyText(text).then(() => {\r\n\t\tElMessage({\r\n\t\t\tmessage: \"复制成功\",\r\n\t\t\tduration: 1500,\r\n\t\t\ttype: \"success\",\r\n\t\t\toffset: 60\r\n\t\t});\r\n\t});\r\n};\r\n","import { toANY } from \"@/electron_browser/util_function/type\";\r\nimport { randomId } from \"@front/util_function/base\";\r\nconst baseUrl =\r\n\tprocess.env.NODE_ENV === \"production\"\r\n\t\t? window.location.hostname\r\n\t\t: \"localhost\";\r\n\r\nexport const wsStatus: any = {\r\n\turl: `ws://${baseUrl}:15368`,\r\n\tws: null,\r\n\ttimeout: 5000,\r\n\tonline: false\r\n};\r\n\r\nexport const wsPromise = (\r\n\tmethod: string,\r\n\tdata: any = {},\r\n\ttimeoutD = 12000\r\n): Promise<any> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (!wsStatus.ws || wsStatus.ws.readyState !== 1) {\r\n\t\t\treject(new Error(\"serve not started!\"));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst requestID = String(randomId(10));\r\n\t\tconst timeout = setTimeout(() => {\r\n\t\t\twsStatus.ws?.removeEventListener(\"message\", judge);\r\n\t\t\tif (data.type !== 2) {\r\n\t\t\t\treject(\r\n\t\t\t\t\tnew Error(`${method} timeout!,data:${JSON.stringify(data)}`)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}, timeoutD);\r\n\t\tconst judge = (e: any) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tif (data.requestID === requestID) {\r\n\t\t\t\tif (data.result === 13) {\r\n\t\t\t\t\treject(new Error(data.error));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\treject(new Error(data.error));\r\n\t\t\t\t}\r\n\t\t\t\tif (data.type !== 1) {\r\n\t\t\t\t\tconsole.log(`======res===${method}=====`);\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\tresolve(data.data);\r\n\t\t\t\twsStatus.ws?.removeEventListener(\"message\", judge);\r\n\t\t\t}\r\n\t\t};\r\n\t\twsStatus.ws.addEventListener(\"message\", judge);\r\n\t\tconsole.log(`======send===${method}=====`);\r\n\t\tconsole.log(data);\r\n\t\tconst role = toANY(window).role || \"无\";\r\n\t\twsStatus.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t...data,\r\n\t\t\t\trequestID,\r\n\t\t\t\trole\r\n\t\t\t})\r\n\t\t);\r\n\t});\r\n};\r\n","<template>\r\n\t<div class=\"outer\">\r\n\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t<div :style=\"lyticStyle\" class=\"lyric shadow\" :key=\"songInfo.lyric\">{{songInfo.lyric||\"暂无歌词\"}}</div>\r\n\t\t</transition>\r\n\t\t<title-scrolling class=\"song-name shadow\" style=\"width:100%\" :style=\"titleStyle\" :label=\"`正在播放：${songInfo.title||'暂无播放歌曲'} ${songInfo.author?` - ${songInfo.author}`:''}`\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nexport default defineComponent({\r\n\tname: \"danmakuSongPicker\",\r\n\tcname: \"弹幕点歌\",\r\n\ticon: \"el-icon-s-data\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsongInfo: {\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tlyric: \"\"\r\n\t\t\t},\r\n\t\t\tsettings: {\r\n\t\t\t\tlyricSize: 20,\r\n\t\t\t\tlyricColor: \"rgba(255,255,255,1)\",\r\n\t\t\t\tlyricShadow: \"rgba(0,0,0,1)\",\r\n\t\t\t\ttitleSize: 16,\r\n\t\t\t\ttitleColor: \"rgba(255,255,255,1)\",\r\n\t\t\t\ttitleShadow: \"rgba(0,0,0,1)\"\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tregisterRole(\"网页歌词\");\r\n\t\tthis.registerOBS();\r\n\t\twsevent.on(\"lyric-update\", e => {\r\n\t\t\tthis.songInfo = e.songInfo;\r\n\t\t\tthis.settings = e.settings;\r\n\t\t});\r\n\t},\r\n\tcomputed: {\r\n\t\ttitleStyle() {\r\n\t\t\treturn {\r\n\t\t\t\tfontSize: `${this.settings.titleSize}px !important`,\r\n\t\t\t\tcolor: `${this.settings.titleColor} !important`,\r\n\t\t\t\ttextShadow: `${this.settings.titleShadow} -${this.settings.titleOutline}px -${this.settings.titleOutline}px 0px, ${this.settings.titleShadow} 0px -${this.settings.titleOutline}px 0px,\r\n\t\t\t\t\t\t\t ${this.settings.titleShadow} ${this.settings.titleOutline}px -${this.settings.titleOutline}px 0px, ${this.settings.titleShadow} ${this.settings.titleOutline}px 0px 0px,\r\n\t\t\t\t\t\t\t ${this.settings.titleShadow} ${this.settings.titleOutline}px ${this.settings.titleOutline}px 0px, ${this.settings.titleShadow} 0px ${this.settings.titleOutline}px 0px,\r\n\t\t\t\t\t\t\t ${this.settings.titleShadow} -${this.settings.titleOutline}px ${this.settings.titleOutline}px 0px, ${this.settings.titleShadow} -${this.settings.titleOutline}px 0px 0px !important`\r\n\t\t\t};\r\n\t\t},\r\n\t\tlyticStyle() {\r\n\t\t\treturn {\r\n\t\t\t\tfontSize: `${this.settings.lyricSize}px !important`,\r\n\t\t\t\tcolor: `${this.settings.lyricColor} !important`,\r\n\t\t\t\ttextShadow: `${this.settings.lyricShadow} -${this.settings.lyricOutline}px -${this.settings.lyricOutline}px 0px, ${this.settings.lyricShadow} 0px -${this.settings.lyricOutline}px 0px,\r\n\t\t\t\t\t\t\t ${this.settings.lyricShadow} ${this.settings.lyricOutline}px -${this.settings.lyricOutline}px 0px, ${this.settings.lyricShadow} ${this.settings.lyricOutline}px 0px 0px,\r\n\t\t\t\t\t\t\t ${this.settings.lyricShadow} ${this.settings.lyricOutline}px ${this.settings.lyricOutline}px 0px, ${this.settings.lyricShadow} 0px ${this.settings.lyricOutline}px 0px,\r\n\t\t\t\t\t\t\t ${this.settings.lyricShadow} -${this.settings.lyricOutline}px ${this.settings.lyricOutline}px 0px, ${this.settings.lyricShadow} -${this.settings.lyricOutline}px 0px 0px !important`\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tmethods: {\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`obs-lyric`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 16px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tpadding: 16px;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: flex-end;\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n\r\n.row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 16px 8px 16px;\r\n}\r\n.lyric {\r\n\tfont-size: 20px;\r\n\tmargin-bottom: 8px;\r\n}\r\n.song-name {\r\n\tpadding: 0px;\r\n\tcolor: white !important;\r\n\twhite-space: nowrap;\r\n}\r\n</style>\r\n","import { render } from \"./obs.vue?vue&type=template&id=9799cc04&scoped=true\"\nimport script from \"./obs.vue?vue&type=script&lang=js\"\nexport * from \"./obs.vue?vue&type=script&lang=js\"\n\nimport \"./obs.vue?vue&type=style&index=0&id=9799cc04&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-9799cc04\"\n\nexport default script","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./base.vue?vue&type=style&index=0&id=40465ea6&scoped=true&lang=scss\"","import {\r\n\tgradientF,\r\n\tcolorF,\r\n\tintegerF,\r\n\tselectF,\r\n\tnumberF,\r\n\tstringF,\r\n\tfontF\r\n} from \"@front/components/danmakuFlow/utils/form\";\r\nimport style from \"@front/datas/styleOptions\";\r\nexport default () => {\r\n\treturn {\r\n\t\ttype: \"object\",\r\n\t\tproperties: {\r\n\t\t\tconfig: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"设置\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tpreffix: stringF(\"前缀\", \"25%\"),\r\n\t\t\t\t\taffix: stringF(\"后缀\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: \"object\",\r\n\t\t\t\ttitle: \"样式\",\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\tverticalAlign: selectF(\r\n\t\t\t\t\t\t\"垂直排布\",\r\n\t\t\t\t\t\tstyle.verticalAlign(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\trotateZ: integerF(\"旋转\", \"75%\"),\r\n\t\t\t\t\tposition: selectF(\"定位\", style.position(), \"100%\"),\r\n\t\t\t\t\tleft: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"左定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"右定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttop: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"顶部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbottom: {\r\n\t\t\t\t\t\t\"ui:hidden\":\r\n\t\t\t\t\t\t\t\"{{parentFormData.position !== 'absolute'}}\",\r\n\t\t\t\t\t\t...integerF(\"底部定位\", \"25%\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfont: fontF(\"字体\", \"25%\"),\r\n\t\t\t\t\tfontSize: integerF(\"字号\", \"25%\"),\r\n\t\t\t\t\tfontWeight: selectF(\"字粗\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\tcolor: colorF(\"颜色\", \"25%\"),\r\n\t\t\t\t\tfontStyle: selectF(\"风格\", style.fontWeight(), \"25%\"),\r\n\t\t\t\t\ttextDecoration: selectF(\r\n\t\t\t\t\t\t\"装饰\",\r\n\t\t\t\t\t\tstyle.textDecoration(),\r\n\t\t\t\t\t\t\"25%\"\r\n\t\t\t\t\t),\r\n\t\t\t\t\ttextShadowWidth: numberF(\"文字轮廓\", \"25%\"),\r\n\t\t\t\t\ttextShadowColor: colorF(\"阴影颜色\", \"25%\", false),\r\n\t\t\t\t\tpaddingLeft: integerF(\"左内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingRight: integerF(\"右内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingTop: integerF(\"上内边距\", \"25%\"),\r\n\t\t\t\t\tpaddingBottom: integerF(\"下内边距\", \"25%\"),\r\n\t\t\t\t\tmarginLeft: integerF(\"左外边距\", \"25%\"),\r\n\t\t\t\t\tmarginRight: integerF(\"右外边距\", \"25%\"),\r\n\t\t\t\t\tmarginTop: integerF(\"上外边距\", \"25%\"),\r\n\t\t\t\t\tmarginBottom: integerF(\"下外边距\", \"25%\"),\r\n\t\t\t\t\tbackgroundColor: gradientF(\"背景颜色\", \"25%\"),\r\n\t\t\t\t\tborderRadius: integerF(\"边框圆角\", \"25%\"),\r\n\t\t\t\t\tborderWidth: integerF(\"边框宽\", \"25%\"),\r\n\t\t\t\t\tborderColor: colorF(\"边框颜色\", \"25%\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};\r\n","import merge from \"lodash/merge\";\r\nexport const randomId = (length = 6) => {\r\n\tlet Num = \"\";\r\n\tfor (let i = 0; i < length; i++) {\r\n\t\tNum += Math.floor(Math.random() * 10);\r\n\t}\r\n\treturn Num;\r\n};\r\n\r\nexport const removePunctuation = (str: string) => {\r\n\treturn str.replaceAll(/[!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]/g, \"\");\r\n};\r\n\r\nexport const removePunctuationSpace = (str: string) => {\r\n\treturn str.replaceAll(/[!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]/g, \" \");\r\n};\r\n\r\nexport const escapeRegExp = (string: string) => {\r\n\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"); // $& means the whole matched string\r\n};\r\n\r\nexport const basename = (path: string) => {\r\n\treturn path.split(\"/\").reverse()[0];\r\n};\r\n\r\nexport const sleep = (time: any) => {\r\n\treturn new Promise(resolve => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve(1);\r\n\t\t}, time);\r\n\t});\r\n};\r\n\r\nexport const assign = (dist: any, src: any) => {\r\n\treturn merge(dist, src);\r\n};\r\n\r\nexport const isUrl = (str: string) => {\r\n\tif (!str) {\r\n\t\treturn false;\r\n\t}\r\n\treturn /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/gi.test(\r\n\t\tstr\r\n\t);\r\n};\r\n\r\nexport const registerRole = (name: string) => {\r\n\tconst win: any = window;\r\n\twin.role = name;\r\n};\r\n","import { wsStatus as status, wsStatus } from \"./utils/websocket\";\r\nimport { toANY } from \"@front/util_function/type\";\r\n\r\nlet heartbeat: any = null;\r\nlet ready = 0;\r\nlet heartBeatCount = 0;\r\nexport const isOnline = (): boolean => {\r\n\treturn toANY(window).wsl?.readyState === 1;\r\n};\r\nexport const isConnecting = (): boolean => {\r\n\treturn toANY(window).wsl?.readyState === 0;\r\n};\r\n\r\nexport const heartBeat = (): void => {\r\n\tconsole.log(\"====心跳=====\");\r\n\tconst judge = (e: any) => {\r\n\t\tconst data = JSON.parse(e.data);\r\n\t\t// console.log(\"心跳捕获\", data);\r\n\t\tif (data.type === 1) {\r\n\t\t\tconsole.log(\"====心跳应答=====\");\r\n\t\t\ttoANY(window).wsl?.removeEventListener(\"message\", judge);\r\n\t\t\theartBeatCount--;\r\n\t\t}\r\n\t};\r\n\ttoANY(window)?.wsl.addEventListener(\"message\", judge);\r\n\tstatus.ws.send(\r\n\t\tJSON.stringify({\r\n\t\t\ttype: 1\r\n\t\t})\r\n\t);\r\n\theartBeatCount++;\r\n\r\n\tif (heartBeatCount > 5) {\r\n\t\ttry {\r\n\t\t\ttoANY(window)?.wsl?.close();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t\theartBeatCount = 0;\r\n\t}\r\n};\r\nexport const startHeatBeat = (): void => {\r\n\tclearTimeout(heartbeat);\r\n\tif (isOnline()) {\r\n\t\theartBeat();\r\n\t}\r\n\theartbeat = setTimeout(() => {\r\n\t\tstartHeatBeat();\r\n\t}, 3000);\r\n};\r\nexport const init = ({ onOpen, onClose }: any) => {\r\n\tstartHeatBeat();\r\n\tif (!isOnline() && !isConnecting()) {\r\n\t\ttry {\r\n\t\t\ttoANY(window).wsl.close();\r\n\t\t} catch (error) {\r\n\t\t\t// console.error(error);\r\n\t\t}\r\n\t\ttoANY(window).wsl = status.ws = new WebSocket(status.url);\r\n\t\tstatus.ws.onopen = () => {\r\n\t\t\tstatus.online = true;\r\n\t\t\tready = 1;\r\n\t\t\tonOpen();\r\n\t\t};\r\n\t\tstatus.ws.onclose = () => {\r\n\t\t\tstatus.online = false;\r\n\t\t\t// @ts-ignore\r\n\t\t\tstatus.ws = window.wsl = null;\r\n\t\t\tif (ready) {\r\n\t\t\t\tready = 0;\r\n\t\t\t\tonClose();\r\n\t\t\t}\r\n\t\t};\r\n\t\tstatus.ws.onerror = () => {\r\n\t\t\tstatus.online = false;\r\n\t\t};\r\n\t\t// status.ws.onmessage = (e: any) => {\r\n\t\t// \t// console.log(e.data);\r\n\t\t// };\r\n\t}\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0771850b&scoped=true&lang=scss\"","import { randomId } from \"./base\";\r\nexport const load = (filetype = \"*\") => {\r\n\treturn new Promise(resolve => {\r\n\t\tconst id = `file-${randomId()}`;\r\n\t\tconst fileEle = document.createElement(\"input\");\r\n\t\tfileEle.type = \"file\";\r\n\t\tfileEle.accept = filetype;\r\n\t\tfileEle.click();\r\n\t\tdocument.body.onfocus = () => {\r\n\t\t\tdocument.body.onfocus = null;\r\n\r\n\t\t\tfileEle.onchange = () => {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst file = fileEle.files[0];\r\n\t\t\t\tfileEle.remove();\r\n\t\t\t\tif (file) {\r\n\t\t\t\t\tresolve(file);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve(false);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tfileEle.remove();\r\n\t\t\t\tresolve(false);\r\n\t\t\t}, 5000);\r\n\t\t};\r\n\t});\r\n};\r\n\r\nexport const loadAsText = (fileType = \"*\") => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tload(fileType)\r\n\t\t\t.then((file: any) => {\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\treader.onload = (e: any) => {\r\n\t\t\t\t\tresolve(reader.result);\r\n\t\t\t\t};\r\n\t\t\t\treader.readAsText(file);\r\n\t\t\t})\r\n\t\t\t.catch(reject);\r\n\t});\r\n};\r\n","import { isElectron } from \"@front/util_function/electron\";\r\nimport { randomId, removePunctuationSpace } from \"@front/util_function/base\";\r\nexport const path = isElectron() ? window.require(\"path\") : {};\r\nconst { remote, ipcRenderer }: any = isElectron()\r\n\t? window.require(\"electron\")\r\n\t: {};\r\nexport { ipcRenderer };\r\nexport const win = remote?.getCurrentWindow();\r\nexport const minimize = () => {\r\n\tif (isElectron()) {\r\n\t\twin?.minimize();\r\n\t}\r\n};\r\n\r\nexport const startApplet = (appletConfig: any) => {\r\n\tconst { name, cname, configurations } = appletConfig;\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\r\n\t\t\t\"startApplet\",\r\n\t\t\tJSON.stringify({ name, cname, configurations })\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport const close = () => {\r\n\tif (isElectron()) {\r\n\t\twin?.close();\r\n\t}\r\n};\r\nexport const log = (msg: any) => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\"log\", String(msg));\r\n\t}\r\n};\r\n\r\nexport const setTop = (isTop: boolean) => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\r\n\t\t\t\"mainwin_setTop\",\r\n\t\t\tJSON.stringify({\r\n\t\t\t\tisTop\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport const setIgnoreMouseEvent = (ignore: boolean) => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\r\n\t\t\t\"mainwin_setIgnoreMouseEvent\",\r\n\t\t\tJSON.stringify({\r\n\t\t\t\tignore\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport const setResizeable = (isResizeable: boolean) => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\r\n\t\t\t\"mainwin_setResizeable\",\r\n\t\t\tJSON.stringify({\r\n\t\t\t\tisResizeable\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport const restore = () => {\r\n\tif (isElectron()) {\r\n\t\twin?.restore();\r\n\t}\r\n};\r\n\r\nexport const backendKill = () => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\"backend_kill\");\r\n\t}\r\n};\r\n\r\nexport const backendRestart = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"backend_restart\");\r\n\t\t\tipcRenderer?.once(\"restart_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"restart failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const backendInit = () => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\"backend_init\");\r\n\t}\r\n};\r\n\r\nexport const launch = (path: any) => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\"backend_launch\", path);\r\n\t}\r\n};\r\n\r\nexport const save = (data: any) => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\"backend_save\", JSON.stringify(data));\r\n\t}\r\n};\r\n\r\nexport const reload = () => {\r\n\tif (isElectron()) {\r\n\t\tipcRenderer?.send(\"mainwin_reload\");\r\n\t}\r\n};\r\n\r\nexport const load = (data: any) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"backend_load\", JSON.stringify(data));\r\n\t\t\tipcRenderer?.once(\"load_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"load file failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const copy = ({ srcUrl, distUrl }: any) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\r\n\t\t\t\t\"backend_copy\",\r\n\t\t\t\tJSON.stringify({\r\n\t\t\t\t\tsrcUrl,\r\n\t\t\t\t\tdistUrl\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tipcRenderer?.once(\"copy_file_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"copy file failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const uploadImage = (imageUrl: string) => {\r\n\treturn copy({\r\n\t\tsrcUrl: imageUrl,\r\n\t\tdistUrl: `./images/image${randomId(12)}${path.extname(imageUrl)}`\r\n\t});\r\n};\r\n\r\nexport const uploadBase64Image = (b64: string) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"backend_save_b64\", b64);\r\n\t\t\tipcRenderer?.once(\"save_b64_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"load file failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const saveConfig = (data: any) => {\r\n\tif (!isElectron()) {\r\n\t\tthrow new Error(\"no electron!\");\r\n\t}\r\n\tipcRenderer?.send(\"backend_save_config\", JSON.stringify(data));\r\n};\r\n\r\nexport const loadConfig = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"backend_load_config\");\r\n\t\t\tipcRenderer?.once(\"load_config_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(JSON.parse(args));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"load file failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const restoreConfig = (path: string) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"load_backup\", path);\r\n\t\t\tipcRenderer?.once(\"load_backup_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(JSON.parse(args));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"读取备份文件失败！\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\nexport const backupConfig = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"save_backup\");\r\n\t\t\tipcRenderer?.once(\"save_backup_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"备份文件失败！\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const saveSuperChat = (data: any) => {\r\n\tif (!isElectron()) {\r\n\t\tthrow new Error(\"no electron!\");\r\n\t}\r\n\tipcRenderer?.send(\"backend_save_superchat\", JSON.stringify(data));\r\n};\r\n\r\nexport const loadSuperChat = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"backend_load_superchat\");\r\n\t\t\tipcRenderer?.once(\r\n\t\t\t\t\"load_superchat_complete\",\r\n\t\t\t\t(e: any, args: any) => {\r\n\t\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\t\tresolve(JSON.parse(args));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error(\"load file failed!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const getFontList = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"backend_font_list\");\r\n\t\t\tipcRenderer?.once(\"font_list_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(JSON.parse(args));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"load font failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const uploadFont = (fontUrl: string) => {\r\n\treturn copy({\r\n\t\tsrcUrl: fontUrl,\r\n\t\tdistUrl: `./fonts/${path.basename(fontUrl)}`\r\n\t});\r\n};\r\n\r\nexport const sendChat = (data: any) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\"send_chat\", JSON.stringify(data));\r\n\t\t\tipcRenderer?.once(\"send_chat_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"send chat failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const windowsRead = ({ speed, text, volume }: any) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\r\n\t\t\t\t\"send_voice\",\r\n\t\t\t\tJSON.stringify({\r\n\t\t\t\t\tvolume,\r\n\t\t\t\t\tspeed,\r\n\t\t\t\t\ttext: removePunctuationSpace(text)\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tipcRenderer?.once(\"voice_complete\", (e: any, args: any) => {\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tresolve(args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"send chat failed!\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const xfRead = ({ api, speed, text, volume }: any) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (!isElectron()) {\r\n\t\t\t\tthrow new Error(\"no electron!\");\r\n\t\t\t}\r\n\t\t\tipcRenderer?.send(\r\n\t\t\t\t\"send_xfvoice\",\r\n\t\t\t\tJSON.stringify({\r\n\t\t\t\t\tapi,\r\n\t\t\t\t\tvolume,\r\n\t\t\t\t\tspeed,\r\n\t\t\t\t\ttext: removePunctuationSpace(text)\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tconst timeout = setTimeout(() => {\r\n\t\t\t\treject(new Error(\"send chat failed!\"));\r\n\t\t\t}, 5000);\r\n\t\t\tipcRenderer?.once(\"xfvoice_complete\", (e: any, args: any) => {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\tif (args !== \"#error\") {\r\n\t\t\t\t\tconst audio = new Audio();\r\n\t\t\t\t\taudio.onerror = reject;\r\n\t\t\t\t\taudio.onended = resolve;\r\n\t\t\t\t\taudio.src = `${args}?cb=${Date.now()}`;\r\n\t\t\t\t\taudio.play();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject(new Error(\"send chat failed!\"));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const robots = {\r\n\tdefault: windowsRead,\r\n\tkdxf: xfRead\r\n};\r\n","<template>\r\n\t<div class=\"imgInput\" @mouseenter.prevent=\"showTips\" @mouseleave.prevent=\"showTips\" @mouseover.prevent=\"showTips\" @drop=\"loadFile\" @dragenter.prevent=\"showTips\" @dragover.prevent=\"showTips\" @click=\"getFile\">\r\n\t\t<div class=\"tips\" v-if=\"tips\">\r\n\t\t\t<div class=\"icon el-icon-picture-outline\" />\r\n\t\t\t<div>{{msg}}</div>\r\n\t\t</div>\r\n\t\t<input ref=\"file\" type=\"file\" v-show=\"false\" accept=\".jpg,.png,.gif\" @change=\"loadFile\" />\r\n\t\t<img class=\"cover\" v-if=\"img\" :src=\"img\" />\r\n\t\t<div class=\"cover image-slot\" v-else />\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"imgInputBase\",\r\n\tprops: {\r\n\t\tsrc: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\teditable: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst blob: any = null;\r\n\t\treturn {\r\n\t\t\ttips: false,\r\n\t\t\tmsg: \"\",\r\n\t\t\tblob\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\timg: {\r\n\t\t\tget(): any {\r\n\t\t\t\treturn this.src;\r\n\t\t\t},\r\n\t\t\tset(e: any): any {\r\n\t\t\t\tthis.$emit(\"update:src\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tshowTips(e: any) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// console.log(e);\r\n\t\t\tif (!this.editable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (e.type === \"mouseleave\" || e.type === \"dragleave\") {\r\n\t\t\t\tthis.tips = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (e.buttons === 1) {\r\n\t\t\t\tthis.msg = \"将照片拖到此处释放\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.msg = \"点击或将图片拖到此处\";\r\n\t\t\t}\r\n\t\t\tthis.tips = true;\r\n\t\t},\r\n\t\tgetFile() {\r\n\t\t\tthis.$el.querySelector(\"input\").click();\r\n\t\t},\r\n\t\tloadFile(e: any) {\r\n\t\t\tlet files = new File([\"\"], \"\");\r\n\t\t\tif (e.dataTransfer) {\r\n\t\t\t\tfor (let i = 0; i < e.dataTransfer.items.length; i++) {\r\n\t\t\t\t\t// If dropped items aren't files, reject them\r\n\t\t\t\t\tif (e.dataTransfer.items[i].kind === \"file\") {\r\n\t\t\t\t\t\tfiles = e.dataTransfer.items[i].getAsFile();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfiles = e.srcElement.files[0];\r\n\t\t\t}\r\n\t\t\tthis.blob = files;\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(files);\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tthis.img = reader.result;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.imgInput {\r\n\tposition: relative;\r\n\tmin-width: 50px;\r\n\tmin-height: 50px;\r\n}\r\n.cover {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tcursor: pointer;\r\n}\r\n.image-slot {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-image: url(\"/imgs/common/noCover.jpg\");\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: center;\r\n\tbackground-color: white;\r\n}\r\n.tips {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tz-index: 10;\r\n\tuser-select: none;\r\n\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\tcolor: $--color-primary;\r\n\tfont-size: $--font-size-medium;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\t.icon {\r\n\t\tfont-size: 48px;\r\n\t\tpadding: 8px;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"imgInputBase\",\r\n\tprops: {\r\n\t\tsrc: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\teditable: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst blob: any = null;\r\n\t\treturn {\r\n\t\t\ttips: false,\r\n\t\t\tmsg: \"\",\r\n\t\t\tblob\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\timg: {\r\n\t\t\tget(): any {\r\n\t\t\t\treturn this.src;\r\n\t\t\t},\r\n\t\t\tset(e: any): any {\r\n\t\t\t\tthis.$emit(\"update:src\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tshowTips(e: any) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// console.log(e);\r\n\t\t\tif (!this.editable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (e.type === \"mouseleave\" || e.type === \"dragleave\") {\r\n\t\t\t\tthis.tips = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (e.buttons === 1) {\r\n\t\t\t\tthis.msg = \"将照片拖到此处释放\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.msg = \"点击或将图片拖到此处\";\r\n\t\t\t}\r\n\t\t\tthis.tips = true;\r\n\t\t},\r\n\t\tgetFile() {\r\n\t\t\tthis.$el.querySelector(\"input\").click();\r\n\t\t},\r\n\t\tloadFile(e: any) {\r\n\t\t\tlet files = new File([\"\"], \"\");\r\n\t\t\tif (e.dataTransfer) {\r\n\t\t\t\tfor (let i = 0; i < e.dataTransfer.items.length; i++) {\r\n\t\t\t\t\t// If dropped items aren't files, reject them\r\n\t\t\t\t\tif (e.dataTransfer.items[i].kind === \"file\") {\r\n\t\t\t\t\t\tfiles = e.dataTransfer.items[i].getAsFile();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfiles = e.srcElement.files[0];\r\n\t\t\t}\r\n\t\t\tthis.blob = files;\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(files);\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tthis.img = reader.result;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./imgInputBase.vue?vue&type=template&id=035791f1&scoped=true\"\nimport script from \"./imgInputBase.vue?vue&type=script&lang=ts\"\nexport * from \"./imgInputBase.vue?vue&type=script&lang=ts\"\n\nimport \"./imgInputBase.vue?vue&type=style&index=0&id=035791f1&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-035791f1\"\n\nexport default script","<template>\r\n\t<video class=\"outer\" :src=\"`/videos/${videoId}.mp4`\" autoplay loop controls />\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { isOnline, isConnecting, init } from \"@front/api/server\";\r\nexport default defineComponent({\r\n\tname: \"randomVideo\",\r\n\tcname: \"随机风景图片\",\r\n\ticon: \"el-icon-s-data\",\r\n\tdescription: \"输入关键词后，根据弹幕关键词进行投屏\",\r\n\tconfigurations: {\r\n\t\twidth: 400,\r\n\t\theight: 300,\r\n\t\tresizable: true,\r\n\t\tmultiple: false,\r\n\t\tliveOnly: true\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvideoId: 1\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.registerOBS();\r\n\t\twsevent.on(\"voteUpdate\", e => {\r\n\t\t\tthis.videoId = e.videoId;\r\n\t\t});\r\n\t\tdocument.querySelector(\"body\").style.padding = \"0px\";\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t},\r\n\tmethods: {\r\n\t\tregisterOBS() {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tif (!isOnline() && !isConnecting()) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tonOpen: () => {\r\n\t\t\t\t\t\twsevent.register(`obs-${this.$options.name}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.registerOBS();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.center-column {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.center-column > * {\r\n\tmargin-bottom: 8px;\r\n}\r\n@font-face {\r\n\tfont-family: \"站酷快乐体\";\r\n\tsrc: url(\"/fonts/站酷快乐体.ttf\") format(\"truetype\");\r\n}\r\n.shadow {\r\n\ttext-shadow: rgb(0, 0, 0) -0.8px -0.8px 0px, rgb(0, 0, 0) 0px -0.8px 0px,\r\n\t\trgb(0, 0, 0) 0.8px -0.8px 0px, rgb(0, 0, 0) 0.8px 0px 0px,\r\n\t\trgb(0, 0, 0) 0.8px 0.8px 0px, rgb(0, 0, 0) 0px 0.8px 0px,\r\n\t\trgb(0, 0, 0) -0.8px 0.8px 0px, rgb(0, 0, 0) -0.8px 0px 0px;\r\n\tcolor: white;\r\n\tfont-family: 站酷快乐体;\r\n}\r\n.title {\r\n\tfont-size: 18px;\r\n\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n}\r\n.outer {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n\tbackground-color: black;\r\n}\r\n</style>\r\n","import { render } from \"./obs.vue?vue&type=template&id=3a4f0dda&scoped=true\"\nimport script from \"./obs.vue?vue&type=script&lang=js\"\nexport * from \"./obs.vue?vue&type=script&lang=js\"\n\nimport \"./obs.vue?vue&type=style&index=0&id=3a4f0dda&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3a4f0dda\"\n\nexport default script","export interface Session {\r\n\trawFlow: Array<any>;\r\n\tfilterFlow: Array<any>;\r\n}\r\n\r\nexport const session = (): Session => {\r\n\treturn {\r\n\t\trawFlow: [],\r\n\t\tfilterFlow: []\r\n\t};\r\n};\r\n\r\nexport interface Filter {\r\n\topen: boolean;\r\n\tvisitor: boolean;\r\n\tclubOnly: boolean;\r\n\tblackList: boolean;\r\n\tkeyword: boolean;\r\n\tcombineGift: boolean;\r\n\tcombineLike: boolean;\r\n\tcombineEnter: boolean;\r\n\ttypes: Array<number>;\r\n}\r\n\r\nexport const filter = (): Filter => {\r\n\treturn {\r\n\t\topen: true,\r\n\t\tvisitor: true,\r\n\t\tclubOnly: false,\r\n\t\tblackList: true,\r\n\t\tkeyword: true,\r\n\t\tcombineGift: false, // 礼物合并\r\n\t\tcombineLike: false, // 点赞合并\r\n\t\tcombineEnter: false, // 重复进入直播间合并\r\n\t\ttypes: [1000, 1001, 1002, 1003, 1005, 1007]\r\n\t};\r\n};\r\n\r\nexport interface Settings {\r\n\tfilter: Filter;\r\n\tmaxNum: number;\r\n\tclubLevel: number;\r\n\tspeed: string;\r\n\thightLight: any;\r\n\tanimation: boolean;\r\n\tsettingOfType: any;\r\n}\r\n\r\nexport const settings = (): Settings => {\r\n\treturn {\r\n\t\tfilter: filter(),\r\n\t\tmaxNum: 75,\r\n\t\tclubLevel: 0,\r\n\t\tspeed: \"slow\", // 尚未实现\r\n\t\thightLight: {\r\n\t\t\tboss: true, // 未完成\r\n\t\t\tmanager: false, // 未完成\r\n\t\t\tconcerned: false // 未完成\r\n\t\t}, // 尚未实现\r\n\t\tanimation: true, // 尚未实现\r\n\t\tsettingOfType: {}\r\n\t};\r\n};\r\n\r\nexport const webSettings = (): Settings => {\r\n\treturn {\r\n\t\t...settings(),\r\n\t\tmaxNum: 25\r\n\t};\r\n};\r\n\r\nexport interface RobotSetting {\r\n\trtype: string;\r\n\tapi: any;\r\n\tenable: Array<any>;\r\n\tspeed: number;\r\n\tvolume: number;\r\n\trules: any;\r\n\tignoreOwner: boolean;\r\n\tcomboReading: boolean;\r\n}\r\n\r\nexport const robotRule = (): any => {\r\n\treturn {\r\n\t\t1000: [],\r\n\t\t1001: [],\r\n\t\t1002: [],\r\n\t\t1003: [],\r\n\t\t1004: [],\r\n\t\t1005: [],\r\n\t\t1006: [],\r\n\t\t1007: []\r\n\t};\r\n};\r\n\r\nexport const robotSetting = (): RobotSetting => {\r\n\treturn {\r\n\t\trtype: \"default\",\r\n\t\tapi: {\r\n\t\t\tapiSecret: \"\",\r\n\t\t\tappID: \"\",\r\n\t\t\tapiKey: \"\",\r\n\t\t\tvoiceName: \"\"\r\n\t\t},\r\n\t\tenable: [],\r\n\t\tspeed: 2,\r\n\t\tvolume: 50,\r\n\t\trules: robotRule(),\r\n\t\tignoreOwner: false,\r\n\t\tcomboReading: false\r\n\t};\r\n};\r\n\r\nexport interface clientSettings extends Settings {\r\n\trobotSetting: RobotSetting;\r\n}\r\n\r\nexport const clientSettings = (): clientSettings => {\r\n\treturn {\r\n\t\t...settings(),\r\n\t\trobotSetting: robotSetting()\r\n\t};\r\n};\r\n\r\nexport interface emoji {\r\n\tpattern: string;\r\n\turl: string;\r\n\tscale: number;\r\n}\r\n\r\nexport interface SuperChat {\r\n\tenable: boolean;\r\n\twebEnable: boolean;\r\n\tshowNextLevel: boolean;\r\n\trules: Array<any>;\r\n\tdisplayType: number;\r\n}\r\n\r\nexport const superChat = () => {\r\n\treturn {\r\n\t\tenable: false,\r\n\t\twebEnable: false,\r\n\t\tshowNextLevel: false,\r\n\t\trules: [],\r\n\t\tdisplayType: 0\r\n\t};\r\n};\r\n\r\nexport interface CommonSettings {\r\n\tlikeList: Array<any>;\r\n\tblackList: Array<any>;\r\n\tkeywords: Array<any>;\r\n\temojis: Array<emoji>;\r\n\temotionMax: number;\r\n\temotion: boolean;\r\n\tsuperChat: SuperChat;\r\n}\r\n\r\nexport const commonSettings = (): CommonSettings => {\r\n\treturn {\r\n\t\tlikeList: [],\r\n\t\tblackList: [],\r\n\t\tkeywords: [],\r\n\t\temotion: true,\r\n\t\temotionMax: 3,\r\n\t\temojis: [],\r\n\t\tsuperChat: superChat()\r\n\t};\r\n};\r\n\r\nexport interface GeneralSettings {\r\n\tstreamToolPath: string;\r\n}\r\n\r\nexport const generalSettings = (): GeneralSettings => {\r\n\treturn {\r\n\t\tstreamToolPath: \"\"\r\n\t};\r\n};\r\n\r\nexport interface Profile {\r\n\tgeneral: GeneralSettings;\r\n\tcommon: CommonSettings;\r\n\ttoolBox: clientSettings;\r\n\tweb: Settings;\r\n}\r\n\r\nexport const profile = (): Profile => {\r\n\treturn {\r\n\t\tgeneral: generalSettings(),\r\n\t\tcommon: commonSettings(),\r\n\t\ttoolBox: clientSettings(),\r\n\t\tweb: webSettings()\r\n\t};\r\n};\r\n","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=d67e34c2&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"imgInput\" @click=\"getFile\" :style=\"{'--fit':fit}\">\r\n\t\t<div class=\"tips\">\r\n\t\t\t<div class=\"icon el-icon-picture-outline\" />\r\n\t\t\t<div>点击加载图片</div>\r\n\t\t</div>\r\n\t\t<el-image :lazy=\"true\" class=\"cover\" :src=\"src\">\r\n\t\t\t<template #error>\r\n\t\t\t\t<div class=\"cover image-slot\" />\r\n\t\t\t</template>\r\n\t\t</el-image>\r\n\t</div>\r\n\t<el-dialog custom-class=\"dialogBase\" title=\"图片剪裁\" v-model=\"clipDialog\" @close=\"editImg=''\">\r\n\t\t<vue-cropper v-if=\"clipDialog\" style=\"max-height:300px\" ref=\"cropper\" :aspect-ratio=\"16 / 10\" :src=\"editImg\" alt=\"Source Image\" />\r\n\t\t<span class=\"hint\">鼠标滚轮进行缩放</span>\r\n\t\t<template #footer>\r\n\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"crop\">确定</el-button>\r\n\t\t</template>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport { uploadBase64Image, path } from \"@front/util_function/system\";\r\nimport { BlobtoB64 } from \"@front/util_function/imgTool\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport VueCropper from \"vue-cropperjs\";\r\nimport \"cropperjs/dist/cropper.css\";\r\nexport default defineComponent({\r\n\tname: \"imgInputClip\",\r\n\tcomponents: { VueCropper },\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"cover\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst editImg: any = \"\";\r\n\t\treturn {\r\n\t\t\tclipDialog: false,\r\n\t\t\teditImg\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tsrc(): any {\r\n\t\t\treturn this.modelValue;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getFile() {\r\n\t\t\tconst file: any = await load(\".jpg,.png,.gif\");\r\n\t\t\tif (file) {\r\n\t\t\t\tthis.edit(file);\r\n\t\t\t}\r\n\t\t},\r\n\t\tedit(file: any) {\r\n\t\t\tBlobtoB64(file)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.editImg = res;\r\n\t\t\t\t\tthis.clipDialog = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\tmessage: \"图片读取错误\",\r\n\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\toffset: 60\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tcrop() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst cropImg = this.$refs.cropper.getCroppedCanvas().toDataURL();\r\n\t\t\tuploadBase64Image(cropImg)\r\n\t\t\t\t.then(url => {\r\n\t\t\t\t\tthis.$emit(\r\n\t\t\t\t\t\t\"update:modelValue\",\r\n\t\t\t\t\t\t`/configFiles/images/${path.basename(url)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.editImg = \"\";\r\n\t\t\t\t\tthis.clipDialog = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\tmessage: \"图片保存失败\",\r\n\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\toffset: 60\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.imgInput {\r\n\tposition: relative;\r\n\tmin-width: 60px;\r\n\tmin-height: 60px;\r\n\r\n\t.tips {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tpointer-events: none;\r\n\t\tleft: 0px;\r\n\t\ttop: 0px;\r\n\t\tz-index: 10;\r\n\t\tuser-select: none;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: $--color-primary;\r\n\t\tfont-size: $--font-size-base;\r\n\t\tdisplay: none;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\t.icon {\r\n\t\t\tfont-size: $--font-size-extra-large;\r\n\t\t\tpadding: 8px;\r\n\t\t}\r\n\t}\r\n\t&:hover {\r\n\t\t.tips {\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\t}\r\n\t.cover {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0px;\r\n\t\ttop: 0px;\r\n\t\tcursor: pointer;\r\n\t\t.el-image__inner {\r\n\t\t\tobject-fit: var(--fit);\r\n\t\t}\r\n\t}\r\n\r\n\t.image-slot {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-image: url(\"/imgs/common/noCover.jpg\");\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: center;\r\n\t\tbackground-color: white;\r\n\t}\r\n}\r\n</style>\r\n","export const b64toBlob = (dataURI: string) => {\r\n\tconst byteString = atob(dataURI.split(\",\")[1]);\r\n\tconst ab = new ArrayBuffer(byteString.length);\r\n\tconst ia = new Uint8Array(ab);\r\n\r\n\tfor (let i = 0; i < byteString.length; i++) {\r\n\t\tia[i] = byteString.charCodeAt(i);\r\n\t}\r\n\treturn new Blob([ab], { type: \"image/jpeg\" });\r\n};\r\n\r\nexport const BlobtoB64 = (b: Blob) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(b);\r\n\t\treader.onloadend = () => {\r\n\t\t\tresolve(reader.result);\r\n\t\t};\r\n\t\treader.onerror = e => {\r\n\t\t\treject(e);\r\n\t\t};\r\n\t});\r\n};\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport { uploadBase64Image, path } from \"@front/util_function/system\";\r\nimport { BlobtoB64 } from \"@front/util_function/imgTool\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport VueCropper from \"vue-cropperjs\";\r\nimport \"cropperjs/dist/cropper.css\";\r\nexport default defineComponent({\r\n\tname: \"imgInputClip\",\r\n\tcomponents: { VueCropper },\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"cover\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst editImg: any = \"\";\r\n\t\treturn {\r\n\t\t\tclipDialog: false,\r\n\t\t\teditImg\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tsrc(): any {\r\n\t\t\treturn this.modelValue;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getFile() {\r\n\t\t\tconst file: any = await load(\".jpg,.png,.gif\");\r\n\t\t\tif (file) {\r\n\t\t\t\tthis.edit(file);\r\n\t\t\t}\r\n\t\t},\r\n\t\tedit(file: any) {\r\n\t\t\tBlobtoB64(file)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.editImg = res;\r\n\t\t\t\t\tthis.clipDialog = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\tmessage: \"图片读取错误\",\r\n\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\toffset: 60\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tcrop() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst cropImg = this.$refs.cropper.getCroppedCanvas().toDataURL();\r\n\t\t\tuploadBase64Image(cropImg)\r\n\t\t\t\t.then(url => {\r\n\t\t\t\t\tthis.$emit(\r\n\t\t\t\t\t\t\"update:modelValue\",\r\n\t\t\t\t\t\t`/configFiles/images/${path.basename(url)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.editImg = \"\";\r\n\t\t\t\t\tthis.clipDialog = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tElMessage({\r\n\t\t\t\t\t\tmessage: \"图片保存失败\",\r\n\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\toffset: 60\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./imgInpuClip.vue?vue&type=template&id=0005670c\"\nimport script from \"./imgInpuClip.vue?vue&type=script&lang=ts\"\nexport * from \"./imgInpuClip.vue?vue&type=script&lang=ts\"\n\nimport \"./imgInpuClip.vue?vue&type=style&index=0&id=0005670c&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n\t<transition name=\"listAni\" appear>\r\n\t\t<div ref=\"menu\" style=\"position:fixed;z-Index:4000\" :style=\"{left:`${position.x}px!important`,top:`${position.y}px!important`}\">\r\n\t\t\t<right-click-menu-list ref=\"menuList\" @close=\"close()\" :list=\"list\" />\r\n\t\t</div>\r\n\t</transition>\r\n</template>\r\n\r\n<script >\r\nimport rightClickMenuList from \"./rightClickMenuList.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { render, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rightClickMenu\",\r\n\tcomponents: {\r\n\t\trightClickMenuList\r\n\t},\r\n\tprops: {\r\n\t\telement: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tlist: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.addBlurListener();\r\n\t},\r\n\tmethods: {\r\n\t\tclose() {\r\n\t\t\tevent.off(\"mouseclick\", this.judgeBlur);\r\n\t\t\trender(null, this.$el);\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.element.remove();\r\n\t\t},\r\n\t\taddBlurListener() {\r\n\t\t\tdocument.addEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.addEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\tjudgeBlur(e) {\r\n\t\t\tfor (const item of e.path) {\r\n\t\t\t\tif (item === this.$refs.menu) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.removeEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.removeEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport rightClickMenuListB from \"./rightClickMenuLisB.vue\";\r\nexport default {\r\n\tname: \"rightClickMenuList\",\r\n\tprops: [\"list\", \"index\"],\r\n\tcomponents: {\r\n\t\trightClickMenuListB\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"rightClickMenuListB\",\r\n\tprops: [\"list\", \"index\"],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","import { render } from \"./rightClickMenuLisB.vue?vue&type=template&id=9d16dfe8&scoped=true\"\nimport script from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9d16dfe8\"\n\nexport default script","import { render } from \"./rightClickMenuList.vue?vue&type=template&id=176d2028&scoped=true\"\nimport script from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-176d2028\"\n\nexport default script","import { render } from \"./rightClickMenu.vue?vue&type=template&id=2ca27b36&scoped=true\"\nimport script from \"./rightClickMenu.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenu.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2ca27b36\"\n\nexport default script","import { Directive, createApp } from \"vue\";\r\nimport menu from \"./rightClickMenu.vue\";\r\n\r\nconst directive = (): Directive => {\r\n\tlet list: any = [];\r\n\treturn {\r\n\t\tmounted(el, binding) {\r\n\t\t\tel.addEventListener(\"contextmenu\", (e: any) => {\r\n\t\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\t\t// list = binding.value;\r\n\t\t\t\tdocument.body.append(element);\r\n\t\t\t\tcreateApp(menu, {\r\n\t\t\t\t\tlist,\r\n\t\t\t\t\telement,\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\ty: e.clientY\r\n\t\t\t\t\t}\r\n\t\t\t\t}).mount(element);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdated(el, binding) {\r\n\t\t\tlist = binding.value;\r\n\t\t}\r\n\t};\r\n};\r\nexport default directive;\r\n","<template>\r\n\t<div class=\"foter\">{{ footer.base }}</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { footer } from \"@front/texts\";\r\nexport default defineComponent({\r\n\tname: \"footerBase\",\r\n\tcomputed: {\r\n\t\tfooter\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.foter {\r\n\twhite-space: pre;\r\n\tuser-select: none;\r\n\tcolor: rgba($color: white, $alpha: 0.7);\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { footer } from \"@front/texts\";\r\nexport default defineComponent({\r\n\tname: \"footerBase\",\r\n\tcomputed: {\r\n\t\tfooter\r\n\t}\r\n});\r\n","import { render } from \"./footerBase.vue?vue&type=template&id=3863483c&scoped=true\"\nimport script from \"./footerBase.vue?vue&type=script&lang=ts\"\nexport * from \"./footerBase.vue?vue&type=script&lang=ts\"\n\nimport \"./footerBase.vue?vue&type=style&index=0&id=3863483c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3863483c\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=637b9718&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rowFrame.vue?vue&type=style&index=0&id=1cf93e19&scoped=true&lang=scss\"","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\tpreffix: \"\",\r\n\t\t\taffix: \"\"\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\tverticalAlign: \"middle\",\r\n\t\t\tfont: \"/fonts/极影毁片圆.ttf\",\r\n\t\t\tfontSize: 16,\r\n\t\t\tfontWeight: \"lighter\",\r\n\t\t\tcolor: \"rgba(255, 255, 255, 1)\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\ttextShadowWidth: 0.6,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\"\r\n\t\t}\r\n\t};\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=7cbfd3e9&lang=scss\"","import FileSaver from \"file-saver\";\r\nexport const toJSON = (name: string, data: any) => {\r\n\tFileSaver.saveAs(\r\n\t\tnew Blob([JSON.stringify(data)], { type: \"\" }),\r\n\t\t`${name}.json`\r\n\t);\r\n};\r\nexport const toTXT = (name: string, content: string) => {\r\n\tFileSaver.saveAs(\r\n\t\tnew Blob([content], { type: \"text/plain\" }),\r\n\t\t`${name}.txt`\r\n\t);\r\n};\r\n","export default () => {\r\n\treturn {\r\n\t\tconfig: {\r\n\t\t\ttext: \"\"\r\n\t\t},\r\n\t\tstyle: {\r\n\t\t\t// 文字\r\n\t\t\tfontSize: 16,\r\n\t\t\tfontWeight: \"normal\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\ttextShadowWidth: 0,\r\n\t\t\ttextShadowColor: \"#000\",\r\n\t\t\tfontStyle: \"normal\",\r\n\t\t\ttextDecoration: \"none\",\r\n\t\t\t// 边距\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 0,\r\n\t\t\tmarginLeft: 0,\r\n\t\t\tmarginRight: 0,\r\n\t\t\tmarginTop: 0,\r\n\t\t\tmarginBottom: 0,\r\n\t\t\t// 背景\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t\tborderRadius: 0,\r\n\t\t\tborderWidth: 0,\r\n\t\t\tborderColor: \"#000\",\r\n\t\t\tverticalAlign: \"bottom\"\r\n\t\t}\r\n\t};\r\n};\r\n","<template>\r\n\t<div class=\"imgInput\" @click=\"getFile\" :style=\"{'--fit':fit}\">\r\n\t\t<div class=\"tips\">\r\n\t\t\t<div class=\"icon el-icon-picture-outline\" />\r\n\t\t\t<div>点击加载图片</div>\r\n\t\t</div>\r\n\t\t<el-image class=\"cover\" :src=\"modelValue\">\r\n\t\t\t<template #error>\r\n\t\t\t\t<div class=\"cover image-slot\" />\r\n\t\t\t</template>\r\n\t\t</el-image>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport { uploadImage, path } from \"@front/util_function/system\";\r\nexport default defineComponent({\r\n\tname: \"imgInputStatic\",\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"cover\"\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getFile() {\r\n\t\t\tconst file: any = await load(\".jpg,.png,.gif\");\r\n\t\t\tif (file) {\r\n\t\t\t\tconst url = await uploadImage(file.path);\r\n\t\t\t\tthis.$emit(\r\n\t\t\t\t\t\"update:modelValue\",\r\n\t\t\t\t\t`/configFiles/images/${path.basename(url)}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.imgInput {\r\n\tposition: relative;\r\n\tmin-width: 60px;\r\n\tmin-height: 60px;\r\n\r\n\t.tips {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tpointer-events: none;\r\n\t\tleft: 0px;\r\n\t\ttop: 0px;\r\n\t\tz-index: 10;\r\n\t\tuser-select: none;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\tcolor: $--color-primary;\r\n\t\tfont-size: $--font-size-base;\r\n\t\tdisplay: none;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\t.icon {\r\n\t\t\tfont-size: $--font-size-extra-large;\r\n\t\t\tpadding: 8px;\r\n\t\t}\r\n\t}\r\n\t&:hover {\r\n\t\t.tips {\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\t}\r\n\t.cover {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\tleft: 0px;\r\n\t\ttop: 0px;\r\n\t\tcursor: pointer;\r\n\t\t.el-image__inner {\r\n\t\t\tobject-fit: var(--fit);\r\n\t\t}\r\n\t}\r\n\r\n\t.image-slot {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-image: url(\"/imgs/common/noCover.jpg\");\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-position: center;\r\n\t\tbackground-color: white;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { load } from \"@front/util_function/file\";\r\nimport { uploadImage, path } from \"@front/util_function/system\";\r\nexport default defineComponent({\r\n\tname: \"imgInputStatic\",\r\n\tprops: {\r\n\t\tmodelValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t},\r\n\t\tfit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"cover\"\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getFile() {\r\n\t\t\tconst file: any = await load(\".jpg,.png,.gif\");\r\n\t\t\tif (file) {\r\n\t\t\t\tconst url = await uploadImage(file.path);\r\n\t\t\t\tthis.$emit(\r\n\t\t\t\t\t\"update:modelValue\",\r\n\t\t\t\t\t`/configFiles/images/${path.basename(url)}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./imgInputStatic.vue?vue&type=template&id=5e5372ee\"\nimport script from \"./imgInputStatic.vue?vue&type=script&lang=ts\"\nexport * from \"./imgInputStatic.vue?vue&type=script&lang=ts\"\n\nimport \"./imgInputStatic.vue?vue&type=style&index=0&id=5e5372ee&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"","import component from \"*.vue\";\r\nimport main from \"@front/layouts/main/index.vue\";\r\nlet output: Array<any> = [];\r\nif (process.env.NODE_ENV !== \"production\") {\r\n\tconst children: Array<any> = [];\r\n\tconst requireComponent = require.context(\"./\", false, /\\w+\\.(vue)$/);\r\n\trequireComponent.keys().forEach(fileName => {\r\n\t\tconst componentConfig = requireComponent(fileName);\r\n\t\tconst name =\r\n\t\t\tcomponentConfig.default.cname || componentConfig.default.name;\r\n\t\tchildren.push({\r\n\t\t\tpath: `/${componentConfig.default.name}`,\r\n\t\t\tname,\r\n\t\t\tcomponent: componentConfig.default,\r\n\t\t\tmeta: {\r\n\t\t\t\tlabel: name,\r\n\t\t\t\taction: \"router\"\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\toutput = [\r\n\t\t{\r\n\t\t\tpath: \"/testEnv\",\r\n\t\t\tname: \"testEnv\",\r\n\t\t\tcomponent: main,\r\n\t\t\tmeta: {\r\n\t\t\t\tlabel: \"测试组件\"\r\n\t\t\t},\r\n\t\t\tchildren\r\n\t\t}\r\n\t];\r\n}\r\n\r\nexport default output;\r\n","import store from \"@front/store\";\r\nimport testRouters from \"@front/test\";\r\nimport { restart } from \"@front/util_function/login\";\r\nconst main = () => import(\"@front/layouts/main/index.vue\");\r\nexport default [\r\n\t{\r\n\t\tpath: \"/login\",\r\n\t\tname: \"Login\",\r\n\t\tcomponent: () => import(\"@front/views/login/index.vue\")\r\n\t},\r\n\t{\r\n\t\tpath: \"/\",\r\n\t\tname: \"home\",\r\n\t\tcomponent: main,\r\n\t\tmeta: {\r\n\t\t\tlabel: \"直播\"\r\n\t\t},\r\n\t\tredirect: \"/dashboard\",\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/dashboard\",\r\n\t\t\t\tname: \"dashboard\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"首页\",\r\n\t\t\t\t\ticon: \"el-icon-monitor\",\r\n\t\t\t\t\taction: \"router\"\r\n\t\t\t\t},\r\n\t\t\t\tcomponent: () => import(\"@front/views/dashboard/index.vue\")\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/roomMgmt\",\r\n\t\t\t\tname: \"roomMgmt\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"房间管理\",\r\n\t\t\t\t\ticon: \"el-icon-house\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn store.state.streamStatus.step === \"unstreamable\";\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcomponent: () => import(\"@front/views/roomMgmt/index.vue\")\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/appletsList\",\r\n\t\t\t\tname: \"appletsList\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"小程序\",\r\n\t\t\t\t\ticon: \"el-icon-menu\",\r\n\t\t\t\t\taction: \"router\"\r\n\t\t\t\t},\r\n\t\t\t\tcomponent: () => import(\"@front/views/applets/index.vue\")\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/restart\",\r\n\t\t\t\tname: \"restart\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"快速重启！\",\r\n\t\t\t\t\ticon: \"el-icon-refresh-right\",\r\n\t\t\t\t\taction: restart\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/magiScr\",\r\n\t\t\t\tname: \"magiScr\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"魔法画屏\",\r\n\t\t\t\t\ticon: \"el-icon-magic-stick\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tredirect: \"/\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: \"/record\",\r\n\t\tname: \"record\",\r\n\t\tcomponent: main,\r\n\t\tmeta: {\r\n\t\t\tlabel: \"录像\"\r\n\t\t},\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/streamRecord\",\r\n\t\t\t\tname: \"streamRecord\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"直播录制\",\r\n\t\t\t\t\ticon: \"el-icon-video-camera\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tredirect: \"/\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: \"/data\",\r\n\t\tname: \"data\",\r\n\t\tcomponent: main,\r\n\t\tmeta: {\r\n\t\t\tlabel: \"数据\"\r\n\t\t},\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/replay\",\r\n\t\t\t\tname: \"replay\",\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"完播复盘\",\r\n\t\t\t\t\ticon: \"el-icon-pie-chart\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tredirect: \"/\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: \"/config\",\r\n\t\tname: \"config\",\r\n\t\tcomponent: main,\r\n\t\tmeta: {\r\n\t\t\tlabel: \"设置与选项\"\r\n\t\t},\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"/config/general\",\r\n\t\t\t\tname: \"general\",\r\n\t\t\t\tcomponent: () => import(\"@front/views/general/index.vue\"),\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"通用\",\r\n\t\t\t\t\ticon: \"el-icon-setting\",\r\n\t\t\t\t\taction: \"router\"\r\n\t\t\t\t\t// disabled: () => {\r\n\t\t\t\t\t// \treturn true;\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t\t// redirect: \"/\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/config/superChat\",\r\n\t\t\t\tname: \"superChat\",\r\n\t\t\t\tcomponent: () => import(\"@front/views/superChat/index.vue\"),\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"超级聊\",\r\n\t\t\t\t\ticon: \"el-icon-upload2\",\r\n\t\t\t\t\taction: \"router\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/config/emotion\",\r\n\t\t\t\tname: \"emotion\",\r\n\t\t\t\tcomponent: () => import(\"@front/views/emotion/index.vue\"),\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"表情包\",\r\n\t\t\t\t\ticon: \"el-icon-edit\",\r\n\t\t\t\t\taction: \"router\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/config/roomNameList\",\r\n\t\t\t\tname: \"roomNameList\",\r\n\t\t\t\tcomponent: () => import(\"@front/views/roomNameList/index.vue\"),\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"小本本\",\r\n\t\t\t\t\ticon: \"el-icon-tickets\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/config/danmakuSetting\",\r\n\t\t\t\tname: \"danmakuSetting\",\r\n\t\t\t\tcomponent: () =>\r\n\t\t\t\t\timport(\"@front/views/danmakuSetting/index.vue\"),\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"弹幕流\",\r\n\t\t\t\t\ticon: \"el-icon-chat-line-square\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"/config/robot\",\r\n\t\t\t\tname: \"robot\",\r\n\t\t\t\tcomponent: () => import(\"@front/views/robot/index.vue\"),\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\tlabel: \"鸡鸡人\",\r\n\t\t\t\t\ticon: \"el-icon-user\",\r\n\t\t\t\t\taction: \"router\",\r\n\t\t\t\t\tdisabled: () => {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t...testRouters\r\n];\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./obs.vue?vue&type=style&index=0&id=3f6aa9ca&scoped=true&lang=scss\"","import { user, room, stream, danmaku, temp } from \"@front/datas\";\r\nimport { isElectron } from \"@front/util_function/electron\";\r\nimport { Filter } from \"@front/components/danmakuFlow/utils/common\";\r\nexport interface RootState {\r\n\tserverOnline: boolean; // 后端是否启动\r\n\tuserSession: user.Session; // 用户登陆信息\r\n\tuserProfile: user.Profile; // 用户资料\r\n\tuserData: user.Data; // 用户名密码\r\n\troomProfile: room.ProfileDetail; // 房间信息\r\n\troomStatus: room.Status; // 房间实时状态\r\n\troomCategorys: Array<room.Category>; // 全部房间分类\r\n\tmanagerList: Array<any>; // 房管列表\r\n\trank: room.Rank; // 排行榜信息\r\n\tisLogined: boolean; // 是否登陆\r\n\tisReconnect: boolean;\r\n\tisElectron: boolean; // 是否浏览器环境\r\n\tstreamStatus: stream.Status;\r\n\tstreamEncodec: stream.Encodec; // 转码信息\r\n\tstreamSession: stream.Session; // 推流配置\r\n\tdanmakuSession: danmaku.Session; // 弹幕实时信息\r\n\tdanmakuProfile: danmaku.Profile; // 弹幕设置\r\n\tfilter: Filter; // 过滤器\r\n\tminify: boolean; // 是否迷你化\r\n\ttemp: temp.TempInfo;\r\n}\r\n\r\nexport function stateFunc(): RootState {\r\n\treturn {\r\n\t\tserverOnline: false,\r\n\t\tisLogined: false,\r\n\t\tminify: false,\r\n\t\tisReconnect: false,\r\n\t\tisElectron: isElectron(),\r\n\t\tuserSession: user.session(),\r\n\t\tuserProfile: user.profile(),\r\n\t\tuserData: user.data(),\r\n\t\troomProfile: room.profileDetail(),\r\n\t\troomStatus: room.status(),\r\n\t\troomCategorys: [],\r\n\t\tmanagerList: [],\r\n\t\trank: room.rank(),\r\n\t\tstreamStatus: stream.status(),\r\n\t\tstreamEncodec: stream.encodec(),\r\n\t\tstreamSession: stream.session(),\r\n\t\tdanmakuSession: danmaku.session(),\r\n\t\tdanmakuProfile: danmaku.profile(),\r\n\t\tfilter: new Filter(),\r\n\t\ttemp: temp.tempInfo()\r\n\t};\r\n}\r\n\r\nexport const state: RootState = stateFunc();\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=f2c055f8&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rowSpan.vue?vue&type=style&index=0&id=73e9480d&lang=scss\"","var map = {\n\t\"./\": \"f09c\",\n\t\"./danmakuFlow\": \"4370\",\n\t\"./danmakuFlow/\": \"4370\",\n\t\"./danmakuFlow/index\": \"4370\",\n\t\"./danmakuFlow/index.vue\": \"4370\",\n\t\"./danmakuSong\": \"be60\",\n\t\"./danmakuSong/\": \"be60\",\n\t\"./danmakuSong/index\": \"be60\",\n\t\"./danmakuSong/index.vue\": \"be60\",\n\t\"./danmakuSongPicker\": \"3afc\",\n\t\"./danmakuSongPicker/\": \"3afc\",\n\t\"./danmakuSongPicker/index\": \"3afc\",\n\t\"./danmakuSongPicker/index.vue\": \"3afc\",\n\t\"./danmakuSongPicker/obs\": \"c42e\",\n\t\"./danmakuSongPicker/obs.vue\": \"c42e\",\n\t\"./giftVote\": \"15bf\",\n\t\"./giftVote/\": \"15bf\",\n\t\"./giftVote/index\": \"15bf\",\n\t\"./giftVote/index.vue\": \"15bf\",\n\t\"./giftVote/obs\": \"6cdf\",\n\t\"./giftVote/obs.vue\": \"6cdf\",\n\t\"./index\": \"f09c\",\n\t\"./index.ts\": \"f09c\",\n\t\"./lottery\": \"0725\",\n\t\"./lottery/\": \"0725\",\n\t\"./lottery/index\": \"0725\",\n\t\"./lottery/index.vue\": \"0725\",\n\t\"./messageBoard\": \"12b1\",\n\t\"./messageBoard/\": \"12b1\",\n\t\"./messageBoard/index\": \"12b1\",\n\t\"./messageBoard/index.vue\": \"12b1\",\n\t\"./messageBoard/obs\": \"ad01\",\n\t\"./messageBoard/obs.vue\": \"ad01\",\n\t\"./randomImage\": \"204a\",\n\t\"./randomImage/\": \"204a\",\n\t\"./randomImage/index\": \"204a\",\n\t\"./randomImage/index.vue\": \"204a\",\n\t\"./randomImage/obs\": \"ad55\",\n\t\"./randomImage/obs.vue\": \"ad55\",\n\t\"./randomVideo\": \"3024\",\n\t\"./randomVideo/\": \"3024\",\n\t\"./randomVideo/index\": \"3024\",\n\t\"./randomVideo/index.vue\": \"3024\",\n\t\"./randomVideo/obs\": \"d707\",\n\t\"./randomVideo/obs.vue\": \"d707\",\n\t\"./robot\": \"0c51\",\n\t\"./robot/\": \"0c51\",\n\t\"./robot/index\": \"0c51\",\n\t\"./robot/index.vue\": \"0c51\",\n\t\"./vote\": \"171f\",\n\t\"./vote/\": \"171f\",\n\t\"./vote/index\": \"171f\",\n\t\"./vote/index.vue\": \"171f\",\n\t\"./vote/obs\": \"1a74\",\n\t\"./vote/obs.vue\": \"1a74\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"f013\";","import { defineAsyncComponent, markRaw } from \"vue\";\r\nconst requireComponent = require.context(\"@front/applets\", true);\r\n\r\nconst clientApplets: any = [];\r\nconst obsApplets: any = [];\r\n// const blackList = [\"./randomImage/\", \"./randomVideo/\"];\r\nconst founded = requireComponent.keys();\r\nfounded.forEach(fileName => {\r\n\tif (\r\n\t\tfileName === \"./\" ||\r\n\t\t!fileName.match(/\\/$/g)\r\n\t\t// ||blackList.includes(fileName)\r\n\t) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst clientAppPath = `${fileName}index.vue`;\r\n\tconst obsAppPath = `${fileName}obs.vue`;\r\n\tconst hasClient = founded.includes(clientAppPath);\r\n\tconst hasObs = founded.includes(obsAppPath);\r\n\tif (!hasClient) return;\r\n\tconst clientConfig = requireComponent(clientAppPath);\r\n\tclientApplets.push({\r\n\t\tcname: clientConfig.default.cname || clientConfig.default.name,\r\n\t\tname: clientConfig.default.name,\r\n\t\ticon: clientConfig.default.icon || \"el-icon-ice-cream-round\",\r\n\t\tdescription: clientConfig.default.description,\r\n\t\tcomponent: markRaw(\r\n\t\t\tdefineAsyncComponent(() =>\r\n\t\t\t\timport(`@front/applets/${clientAppPath.replace(\"./\", \"\")}`)\r\n\t\t\t)\r\n\t\t),\r\n\t\tconfigurations: {\r\n\t\t\t...clientConfig.default.configurations,\r\n\t\t\thasObs\r\n\t\t} || { hasObs }\r\n\t});\r\n\r\n\tif (!hasObs) return;\r\n\tconst obsConfig = requireComponent(obsAppPath);\r\n\tobsApplets.push({\r\n\t\tcname: obsConfig.default.cname || obsConfig.default.name,\r\n\t\tname: obsConfig.default.name,\r\n\t\ticon: obsConfig.default.icon || \"el-icon-ice-cream-round\",\r\n\t\tdescription: obsConfig.default.description,\r\n\t\tcomponent: markRaw(\r\n\t\t\tdefineAsyncComponent(() =>\r\n\t\t\t\timport(`@front/applets/${obsAppPath.replace(\"./\", \"\")}`)\r\n\t\t\t)\r\n\t\t),\r\n\t\tconfigurations: obsConfig.default.configurations || {}\r\n\t});\r\n});\r\n\r\nexport { clientApplets, obsApplets };\r\n","<template>\r\n\t<div ref=\"title\" class=\"title\" :style=\"style\">\r\n\t\t<div>{{label}}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"titleScrolling\",\r\n\tprops: {\r\n\t\tlabel: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst observer: any = null;\r\n\t\tconst observerTimer: any = null;\r\n\t\treturn {\r\n\t\t\ttitleMove: 0,\r\n\t\t\tobserver,\r\n\t\t\tobserverTimer,\r\n\t\t\tmounted: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\treturn {\r\n\t\t\t\t\"--titleMove\": `${this.titleMove}px`,\r\n\t\t\t\t\"--titleMoveTime\": `${-this.titleMove / 4}s`\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tlabel: {\r\n\t\t\thandler(n, o) {\r\n\t\t\t\tif (this.mounted && n) {\r\n\t\t\t\t\tthis.addObserver();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.addObserver();\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tif (this.observer) {\r\n\t\t\tthis.observer.disconnect();\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddObserver() {\r\n\t\t\ttry {\r\n\t\t\t\tconst parent: any = this.$el;\r\n\t\t\t\tif (!parent) {\r\n\t\t\t\t\tthrow new Error();\r\n\t\t\t\t}\r\n\t\t\t\tconst child = parent.firstChild;\r\n\t\t\t\tconst getMove = () => {\r\n\t\t\t\t\tconst move = child.offsetWidth - parent.offsetWidth;\r\n\t\t\t\t\tif (move > 0) {\r\n\t\t\t\t\t\tthis.titleMove = -move - 10;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.titleMove = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tif (this.observer) {\r\n\t\t\t\t\tthis.observer.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.observer = new ResizeObserver(getMove);\r\n\r\n\t\t\t\tthis.observer.observe(parent);\r\n\t\t\t\tthis.observer.observe(child);\r\n\t\t\t\tgetMove();\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.title {\r\n\tposition: relative;\r\n\tfont-size: $--font-size-base;\r\n\tcolor: $--color-text-primary;\r\n\toverflow: hidden;\r\n\t& > div {\r\n\t\tanimation: moveText var(--titleMoveTime) linear 1s infinite alternate;\r\n\t\twidth: fit-content;\r\n\t\t&:hover {\r\n\t\t\tanimation-play-state: paused;\r\n\t\t}\r\n\t}\r\n}\r\n@keyframes moveText {\r\n\t0%,\r\n\t20% {\r\n\t\ttransform: translateX(0%);\r\n\t}\r\n\t80%,\r\n\t100% {\r\n\t\ttransform: translateX(var(--titleMove));\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"titleScrolling\",\r\n\tprops: {\r\n\t\tlabel: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst observer: any = null;\r\n\t\tconst observerTimer: any = null;\r\n\t\treturn {\r\n\t\t\ttitleMove: 0,\r\n\t\t\tobserver,\r\n\t\t\tobserverTimer,\r\n\t\t\tmounted: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tstyle(): any {\r\n\t\t\treturn {\r\n\t\t\t\t\"--titleMove\": `${this.titleMove}px`,\r\n\t\t\t\t\"--titleMoveTime\": `${-this.titleMove / 4}s`\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tlabel: {\r\n\t\t\thandler(n, o) {\r\n\t\t\t\tif (this.mounted && n) {\r\n\t\t\t\t\tthis.addObserver();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.addObserver();\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tif (this.observer) {\r\n\t\t\tthis.observer.disconnect();\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddObserver() {\r\n\t\t\ttry {\r\n\t\t\t\tconst parent: any = this.$el;\r\n\t\t\t\tif (!parent) {\r\n\t\t\t\t\tthrow new Error();\r\n\t\t\t\t}\r\n\t\t\t\tconst child = parent.firstChild;\r\n\t\t\t\tconst getMove = () => {\r\n\t\t\t\t\tconst move = child.offsetWidth - parent.offsetWidth;\r\n\t\t\t\t\tif (move > 0) {\r\n\t\t\t\t\t\tthis.titleMove = -move - 10;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.titleMove = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tif (this.observer) {\r\n\t\t\t\t\tthis.observer.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.observer = new ResizeObserver(getMove);\r\n\r\n\t\t\t\tthis.observer.observe(parent);\r\n\t\t\t\tthis.observer.observe(child);\r\n\t\t\t\tgetMove();\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./titleScrolling.vue?vue&type=template&id=a983cbaa&scoped=true\"\nimport script from \"./titleScrolling.vue?vue&type=script&lang=ts\"\nexport * from \"./titleScrolling.vue?vue&type=script&lang=ts\"\n\nimport \"./titleScrolling.vue?vue&type=style&index=0&id=a983cbaa&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-a983cbaa\"\n\nexport default script","export * from \"-!../../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=7c039771&scoped=true&lang=scss\"","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=451fcd92&lang=scss\"","import { danmaku } from \"@/electron_browser/datas\";\r\n\r\nexport const getDanmuInfo = (danmaku: any) => {\r\n\tconst type = danmaku?.type;\r\n\tswitch (type) {\r\n\t\tcase 1000:\r\n\t\t\treturn danmaku.data.danmuInfo;\r\n\t\tcase 1001:\r\n\t\t\treturn danmaku.data;\r\n\t\tcase 1002:\r\n\t\t\treturn danmaku.data;\r\n\t\tcase 1003:\r\n\t\t\treturn danmaku.data;\r\n\t\tcase 1004:\r\n\t\t\treturn danmaku.data;\r\n\t\tcase 1005:\r\n\t\t\treturn danmaku.data.danmuInfo;\r\n\t\tcase 1006:\r\n\t\t\treturn danmaku.data;\r\n\t\tcase 1007:\r\n\t\t\treturn danmaku.data;\r\n\t\tdefault:\r\n\t\t\treturn 0;\r\n\t}\r\n};\r\n\r\nexport const getUserInfo = (danmaku: any) => {\r\n\tconst type = danmaku?.type;\r\n\tswitch (type) {\r\n\t\tcase 1007:\r\n\t\t\treturn getDanmuInfo(danmaku).fansInfo;\r\n\t\tcase 1006:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn getDanmuInfo(danmaku).userInfo;\r\n\t}\r\n};\r\n\r\nexport const getTime = (danmaku: any) => {\r\n\tconst type = danmaku?.type;\r\n\tswitch (type) {\r\n\t\tcase 1007:\r\n\t\t\treturn danmaku?.data?.joinTime;\r\n\t\tdefault:\r\n\t\t\treturn getDanmuInfo(danmaku)?.sendTime;\r\n\t}\r\n};\r\n\r\nexport const setTime = (danmaku: any, time: any) => {\r\n\tconst type = danmaku?.type;\r\n\tswitch (type) {\r\n\t\tcase 1007:\r\n\t\t\tdanmaku.data.joinTime = time;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tgetDanmuInfo(danmaku).sendTime = time;\r\n\t}\r\n\treturn danmaku;\r\n};\r\n\r\nexport const getMedal = (danmaku: any) => {\r\n\treturn getUserInfo(danmaku).medal;\r\n};\r\n\r\nexport const getMedalLevel = (danmaku: any) => {\r\n\treturn getMedal(danmaku).level;\r\n};\r\n\r\nexport const getMedalName = (danmaku: any) => {\r\n\treturn getMedal(danmaku).clubName;\r\n};\r\n\r\nexport const getAvatar = (danmaku: any) => {\r\n\treturn getUserInfo(danmaku).avatar;\r\n};\r\n\r\nexport const getNickName = (danmaku: any) => {\r\n\treturn getUserInfo(danmaku).nickname;\r\n};\r\n\r\nexport const getUID = (danmaku: any) => {\r\n\treturn getUserInfo(danmaku).userID;\r\n};\r\n\r\nexport const getContent = (danmaku: any) => {\r\n\tif (danmaku.type !== 1000) {\r\n\t\treturn \"\";\r\n\t}\r\n\treturn danmaku.data.content;\r\n};\r\n\r\nexport const getGift = (danmaku: any) => {\r\n\tif (danmaku.type !== 1005) {\r\n\t\treturn {\r\n\t\t\tdisplay: false\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\tdisplay: true,\r\n\t\t...danmaku.data\r\n\t};\r\n};\r\nexport const getDanmakuType = (danmaku: any) => {\r\n\treturn danmaku.type;\r\n};\r\n\r\nexport const getGiftName = (danmaku: any) => {\r\n\treturn getGift(danmaku)?.giftDetail.giftName;\r\n};\r\n\r\nexport const getGiftCombo = (danmaku: any) => {\r\n\treturn getGift(danmaku)?.combo;\r\n};\r\n\r\nexport const getGiftNumber = (danmaku: any) => {\r\n\treturn getGift(danmaku)?.count;\r\n};\r\n\r\nexport const setGiftNumber = (danmaku: any, number: any) => {\r\n\tdanmaku.data.count = number;\r\n};\r\n\r\nexport const getGiftValue = (danmaku: any) => {\r\n\tif (getGift(danmaku)?.giftDetail.payWalletType === 1) {\r\n\t\treturn getGift(danmaku)?.value;\r\n\t}\r\n\treturn 0;\r\n};\r\n\r\nexport const getRichText = (danmaku: any) => {\r\n\tconst content: Array<string> = [];\r\n\tdanmaku.data.segments.forEach((i: any) => {\r\n\t\tswitch (i.type) {\r\n\t\t\tcase 1900:\r\n\t\t\t\tcontent.push(i.segment.userInfo.nickname);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tcontent.push(i.segment.text);\r\n\t\t}\r\n\t});\r\n\treturn content.join(\" \");\r\n};\r\n\r\nexport const robotGetters = {\r\n\tgetTime,\r\n\tgetMedalLevel,\r\n\tgetMedalName,\r\n\tgetNickName,\r\n\tgetContent,\r\n\tgetGiftName,\r\n\tgetGiftNumber,\r\n\tgetGiftValue,\r\n\tgetRichText\r\n};\r\n\r\nexport const getterOptions = () => {\r\n\treturn [\r\n\t\t{\r\n\t\t\tlabel: \"时间\",\r\n\t\t\tvalue: \"getTime\",\r\n\t\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"牌子等级\",\r\n\t\t\tvalue: \"getMedalLevel\",\r\n\t\t\tavaliable: [1000, 1001, 1002, 1003, 1005]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"牌子名\",\r\n\t\t\tvalue: \"getMedalName\",\r\n\t\t\tavaliable: [1000, 1001, 1002, 1003, 1005]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"用户名\",\r\n\t\t\tvalue: \"getNickName\",\r\n\t\t\tavaliable: [1000, 1001, 1002, 1003, 1005, 1007]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"评论\",\r\n\t\t\tvalue: \"getContent\",\r\n\t\t\tavaliable: [1000]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"礼物名字\",\r\n\t\t\tvalue: \"getGiftName\",\r\n\t\t\tavaliable: [1005]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"礼物数量\",\r\n\t\t\tvalue: \"getGiftNumber\",\r\n\t\t\tavaliable: [1005]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"礼物价值\",\r\n\t\t\tvalue: \"getGiftValue\",\r\n\t\t\tavaliable: [1005]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: \"系统通知\",\r\n\t\t\tvalue: \"getRichText\",\r\n\t\t\tavaliable: [1006]\r\n\t\t}\r\n\t];\r\n};\r\n","<template>\r\n\t<div id=\"home\">\r\n\t\t<sidebar-base />\r\n\t\t<div class=\"right\">\r\n\t\t\t<topbar-avatar />\r\n\t\t\t<div class=\"content\">\r\n\t\t\t\t<div class=\"view\" v-if=\"!minify\">\r\n\t\t\t\t\t<title-frame :title=\"$route.meta.label\">\r\n\t\t\t\t\t\t<router-view v-slot=\"{ Component }\">\r\n\t\t\t\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t\t\t\t\t\t<component :is=\"Component\" />\r\n\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t</router-view>\r\n\t\t\t\t\t</title-frame>\r\n\t\t\t\t</div>\r\n\t\t\t\t<status-bar />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport statusBar from \"@front/components/statusBar/index.vue\";\r\nimport topbarAvatar from \"@front/components/system/topbars/withAvatar\";\r\nimport { mapState } from \"vuex\";\r\nexport default defineComponent({\r\n\tname: \"home\",\r\n\tcomponents: {\r\n\t\tstatusBar,\r\n\t\ttopbarAvatar\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.state.isLogined = true;\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"minify\"])\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n#home {\r\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfont-size: $--font-size-base;\r\n\tbox-shadow: $--box-shadow-dark;\r\n\tposition: absolute;\r\n\tbackground-color: $--background-color-base;\r\n\ttransition: all 0.5s;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tborder-radius: $--border-radius-small;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\t.right {\r\n\t\t// background-color: $--background-color-base;\r\n\t\tflex-grow: 1;\r\n\t\tflex-shrink: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t& > div {\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.content {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 100%;\r\n\t\t\tflex-grow: 1;\r\n\t\t\t.view {\r\n\t\t\t\theight: calc(100% - 70px);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div id=\"statusBar\" :class=\"{unfold:isUnfold}\" element-loading-background=\"rgba(0, 0, 0, 0)\">\r\n\t\t<div class=\"switch\" @click=\"unfold\" v-if=\"streamStatus.step=='danmakuing'\"><span class=\"el-icon-arrow-up\" />{{isUnfold?'折叠':'展开'}}</div>\r\n\t\t<transition name=\"fade\">\r\n\t\t\t<component :is=\"currentComp\" />\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineAsyncComponent, defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nimport { wsevent } from \"@front/api\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { registerHost, closeWorker } from \"@front/util_function/storeWorker\";\r\nconst mainPanel = defineAsyncComponent(() =>\r\n\timport(\"@front/views/streamMonitor/index.vue\")\r\n);\r\nconst shrink = defineAsyncComponent(() =>\r\n\timport(\"@front/views/streamMonitor/shrink.vue\")\r\n);\r\n\r\nexport default defineComponent({\r\n\tname: \"statusBar\",\r\n\tcomponents: {\r\n\t\tmainPanel,\r\n\t\tshrink\r\n\t},\r\n\tdata() {\r\n\t\tconst checkTimeout: any = -1;\r\n\t\treturn {\r\n\t\t\tisUnfold: false,\r\n\t\t\tcheckTimeout\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tevent.on(\"routeChange\", this.unfold);\r\n\t\tevent.on(\"streamStatusChanged\", this.handleStatusChange);\r\n\t\twsevent.on(\"get-session\", this.sendSession);\r\n\t\twsevent.on(\"get-settings\", this.sendSettings);\r\n\t\tthis.registerWS();\r\n\t\tregisterHost(this.$store);\r\n\t\tregisterRole(\"工具箱\");\r\n\t\tthis.unfold({\r\n\t\t\tname: \"statusPanel\"\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tevent.off(\"routeChange\", this.unfold);\r\n\t\tevent.off(\"streamStatusChanged\", this.handleStatusChange);\r\n\t\twsevent.off(\"get-session\", this.sendSession);\r\n\t\twsevent.off(\"get-settings\", this.sendSettings);\r\n\t\tcloseWorker();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\r\n\t\t\t\"roomProfile\",\r\n\t\t\t\"streamStatus\",\r\n\t\t\t\"danmakuProfile\",\r\n\t\t\t\"userSession\"\r\n\t\t]),\r\n\t\tcurrentComp(): any {\r\n\t\t\treturn this.isUnfold ? mainPanel : shrink;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleStatusChange() {\r\n\t\t\tconst step = this.streamStatus.step;\r\n\t\t\tlet msg = \"\";\r\n\t\t\tswitch (step) {\r\n\t\t\t\tcase \"online\":\r\n\t\t\t\t\tthis.registerWS();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"danmakuing\":\r\n\t\t\t\t\tthis.registerWS();\r\n\t\t\t\t\tmsg = \"直播已开启\";\r\n\t\t\t\t\tthis.isUnfold = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"streamEnded\":\r\n\t\t\t\t\tmsg = \"直播已结束\";\r\n\t\t\t\t\tthis.isUnfold = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (msg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: msg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tregisterWS() {\r\n\t\t\twsevent.register(\"server\");\r\n\t\t},\r\n\t\tsendSettings() {\r\n\t\t\twsevent.wsEmit(\"update-settings\", {}, \"client\");\r\n\t\t},\r\n\t\tsendSession() {\r\n\t\t\tconst { userID } = this.userSession;\r\n\t\t\twsevent.wsEmit(\"update-session\", { userID }, \"client\");\r\n\t\t},\r\n\t\tunfold(e: any) {\r\n\t\t\tif (this.streamStatus.step !== \"danmakuing\") {\r\n\t\t\t\tthis.isUnfold = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!e.name) {\r\n\t\t\t\tthis.isUnfold = !this.isUnfold;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isUnfold = e.name === \"statusPanel\";\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#statusBar {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tz-index: 1002;\r\n\tbottom: 0px;\r\n\ttransition: all 0.5s;\r\n\ttransform: translateY(calc(100% - 70px));\r\n\tborder-top: 1px solid $--color-text-placeholder;\r\n\tbackground-color: $--background-color-base;\r\n\t&.unfold {\r\n\t\t// border-color: rgba(0, 0, 0, 0);\r\n\t\ttransform: translateY(0px);\r\n\t\t.switch span {\r\n\t\t\ttransform: rotateZ(180deg);\r\n\t\t}\r\n\t}\r\n\t.switch {\r\n\t\tposition: absolute;\r\n\t\ttop: 8px;\r\n\t\tright: 25px;\r\n\t\tz-index: 10;\r\n\t\tcolor: $--color-text-secondary;\r\n\t\tuser-select: none;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.25s;\r\n\t\t&:hover {\r\n\t\t\tcolor: $--color-text-primary;\r\n\t\t}\r\n\t\tspan {\r\n\t\t\ttransition: all 0.25s;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineAsyncComponent, defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { registerRole } from \"@front/util_function/base\";\r\nimport { wsevent } from \"@front/api\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { registerHost, closeWorker } from \"@front/util_function/storeWorker\";\r\nconst mainPanel = defineAsyncComponent(() =>\r\n\timport(\"@front/views/streamMonitor/index.vue\")\r\n);\r\nconst shrink = defineAsyncComponent(() =>\r\n\timport(\"@front/views/streamMonitor/shrink.vue\")\r\n);\r\n\r\nexport default defineComponent({\r\n\tname: \"statusBar\",\r\n\tcomponents: {\r\n\t\tmainPanel,\r\n\t\tshrink\r\n\t},\r\n\tdata() {\r\n\t\tconst checkTimeout: any = -1;\r\n\t\treturn {\r\n\t\t\tisUnfold: false,\r\n\t\t\tcheckTimeout\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tevent.on(\"routeChange\", this.unfold);\r\n\t\tevent.on(\"streamStatusChanged\", this.handleStatusChange);\r\n\t\twsevent.on(\"get-session\", this.sendSession);\r\n\t\twsevent.on(\"get-settings\", this.sendSettings);\r\n\t\tthis.registerWS();\r\n\t\tregisterHost(this.$store);\r\n\t\tregisterRole(\"工具箱\");\r\n\t\tthis.unfold({\r\n\t\t\tname: \"statusPanel\"\r\n\t\t});\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tevent.off(\"routeChange\", this.unfold);\r\n\t\tevent.off(\"streamStatusChanged\", this.handleStatusChange);\r\n\t\twsevent.off(\"get-session\", this.sendSession);\r\n\t\twsevent.off(\"get-settings\", this.sendSettings);\r\n\t\tcloseWorker();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\r\n\t\t\t\"roomProfile\",\r\n\t\t\t\"streamStatus\",\r\n\t\t\t\"danmakuProfile\",\r\n\t\t\t\"userSession\"\r\n\t\t]),\r\n\t\tcurrentComp(): any {\r\n\t\t\treturn this.isUnfold ? mainPanel : shrink;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleStatusChange() {\r\n\t\t\tconst step = this.streamStatus.step;\r\n\t\t\tlet msg = \"\";\r\n\t\t\tswitch (step) {\r\n\t\t\t\tcase \"online\":\r\n\t\t\t\t\tthis.registerWS();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"danmakuing\":\r\n\t\t\t\t\tthis.registerWS();\r\n\t\t\t\t\tmsg = \"直播已开启\";\r\n\t\t\t\t\tthis.isUnfold = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"streamEnded\":\r\n\t\t\t\t\tmsg = \"直播已结束\";\r\n\t\t\t\t\tthis.isUnfold = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (msg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: msg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tregisterWS() {\r\n\t\t\twsevent.register(\"server\");\r\n\t\t},\r\n\t\tsendSettings() {\r\n\t\t\twsevent.wsEmit(\"update-settings\", {}, \"client\");\r\n\t\t},\r\n\t\tsendSession() {\r\n\t\t\tconst { userID } = this.userSession;\r\n\t\t\twsevent.wsEmit(\"update-session\", { userID }, \"client\");\r\n\t\t},\r\n\t\tunfold(e: any) {\r\n\t\t\tif (this.streamStatus.step !== \"danmakuing\") {\r\n\t\t\t\tthis.isUnfold = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!e.name) {\r\n\t\t\t\tthis.isUnfold = !this.isUnfold;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isUnfold = e.name === \"statusPanel\";\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=02477ddb&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=02477ddb&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-02477ddb\"\n\nexport default script","<template>\r\n\t<div id=\"topbar\">\r\n\t\t<div class=\"handler\">\r\n\t\t\t<handler-moving />\r\n\t\t</div>\r\n\r\n\t\t<div class=\"avatar\">\r\n\t\t\t<el-avatar size=\"small\" :src=\"$store.state.userProfile.avatar\" />\r\n\t\t\t<span class=\"username\">{{$store.state.userProfile.nickname}}</span>\r\n\t\t</div>\r\n\t\t<el-dropdown placement=\"bottom-start\" size=\"mini\">\r\n\t\t\t<div class=\"buttonIcon\"><span class=\"el-icon-menu\" /></div>\r\n\t\t\t<template #dropdown>\r\n\t\t\t\t<el-dropdown-menu class=\"menu\">\r\n\t\t\t\t\t<el-dropdown-item class=\"item\" @click=\"logout()\">\r\n\t\t\t\t\t\t切换账号{{$store.state.streaming?\" （建议先结束直播）\":''}}</el-dropdown-item>\r\n\t\t\t\t</el-dropdown-menu>\r\n\t\t\t</template>\r\n\t\t</el-dropdown>\r\n\r\n\t\t<div class=\"buttonIcon divider\">\r\n\t\t\t<el-divider direction=\"vertical\" />\r\n\t\t</div>\r\n\t\t<handler-window />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, defineAsyncComponent } from \"vue\";\r\nimport { logout } from \"@front/util_function/login\";\r\nconst HandlerMoving = defineAsyncComponent(() =>\r\n\timport(\"@front/components/system/HandlerMoving.vue\")\r\n);\r\nconst HandlerWindow = defineAsyncComponent(() =>\r\n\timport(\"@front/components/system/HandlerWindow.vue\")\r\n);\r\nexport default defineComponent({\r\n\tname: \"topbarAvatar\",\r\n\tcomponents: {\r\n\t\tHandlerMoving,\r\n\t\tHandlerWindow\r\n\t},\r\n\tmethods: {\r\n\t\tlogout() {\r\n\t\t\tlogout();\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#topbar {\r\n\twidth: calc(100% - 50px);\r\n\theight: 50px;\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tborder-bottom: 1px solid $--color-text-placeholder;\r\n\tmargin: 0px 25px;\r\n\tuser-select: none;\r\n\t.handler {\r\n\t\tposition: relative;\r\n\t\tcolor: white;\r\n\t\tflex-grow: 1;\r\n\t}\r\n\t.avatar {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: $--font-size-small;\r\n\t\tcolor: $--color-text-secondary;\r\n\t\t.username {\r\n\t\t\tpadding: 0px 8px 0px 4px;\r\n\t\t}\r\n\t}\r\n}\r\n.menu {\r\n\tmargin: 0px;\r\n\tborder: none;\r\n\t.item {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./withAvatar.vue?vue&type=template&id=1660186d&scoped=true\"\nimport script from \"./withAvatar.vue?vue&type=script&lang=js\"\nexport * from \"./withAvatar.vue?vue&type=script&lang=js\"\n\nimport \"./withAvatar.vue?vue&type=style&index=0&id=1660186d&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1660186d\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=f2c055f8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=f2c055f8&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-f2c055f8\"\n\nexport default script","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarBase\":\"scrollbarBase\",\"scrollbarDark\":\"scrollbarDark\",\"theme\":\"#66a7da\"};","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=4374ac4a&scoped=true&lang=scss\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./imgInpuText.vue?vue&type=style&index=0&id=345d68b2&lang=scss\"","\r\nimport { defineComponent } from \"vue\";\r\nimport defaultValue from \"./default\";\r\nimport form from \"./form\";\r\nexport default defineComponent({\r\n\tname: \"mainBlock\",\r\n\tcname: \"弹幕背景\",\r\n\twidgetOptions: {\r\n\t\tavaliable: [],\r\n\t\tlimit: 1\r\n\t},\r\n\tprops: {\r\n\t\tsetting: {\r\n\t\t\tdefault: defaultValue()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsettingValue: defaultValue,\r\n\t\t\tsettingForm: form\r\n\t\t};\r\n\t}\r\n});\r\n","import script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nexport default script","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./imgInputBase.vue?vue&type=style&index=0&id=035791f1&scoped=true&lang=scss\""],"sourceRoot":""}