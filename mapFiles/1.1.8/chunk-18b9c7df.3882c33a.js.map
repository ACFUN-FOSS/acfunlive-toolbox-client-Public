{"version":3,"sources":["webpack:///./src/electron_browser/views/roomNameList/index.vue?75be","webpack:///./src/electron_browser/views/roomNameList/index.vue","webpack:///./src/electron_browser/views/roomNameList/index.vue?b7df","webpack:///./src/electron_browser/views/roomNameList/index.vue?aab5"],"names":["id","title","style","size","blackListToAdd","placeholder","addBlackList","list","blackList","action","blackListAction","keywordToAdd","$store","commit","keywordList","keywordAction","managerToAdd","addManager","managerL1st","managerAction","loading","name","components","baseList","this","computed","danmakuProfile","common","map","i","label","nickname","keywords","managerList","manager","userInfo","methods","icon","e","userID","getUserInfo","then","value","max","uid","parseInt","errorMsg","found","isNaN","length","userProfile","find","profile","Error","error","offset","type","message","duration","render","__scopeId"],"mappings":"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","file":"js/chunk-18b9c7df.3882c33a.js","sourcesContent":["export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1eddd9ee&scoped=true&lang=scss\"","<template>\r\n\t<content-frame id=\"roomNameList\" v-loading=\"loading\">\r\n\t\t<row-frame title=\"怪人（黑名单）\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"blackListToAdd\" placeholder=\"点击输入UID,回车添加\" @keypress.enter=\"addBlackList\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:180px\" :list=\"blackList\" :action=\"blackListAction()\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame title=\"屏蔽关键词\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"keywordToAdd\" placeholder=\"点击输入关键词,回车添加\" @keypress.enter=\"$store.commit('addKeyword',keywordToAdd);keywordToAdd=''\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:146px\" :list=\"keywordList\" :action=\"keywordAction()\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame title=\"房管\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<el-input style=\"margin-bottom:5px\" size=\"mini\" v-model=\"managerToAdd\" placeholder=\"点击输入UID,回车添加\" @keypress.enter=\"addManager\" />\r\n\t\t\t\t<base-list style=\"width:100%;height:180px\" :list=\"managerL1st\" :action=\"managerAction()\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t\t<row-frame title=\"特别关心（未完成）\">\r\n\t\t\t<row-span>\r\n\t\t\t\t<base-list style=\"width:100%;height:180px\" :list=\"[]\" />\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t</content-frame>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { streamInfo } from \"@front/api/user\";\r\nimport baseList from \"@front/components/base/list/base.vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"roomNameList\",\r\n\tcomponents: { baseList },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tkeywordToAdd: \"\",\r\n\t\t\tblackListToAdd: \"\",\r\n\t\t\tmanagerToAdd: \"\"\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"managerList\", \"userProfile\"]),\r\n\t\tblackList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.blackList.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i.nickname,\r\n\t\t\t\t\t...i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tkeywordList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.keywords.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tmanagerL1st(): Array<any> {\r\n\t\t\treturn this.managerList.map((manager: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: manager.userInfo.nickname,\r\n\t\t\t\t\t...manager.userInfo\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tblackListAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeBlackList\", e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tkeywordAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeKeyword\", e.label);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tmanagerAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeManager\", e.userID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\taddManager() {\r\n\t\t\tthis.getUserInfo(this.managerToAdd, this.managerL1st, 10).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addManager\", userInfo.userID);\r\n\t\t\t\t\t\tthis.managerToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddBlackList() {\r\n\t\t\tthis.getUserInfo(this.blackListToAdd, this.blackList).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addBlackList\", userInfo);\r\n\t\t\t\t\t\tthis.blackListToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tasync getUserInfo(value: any, list: Array<any>, max = -1) {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst uid = parseInt(value);\r\n\t\t\tlet errorMsg = \"\";\r\n\t\t\tlet userInfo: any = {};\r\n\t\t\tlet found = null;\r\n\t\t\tif (isNaN(uid)) {\r\n\t\t\t\terrorMsg = \"错误：只能输入用户数字uid\";\r\n\t\t\t} else if (max > 0 && list.length === max) {\r\n\t\t\t\terrorMsg = \"错误：添加数量达到最大\";\r\n\t\t\t} else if (uid === this.userProfile.userID) {\r\n\t\t\t\terrorMsg = \"错误：恁别把自己加进去\";\r\n\t\t\t} else if ((found = list.find(i => i.userID === uid))) {\r\n\t\t\t\terrorMsg = `错误：用户已在列表中，名字是${found.nickname}`;\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!(userInfo = (\r\n\t\t\t\t\t\t\tawait streamInfo({\r\n\t\t\t\t\t\t\t\tuserID: uid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t).profile)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthrow new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\terrorMsg = \"错误：找不到该用户\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (errorMsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\toffset: 60,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: errorMsg,\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tuserID: userInfo.userID,\r\n\t\t\t\tnickname: userInfo.nickname\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n#roomNameList {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { streamInfo } from \"@front/api/user\";\r\nimport baseList from \"@front/components/base/list/base.vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nexport default defineComponent({\r\n\tname: \"roomNameList\",\r\n\tcomponents: { baseList },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tkeywordToAdd: \"\",\r\n\t\t\tblackListToAdd: \"\",\r\n\t\t\tmanagerToAdd: \"\"\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"danmakuProfile\", \"managerList\", \"userProfile\"]),\r\n\t\tblackList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.blackList.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i.nickname,\r\n\t\t\t\t\t...i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tkeywordList(): Array<any> {\r\n\t\t\treturn this.danmakuProfile.common.keywords.map((i: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: i\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\t\tmanagerL1st(): Array<any> {\r\n\t\t\treturn this.managerList.map((manager: any) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: manager.userInfo.nickname,\r\n\t\t\t\t\t...manager.userInfo\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tblackListAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeBlackList\", e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tkeywordAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeKeyword\", e.label);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tmanagerAction() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: \"el-icon-delete\",\r\n\t\t\t\t\taction: (e: any) => {\r\n\t\t\t\t\t\tthis.$store.commit(\"removeManager\", e.userID);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\taddManager() {\r\n\t\t\tthis.getUserInfo(this.managerToAdd, this.managerL1st, 10).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addManager\", userInfo.userID);\r\n\t\t\t\t\t\tthis.managerToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\taddBlackList() {\r\n\t\t\tthis.getUserInfo(this.blackListToAdd, this.blackList).then(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tif (userInfo) {\r\n\t\t\t\t\t\tthis.$store.commit(\"addBlackList\", userInfo);\r\n\t\t\t\t\t\tthis.blackListToAdd = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tasync getUserInfo(value: any, list: Array<any>, max = -1) {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst uid = parseInt(value);\r\n\t\t\tlet errorMsg = \"\";\r\n\t\t\tlet userInfo: any = {};\r\n\t\t\tlet found = null;\r\n\t\t\tif (isNaN(uid)) {\r\n\t\t\t\terrorMsg = \"错误：只能输入用户数字uid\";\r\n\t\t\t} else if (max > 0 && list.length === max) {\r\n\t\t\t\terrorMsg = \"错误：添加数量达到最大\";\r\n\t\t\t} else if (uid === this.userProfile.userID) {\r\n\t\t\t\terrorMsg = \"错误：恁别把自己加进去\";\r\n\t\t\t} else if ((found = list.find(i => i.userID === uid))) {\r\n\t\t\t\terrorMsg = `错误：用户已在列表中，名字是${found.nickname}`;\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!(userInfo = (\r\n\t\t\t\t\t\t\tawait streamInfo({\r\n\t\t\t\t\t\t\t\tuserID: uid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t).profile)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthrow new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\terrorMsg = \"错误：找不到该用户\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (errorMsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\toffset: 60,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tmessage: errorMsg,\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tuserID: userInfo.userID,\r\n\t\t\t\tnickname: userInfo.nickname\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=1eddd9ee&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1eddd9ee&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1eddd9ee\"\n\nexport default script"],"sourceRoot":""}