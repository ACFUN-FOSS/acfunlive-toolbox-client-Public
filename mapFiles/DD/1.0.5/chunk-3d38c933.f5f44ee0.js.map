{"version":3,"sources":["webpack:///./src/electron_browser/mixins/methods.ts","webpack:///./src/electron_browser/components/roomList/roomList.vue?f155","webpack:///./src/electron_browser/views/applets/widget.vue?417a","webpack:///./src/electron_browser/components/minify/index.vue?22ab","webpack:///./src/electron_browser/components/roomList/rankList.vue?eb76","webpack:///./src/electron_browser/components/roomList/audienceList.vue?064b","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?3589","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?834a","webpack:///./src/electron_browser/components/minify/index.vue?f9d6","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?8b16","webpack:///./src/electron_browser/components/superChat/index.vue","webpack:///./src/electron_browser/components/superChat/index.vue?9c80","webpack:///./src/electron_browser/components/superChat/index.vue?7ed0","webpack:///./src/electron_browser/components/danmakuFlow/index.vue","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?7e59","webpack:///./src/electron_browser/components/danmakuFlow/index.vue?a95e","webpack:///./src/electron_browser/components/superChat/index.vue?0ca4","webpack:///./src/electron_browser/components/roomChat/index.vue?7edd","webpack:///./src/electron_browser/components/minify/index.vue?07a3","webpack:///./src/electron_browser/views/streamMonitor/index.vue","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue?ebbb","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue?42fa","webpack:///./src/electron_browser/views/streamMonitor/shotcut.vue","webpack:///./src/electron_browser/views/streamMonitor/shotcut.vue?8c05","webpack:///./src/electron_browser/components/roomList/roomList.vue","webpack:///./src/electron_browser/components/roomList/audienceList.vue","webpack:///./src/electron_browser/components/roomList/audienceList.vue?035b","webpack:///./src/electron_browser/components/roomList/audienceList.vue?6f60","webpack:///./src/electron_browser/components/roomList/donateList.vue","webpack:///./src/electron_browser/components/roomList/donateList.vue?aa9f","webpack:///./src/electron_browser/components/roomList/donateList.vue?89f0","webpack:///./src/electron_browser/components/roomList/rankList.vue","webpack:///./src/electron_browser/components/roomList/rankList.vue?76d5","webpack:///./src/electron_browser/components/roomList/rankList.vue?b6a2","webpack:///./src/electron_browser/components/roomList/roomList.vue?ab0e","webpack:///./src/electron_browser/components/roomList/roomList.vue?3c92","webpack:///./src/electron_browser/components/roomChat/index.vue","webpack:///./src/electron_browser/components/roomChat/index.vue?d8e0","webpack:///./src/electron_browser/components/roomChat/index.vue?eb75","webpack:///./src/electron_browser/components/minify/index.vue","webpack:///./src/electron_browser/components/minify/index.vue?98ab","webpack:///./src/electron_browser/components/minify/index.vue?142e","webpack:///./src/electron_browser/views/applets/widget.vue","webpack:///./src/electron_browser/views/applets/mixin.ts?c8ae","webpack:///./src/electron_browser/views/applets/widget.vue?8b19","webpack:///./src/electron_browser/views/streamMonitor/index.vue?1783","webpack:///./src/electron_browser/views/streamMonitor/index.vue?61bc","webpack:///./src/electron_browser/views/streamMonitor/roomInfo.vue?46d8","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue","webpack:///./src/electron_browser/directives/menu/rightClickMenuLisB.vue?8f8f","webpack:///./src/electron_browser/directives/menu/rightClickMenuList.vue?3fb6","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?08dd","webpack:///./src/electron_browser/directives/menu/index.ts","webpack:///./src/electron_browser/directives/menu/rightClickMenu.vue?e472","webpack:///./src/electron_browser/views/streamMonitor/index.vue?c35c","webpack:///./src/electron_browser/components/roomList/donateList.vue?1add"],"names":["closeStream","methods","title","showCancelButton","confirmButtonText","cancelButtonText","then","this","closeStreamConfirmed","statistic","$store","state","roomStatus","result","Object","keys","forEach","key","coinCount","diamondCount","duration","dispatch","roomProfile","liveID","module","exports","class","temp","superChatArray","scBlock","selectedID","superChatID","select","displayType","ruleIndex","uid","sc-block","currentTime","remove","name","mode","superChatBlock","next","components","listBlock","listPanel","timeCounter","count","on","update","clearTimeout","off","computed","danmakuProfile","common","superChat","Date","now","setTimeout","nextOne","find","block","showed","listEndTime","time","panelEndTime","filter","blockI","render","__scopeId","leaveScroll","scrollable","danmakuLists","danmaku","currentRow","getKey","setting","getSetting","list","danmakuRow","props","danmakuList","default","settings","required","configMode","directives","menu","scrollObserver","undefined","scrollTimer","direction","reverse","MutationObserver","scrollToBottom","observe","$el","childList","subtree","disconnect","that","top","scrollHeight","$nextTick","scrollTo","behavior","settingOfType","type","style","id","align","width","superChatEnable","flex","content-default-class","span","brightness","min","max","step","length","minify","liveCover","label","liveType","categoryName","subCategoryName","unixTimeFormatter","liveDuration","icon","num","watchingCount","thousandFormatter","likeCount","bananaCount","watch","href","session","liverUID","target","size","commit","toCut","restartDanmakuWeb","mixins","userID","userSession","res","url","window","open","redirectURL","wsEmit","activeName","component","header","user","currentUser","userInfo","avatar","nickname","isManager","displaySendAmount","userMenuList","remains","timeout","slice","data","getList","map","managerList","i","Boolean","profile","friendshipDegree","rank","rankList","first","audienceList","second","donateList","third","ref","sendDanmaku","value","placeholder","status","tips","disabled","emotion","emojis","addEmotion","trigger","max-height","hide-on-click","dropdown","emoji","index","command","pattern","src","cooling","focus","isLogined","isStreaming","n","immediate","validation","msg","chat","deviceID","serviceToken","visitorId","liveId","content","emit","message","offset","$refs","input","errmsg","isTop","setTop","isBlur","blurConfirm","minimize","custom-class","close-on-click-modal","show-alpha","color","zoom","show-close","footer","setIgnore","opacityTimer","previousIgnore","document","body","classList","add","toPosition","localStorage","getItem","JSON","parse","setIgnoreTemp","setHover","setItem","stringify","renterIgnore","o","applySetting","deep","getElementById","_","save","load","winPosition","getPosition","saveData","parseInt","innerWidth","height","innerHeight","x","y","position","setBounds","setProperty","applets","applet","startApplet","refreshList","join","process","resourcesPath","roomInfo","danmakuFlow","shotcut","roomList","roomChat","superChatList","appletList","appear","close","current","item","call","event","children","zIndex","$emit","show","positions","getBoundingClientRect","offsetHeight","offsetWidth","rightClickMenuListB","rightClickMenuList","element","addBlurListener","judgeBlur","addEventListener","e","path","removeEventListener","directive","el","binding","createElement","append","clientX","clientY","mount","preventDefault"],"mappings":"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","file":"js/chunk-3d38c933.f5f44ee0.js","sourcesContent":["import { ComponentOptionsMixin } from \"vue\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nimport OBS from \"@front/util_function/obs\";\r\nexport const closeStream: ComponentOptionsMixin = {\r\n\tmethods: {\r\n\t\tcloseStream() {\r\n\t\t\tElMessageBox({\r\n\t\t\t\ttitle: \"确认退出？\",\r\n\t\t\t\tshowCancelButton: true,\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\"\r\n\t\t\t}).then(this.closeStreamConfirmed);\r\n\t\t},\r\n\t\tasync closeStreamConfirmed() {\r\n\t\t\tconst { statistic } = this.$store.state.roomStatus;\r\n\t\t\tconst result: any = {};\r\n\t\t\tObject.keys(statistic).forEach(key => {\r\n\t\t\t\tresult[key] = thousandFormatter(statistic[key]);\r\n\t\t\t});\r\n\t\t\tresult.coinCount = thousandFormatter(statistic.diamondCount / 100);\r\n\t\t\tresult.duration = unixTimeFormatter(statistic.duration);\r\n\t\t\tthis.$store.dispatch(\r\n\t\t\t\t\"closeStream\",\r\n\t\t\t\tthis.$store.state.roomProfile.liveID\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n};\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./roomList.vue?vue&type=style&index=0&id=57c839f0&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./widget.vue?vue&type=style&index=0&id=5f33519e&scoped=true&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarBase\":\"scrollbarBase\",\"scrollbarDark\":\"scrollbarDark\"};","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rankList.vue?vue&type=style&index=0&id=5e110aaf&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./audienceList.vue?vue&type=style&index=0&id=681467bf&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=36359928&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=1f8e283e&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"","<template>\r\n\t<div class=\"super-chat-list\">\r\n\t\t<div class=\"super-chat-list-row\">\r\n\t\t\t<list-block\r\n\t\t\t\t:selectedID=\"temp.superChatID\"\r\n\t\t\t\t@click=\"select(scBlock, 5000)\"\r\n\t\t\t\t:displayType=\"displayType\"\r\n\t\t\t\tv-for=\"scBlock in temp.superChatArray\"\r\n\t\t\t\t:class=\"`list-block-${scBlock.ruleIndex}`\"\r\n\t\t\t\t:key=\"scBlock.uid\"\r\n\t\t\t\t:sc-block=\"scBlock\"\r\n\t\t\t\t:currentTime=\"currentTime\"\r\n\t\t\t\t@end=\"remove(scBlock)\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t\t<list-panel\r\n\t\t\t\tclass=\"super-chat-panel\"\r\n\t\t\t\t:class=\"`list-panel-${temp.superChatBlock?.ruleIndex}`\"\r\n\t\t\t\t:displayType=\"displayType\"\r\n\t\t\t\t:key=\"temp.superChatID\"\r\n\t\t\t\tv-if=\"temp.superChatBlock\"\r\n\t\t\t\t:sc-block=\"temp.superChatBlock\"\r\n\t\t\t\t:currentTime=\"currentTime\"\r\n\t\t\t\t@next=\"next()\"\r\n\t\t\t/>\r\n\t\t</transition>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport listBlock from \"./listBlock.vue\";\r\nimport listPanel from \"./listPanel.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"superChatList\",\r\n\tcomponents: { listBlock, listPanel },\r\n\tdata() {\r\n\t\tconst timeCounter: any = null;\r\n\t\treturn {\r\n\t\t\tcurrentTime: 0,\r\n\t\t\ttimeCounter\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.count();\r\n\t\tevent.on(\"super-chat-updated\", this.update);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeCounter);\r\n\t\tevent.off(\"super-chat-updated\", this.update);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"temp\", \"danmakuProfile\"]),\r\n\t\tsuperChatArray(): Array<any> {\r\n\t\t\treturn this.temp.superChatArray;\r\n\t\t},\r\n\t\tdisplayType(): number {\r\n\t\t\treturn this.danmakuProfile.common?.superChat?.displayType || 0;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tupdate() {\r\n\t\t\tif (this.temp.superChatID) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.next();\r\n\t\t},\r\n\t\tcount() {\r\n\t\t\tclearTimeout(this.timeCounter);\r\n\t\t\tthis.currentTime = Date.now();\r\n\t\t\tthis.timeCounter = setTimeout(() => {\r\n\t\t\t\tthis.count();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\tnext() {\r\n\t\t\tconst nextOne = this.temp.superChatArray.find(\r\n\t\t\t\t(block: any) => !block?.showed\r\n\t\t\t);\r\n\t\t\tif (\r\n\t\t\t\t!nextOne &&\r\n\t\t\t\tthis.currentTime > this.temp.superChatBlock.listEndTime\r\n\t\t\t) {\r\n\t\t\t\tthis.temp.superChatID = 0;\r\n\t\t\t\tthis.temp.superChatBlock = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.select(nextOne);\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect(block: any, time = 20000) {\r\n\t\t\tblock.showed = true;\r\n\t\t\tblock.panelEndTime = Date.now() + time;\r\n\t\t\tif (block.listEndTime < block.panelEndTime) {\r\n\t\t\t\tblock.listEndTime = block.panelEndTime;\r\n\t\t\t}\r\n\t\t\tthis.temp.superChatID = block.uid;\r\n\t\t\tthis.temp.superChatBlock = block;\r\n\t\t},\r\n\t\tremove(block: any) {\r\n\t\t\tthis.temp.superChatArray = this.temp.superChatArray.filter(\r\n\t\t\t\t(blockI: any) => blockI !== block\r\n\t\t\t);\r\n\t\t\tif (block.uid === this.temp.superChatID) {\r\n\t\t\t\tthis.next();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n.super-chat-list {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 35px;\r\n\tbox-sizing: border-box;\r\n\tborder: $--border-base;\r\n\t.super-chat-list-row {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t\toverflow: hidden;\r\n\t\tpadding-left: 8px;\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport listBlock from \"./listBlock.vue\";\r\nimport listPanel from \"./listPanel.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"superChatList\",\r\n\tcomponents: { listBlock, listPanel },\r\n\tdata() {\r\n\t\tconst timeCounter: any = null;\r\n\t\treturn {\r\n\t\t\tcurrentTime: 0,\r\n\t\t\ttimeCounter\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.count();\r\n\t\tevent.on(\"super-chat-updated\", this.update);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeCounter);\r\n\t\tevent.off(\"super-chat-updated\", this.update);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"temp\", \"danmakuProfile\"]),\r\n\t\tsuperChatArray(): Array<any> {\r\n\t\t\treturn this.temp.superChatArray;\r\n\t\t},\r\n\t\tdisplayType(): number {\r\n\t\t\treturn this.danmakuProfile.common?.superChat?.displayType || 0;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tupdate() {\r\n\t\t\tif (this.temp.superChatID) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.next();\r\n\t\t},\r\n\t\tcount() {\r\n\t\t\tclearTimeout(this.timeCounter);\r\n\t\t\tthis.currentTime = Date.now();\r\n\t\t\tthis.timeCounter = setTimeout(() => {\r\n\t\t\t\tthis.count();\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\tnext() {\r\n\t\t\tconst nextOne = this.temp.superChatArray.find(\r\n\t\t\t\t(block: any) => !block?.showed\r\n\t\t\t);\r\n\t\t\tif (\r\n\t\t\t\t!nextOne &&\r\n\t\t\t\tthis.currentTime > this.temp.superChatBlock.listEndTime\r\n\t\t\t) {\r\n\t\t\t\tthis.temp.superChatID = 0;\r\n\t\t\t\tthis.temp.superChatBlock = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.select(nextOne);\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect(block: any, time = 20000) {\r\n\t\t\tblock.showed = true;\r\n\t\t\tblock.panelEndTime = Date.now() + time;\r\n\t\t\tif (block.listEndTime < block.panelEndTime) {\r\n\t\t\t\tblock.listEndTime = block.panelEndTime;\r\n\t\t\t}\r\n\t\t\tthis.temp.superChatID = block.uid;\r\n\t\t\tthis.temp.superChatBlock = block;\r\n\t\t},\r\n\t\tremove(block: any) {\r\n\t\t\tthis.temp.superChatArray = this.temp.superChatArray.filter(\r\n\t\t\t\t(blockI: any) => blockI !== block\r\n\t\t\t);\r\n\t\t\tif (block.uid === this.temp.superChatID) {\r\n\t\t\t\tthis.next();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=1b98c025&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1b98c025&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1b98c025\"\n\nexport default script","<template>\r\n\t<div\r\n\t\tclass=\"danmaku-flow\"\r\n\t\t@mousemove=\"leaveScroll\"\r\n\t\t@mousewheel=\"scrollable = true\"\r\n\t\t@mouseleave=\"scrollable = false\"\r\n\t>\r\n\t\t<transition-group name=\"fade\">\r\n\t\t\t<danmaku-row\r\n\t\t\t\tv-menu=\"list\"\r\n\t\t\t\t@contextmenu=\"currentRow = danmaku\"\r\n\t\t\t\tv-for=\"danmaku in [...danmakuLists]\"\r\n\t\t\t\t:key=\"getKey(danmaku)\"\r\n\t\t\t\t:danmaku=\"danmaku\"\r\n\t\t\t\t:setting=\"getSetting(danmaku)\"\r\n\t\t\t/>\r\n\t\t</transition-group>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow/index.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\t//@ts-ignore\r\n\t\t\tswitch (this.settings?.direction) {\r\n\t\t\t\tcase \"addToTop\":\r\n\t\t\t\t\treturn [...this.danmakuList];\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [...this.danmakuList].reverse();\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\t\t\tconst top =\r\n\t\t\t\tthat.settings?.direction === \"addToTop\"\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: that.$el.scrollHeight;\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.danmaku-flow {\r\n\tbox-sizing: border-box;\r\n\tposition: relative;\r\n\twidth: calc(100% - 12px);\r\n\theight: calc(100% - 32px);\r\n\toverflow-x: hidden;\r\n\toverflow-y: auto;\r\n\tpadding: 4px 6px;\r\n\ttransform: translateZ(1);\r\n\t// will-change: contents scroll-position;\r\n\t@include scrollbarBaseSlinder();\r\n\t// & > div {\r\n\t// \tdisplay: flex;\r\n\t// \tflex-direction: column;\r\n\t// \talign-content: stretch;\r\n\t// }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport danmakuRow from \"./danmakuRow/index.vue\";\r\nimport { styleConfig } from \"@front/components/danmakuFlow/utils/data\";\r\nimport { getTime } from \"@front/components/danmakuFlow/utils/getter\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"flow\",\r\n\tcomponents: { danmakuRow },\r\n\tprops: {\r\n\t\tdanmakuList: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfigMode: {\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst scrollObserver: any = undefined;\r\n\t\tconst scrollTimer: any = null;\r\n\t\treturn {\r\n\t\t\tscrollObserver,\r\n\t\t\tscrollTimer,\r\n\t\t\tscrollable: false,\r\n\t\t\tcurrentRow: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdanmakuLists(): Array<any> {\r\n\t\t\t//@ts-ignore\r\n\t\t\tswitch (this.settings?.direction) {\r\n\t\t\t\tcase \"addToTop\":\r\n\t\t\t\t\treturn [...this.danmakuList];\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn [...this.danmakuList].reverse();\r\n\t\t\t}\r\n\t\t},\r\n\t\tlist(): Array<any> {\r\n\t\t\tif (this.configMode) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(this.currentRow, this.$store);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.scrollObserver = new MutationObserver(this.scrollToBottom);\r\n\t\tthis.scrollObserver.observe(this.$el, {\r\n\t\t\tchildList: true,\r\n\t\t\tsubtree: true\r\n\t\t});\r\n\t\tthis.scrollToBottom();\r\n\t\tevent.on(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tthis.scrollObserver.disconnect();\r\n\t\tevent.off(\"minify\", this.scrollToBottom);\r\n\t},\r\n\tmethods: {\r\n\t\tgetKey(danmaku: any) {\r\n\t\t\treturn getTime(danmaku);\r\n\t\t},\r\n\t\tscrollToBottom: debounce(function() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst that = this;\r\n\t\t\tconst top =\r\n\t\t\t\tthat.settings?.direction === \"addToTop\"\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: that.$el.scrollHeight;\r\n\t\t\tif (!that.scrollable) {\r\n\t\t\t\tclearTimeout(that.scrollTimer);\r\n\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\tthat.$el.scrollTo({\r\n\t\t\t\t\t\ttop,\r\n\t\t\t\t\t\tbehavior: \"smooth\"\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\tgetSetting(danmaku: any) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst setting = this.settings?.settingOfType[danmaku.type];\r\n\t\t\tif (setting) {\r\n\t\t\t\treturn setting;\r\n\t\t\t}\r\n\t\t\treturn styleConfig(danmaku.type);\r\n\t\t},\r\n\t\tleaveScroll() {\r\n\t\t\tif (!this.scrollable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tclearTimeout(this.scrollTimer);\r\n\t\t\tthis.scrollTimer = setTimeout(() => {\r\n\t\t\t\tthis.scrollable = false;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=36359928&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=36359928&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-36359928\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1b98c025&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=20b41e64&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1f8e283e&scoped=true&lang=scss\"","<template>\r\n\t<title-frame id=\"streamMonitor\" title=\"监控面板\">\r\n\t\t<content-frame align=\"column\">\r\n\t\t\t<row-frame style=\"height:100%\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"房间信息\">\r\n\t\t\t\t\t<row-span>\r\n\t\t\t\t\t\t<room-info />\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t\t<shotcut />\r\n\t\t\t\t<row-frame title=\"小程序\">\r\n\t\t\t\t\t<applet-list style=\"width:330px;height:265px\" />\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-frame>\r\n\t\t\t<row-frame class=\"danmakuPanel\" style=\"height:100%\">\r\n\t\t\t\t<row-frame width=\"100%\" title=\"\">\r\n\t\t\t\t\t<row-span style=\"z-index:10000\">\r\n\t\t\t\t\t\t<room-list />\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t\t<row-frame :class=\"{superChatEnable}\" width=\"100%\" title=\"弹幕流\" :flex=\"true\"\r\n\t\t\t\t\t:content-default-class=\"false\">\r\n\t\t\t\t\t<row-span :span=\"12\" style=\"padding:0px\">\r\n\t\t\t\t\t\t<div class=\"list-add-btn\" style=\"top:0px\">\r\n\t\t\t\t\t\t\t<div class=\"slider\">背景亮度：\r\n\t\t\t\t\t\t\t\t<el-slider style=\"width:100px\" v-model=\"brightness\" :min=\"20\" :max=\"100\" :step=\"1\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<super-chat-list v-if=\"superChatEnable\"\r\n\t\t\t\t\t\t\t:class=\"{'empty':!temp||temp.superChatArray.length===0}\" />\r\n\t\t\t\t\t\t<div class=\"danmaku-list-bg\" :style=\"{'--brightness':(100- brightness)/100}\">\r\n\t\t\t\t\t\t\t<danmaku-flow style=\"font-size:18px!important\" :danmakuList=\"danmakuList\"\r\n\t\t\t\t\t\t\t\t:settings=\"settings\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t\t<row-frame width=\"100%\">\r\n\t\t\t\t\t<row-span :span=\"12\" style=\"padding:0px\">\r\n\t\t\t\t\t\t<room-chat />\r\n\t\t\t\t\t</row-span>\r\n\t\t\t\t</row-frame>\r\n\t\t\t</row-frame>\r\n\r\n\t\t</content-frame>\r\n\t</title-frame>\r\n\t<minify v-if=\"minify\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport roomInfo from \"./roomInfo.vue\";\r\nimport danmakuFlow from \"@front/components/danmakuFlow/index.vue\";\r\nimport superChatList from \"@front/components/superChat/index.vue\";\r\nimport shotcut from \"./shotcut.vue\";\r\nimport roomList from \"@front/components/roomList/roomList.vue\";\r\nimport roomChat from \"@front/components/roomChat/index.vue\";\r\nimport minify from \"@front/components/minify/index.vue\";\r\nimport appletList from \"@front/views/applets/widget.vue\";\r\nexport default defineComponent({\r\n\tname: \"streamMonitor\",\r\n\tcomponents: {\r\n\t\troomInfo,\r\n\t\tdanmakuFlow,\r\n\t\tshotcut,\r\n\t\troomList,\r\n\t\troomChat,\r\n\t\tminify,\r\n\t\tsuperChatList,\r\n\t\tappletList\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbrightness: 50\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"danmakuProfile\", \"danmakuList\", \"superChatEnable\"]),\r\n\t\t...mapState([\"minify\", \"temp\"]),\r\n\t\tsettings() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.danmakuProfile(\"toolBox\");\r\n\t\t}\r\n\t},\r\n\twatch: {},\r\n\tmethods: {}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#streamMonitor {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tz-index: 100;\r\n\t.superChatEnable {\r\n\t\t.danmaku-list-bg > div {\r\n\t\t\theight: 315px;\r\n\t\t}\r\n\t}\r\n}\r\n.empty::after {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 35px;\r\n\tcontent: \"超级聊已开启，当前未有人投喂~\";\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcolor: $--color-text-regular;\r\n}\r\n.danmaku-list-bg {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n\r\n\toverflow: hidden;\r\n\t& > div {\r\n\t\theight: 350px;\r\n\t}\r\n\t&::before {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: black;\r\n\t\topacity: var(--brightness);\r\n\t}\r\n}\r\n.list-add-btn {\r\n\tposition: absolute;\r\n\tright: 0px;\r\n\tdisplay: flex;\r\n\t.slider {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-top: -35px;\r\n\t\tmargin-right: 20px;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div id=\"roomInfo\">\r\n\t\t<div class=\"liveCover\" :style=\"{backgroundImage:`url(${roomProfile.liveCover||'/imgs/common/noCover.jpg'})`}\" />\r\n\t\t<div class=\"roomStatus\">\r\n\t\t\t<title-scrolling class=\"title\" :label=\"roomProfile.title\" />\r\n\t\t\t<div class=\"middle\">\r\n\t\t\t\t<div class=\"subtitles\">\r\n\t\t\t\t\t<div class=\"subtitle\">{{`${roomProfile.liveType.categoryName} - ${roomProfile.liveType.subCategoryName}`}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"subtitle\"> 已播时长：{{unixTimeFormatter($store.state.roomStatus.liveDuration)}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"counters\">\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"观众\" icon=\"el-icon-user-solid\" :num=\"roomStatus.watchingCount\" />\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"点赞\" icon=\"self-like\" :num=\"thousandFormatter(roomStatus.statistic.likeCount)\" />\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"香蕉\" icon=\"self-banana\" :num=\"thousandFormatter(roomStatus.statistic.bananaCount)\" />\r\n\t\t\t\t<icon-counter class=\"counter\" title=\"ac币\" icon=\"self-coin\" :num=\"thousandFormatter(roomStatus.statistic.diamondCount/100)\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nexport default defineComponent({\r\n\tname: \"roomInfo\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\", \"roomStatus\", \"userSession\"])\r\n\t},\r\n\twatch: {},\r\n\tmethods: {\r\n\t\tunixTimeFormatter,\r\n\t\tthousandFormatter\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n#roomInfo {\r\n\tdisplay: flex;\r\n\t& > div {\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t.liveCover {\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t\tmargin-right: 16px;\r\n\t\tbackground-size: cover;\r\n\t\tbackground-position: center;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.roomStatus {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-grow: 1;\r\n\t\t& > div {\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.middle {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tposition: relative;\r\n\t\t\t.btns {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.subtitles {\r\n\t\t\theight: 60px;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: space-evenly;\r\n\t\t}\r\n\t\t.title {\r\n\t\t\twidth: 210px;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-medium;\r\n\t\t}\r\n\t\t.subtitle,\r\n\t\t.counter {\r\n\t\t\tcolor: $--color-text-secondary;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\r\n\t\t.counters {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: no-wrap;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.counter {\r\n\t\t\t\tfont-size: $--font-size-base !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport {\r\n\tunixTimeFormatter,\r\n\tthousandFormatter\r\n} from \"@front/util_function/formatter\";\r\nexport default defineComponent({\r\n\tname: \"roomInfo\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"roomProfile\", \"roomStatus\", \"userSession\"])\r\n\t},\r\n\twatch: {},\r\n\tmethods: {\r\n\t\tunixTimeFormatter,\r\n\t\tthousandFormatter\r\n\t}\r\n});\r\n","import { render } from \"./roomInfo.vue?vue&type=template&id=21830726&scoped=true\"\nimport script from \"./roomInfo.vue?vue&type=script&lang=ts\"\nexport * from \"./roomInfo.vue?vue&type=script&lang=ts\"\n\nimport \"./roomInfo.vue?vue&type=style&index=0&id=21830726&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-21830726\"\n\nexport default script","<template>\r\n\t<div class=\"shotcut\">\r\n\t\t<row-frame width=\"100%\" title=\"快捷功能\" :flex=\"true\">\r\n\t\t\t<row-span :span=\"2.5\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<a\r\n\t\t\t\t\tstyle=\"text-decoration:none;color:white\"\r\n\t\t\t\t\t:href=\"`https://live.acfun.cn/live/${session.liverUID}`\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\">直播间</el-button>\r\n\t\t\t\t</a>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"closeStream\"\r\n\t\t\t\t\t>退出</el-button\r\n\t\t\t\t>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"2.5\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t@click=\"$store.commit('minify')\"\r\n\t\t\t\t\t>迷你化</el-button\r\n\t\t\t\t>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"3\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"toCut\"\r\n\t\t\t\t\t>剪辑入口</el-button\r\n\t\t\t\t>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"3\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t@click=\"$store.dispatch('restartDanmaku')\"\r\n\t\t\t\t\t>重连弹幕</el-button\r\n\t\t\t\t>\r\n\t\t\t</row-span>\r\n\t\t\t<row-span :span=\"3\" style=\"margin-bottom:8px\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"restartDanmakuWeb\"\r\n\t\t\t\t\t>重连网页弹幕</el-button\r\n\t\t\t\t>\r\n\t\t\t</row-span>\r\n\t\t</row-frame>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nimport { closeStream } from \"@front/mixins/methods\";\r\nimport { toCut } from \"@front/api/room\";\r\nimport { wsevent } from \"@front/api/wsbus\";\r\nimport { session } from \"@front/api/user\";\r\nexport default defineComponent({\r\n\tname: \"shotcut\",\r\n\tmixins: [closeStream],\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tcomputed: {\r\n\t\tsession() {\r\n\t\t\treturn session;\r\n\t\t},\r\n\t\t...mapState([\"userSession\"])\r\n\t},\r\n\twatch: {},\r\n\tmethods: {\r\n\t\ttoCut() {\r\n\t\t\tconst { roomProfile } = this.$store.state;\r\n\t\t\tconst { liveID } = roomProfile;\r\n\t\t\tconst { userID: liverUID } = this.userSession;\r\n\t\t\ttoCut(liverUID, liveID).then(res => {\r\n\t\t\t\tif (!res.url) return;\r\n\t\t\t\twindow.open(res.redirectURL, \"_blank\");\r\n\t\t\t});\r\n\t\t},\r\n\t\trestartDanmakuWeb() {\r\n\t\t\twsevent.wsEmit(\"restartDanmaku\", {}, \"danmakuWeb\");\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./shotcut.vue?vue&type=template&id=81c8cf66\"\nimport script from \"./shotcut.vue?vue&type=script&lang=js\"\nexport * from \"./shotcut.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"roomList\">\r\n\t\t<el-tabs class=\"tabs\" v-model=\"activeName\">\r\n\t\t\t<el-tab-pane label=\"在线观众\" name=\"first\" />\r\n\t\t\t<el-tab-pane label=\"贡献榜\" name=\"second\" />\r\n\t\t\t<el-tab-pane label=\"守护榜\" name=\"third\" />\r\n\t\t</el-tabs>\r\n\t\t<div style=\"height:60px;transform:translateY(-10px);\">\r\n\t\t\t<component :is=\"component\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport audienceList from \"./audienceList.vue\";\r\nimport donateList from \"./donateList.vue\";\r\nimport rankList from \"./rankList.vue\";\r\nexport default defineComponent({\r\n\tname: \"roomList\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcomponents: {\r\n\t\t\t\tfirst: markRaw(audienceList),\r\n\t\t\t\tsecond: markRaw(donateList),\r\n\t\t\t\tthird: markRaw(rankList)\r\n\t\t\t},\r\n\t\t\tactiveName: \"first\"\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcomponent() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.components[this.activeName];\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n.tabs {\r\n\tposition: absolute;\r\n\ttop: -62px;\r\n\twidth: 100%;\r\n\t:deep .el-tabs__nav.is-top {\r\n\t\tfloat: left;\r\n\t}\r\n\t:deep .el-tabs__item {\r\n\t\tbox-shadow: none !important;\r\n\t}\r\n\t:deep .el-tabs__header {\r\n\t\tmargin: 0px !important;\r\n\t}\r\n\t:deep .el-tabs__content {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"audience-list\">\r\n\t\t<div class=\"head-list\" style=\"width:100%;display:flex;\">\r\n\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in header\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"gift\">\r\n\t\t\t\t\t<span class=\"manager\" v-if=\"user.isManager\">房管</span><span class=\"self-coin\" />{{user.displaySendAmount}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);\" v-if=\"header.length==0\">暂无观众数据</div>\r\n\t\t</div>\r\n\t\t<div class=\"hidden\">\r\n\t\t\t<div class=\"remain-list\">\r\n\t\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in remains\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t\t<div style=\"display:flex;align-item:center\">\r\n\t\t\t\t\t\t<div class=\"manager\" v-if=\"user.isManager\">房管</div>\r\n\t\t\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"gift\"><span class=\"self-coin\" />{{user.displaySendAmount}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getAudience } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"audienceList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetAudience(this.$store.state.roomProfile).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = this.$store.state.managerList.find(\r\n\t\t\t\t\t\t(i: any) => {\r\n\t\t\t\t\t\t\treturn i.userInfo.userID === user.userInfo.userID;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.audience-list {\r\n\twidth: calc(100% + 16px);\r\n\t.hidden {\r\n\t\tmax-height: 0px;\r\n\t\ttransition: max-height 0.25s;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t}\r\n\t&:hover .hidden {\r\n\t\tmax-height: 400px;\r\n\t}\r\n}\r\n.manager {\r\n\tfont-size: $--font-size-extra-small;\r\n\tcolor: white;\r\n\tborder-radius: $--border-radius-small;\r\n\tbackground-color: $--color-primary;\r\n\tpadding: 0px 5px;\r\n}\r\n.head-list .user-item {\r\n\tmin-width: 90px;\r\n\twidth: 30%;\r\n\tmargin-right: 2%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tflex-grow: 0;\r\n\t.header {\r\n\t\theight: 45px;\r\n\t\twidth: 45px;\r\n\t\tbackground-size: contain;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: $--border-base;\r\n\t\tbox-shadow: $--box-shadow-dark;\r\n\t}\r\n\t.nickname {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\t& > div {\r\n\t\t\tmax-width: 100%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\t}\r\n\t.gift {\r\n\t\tcolor: $--color-warning;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n.remain-list {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tbackground-color: $--background-color-base;\r\n\toverflow-y: scroll;\r\n\t@include scrollbarDark();\r\n\tmax-height: 400px;\r\n\t.user-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t\tpadding: 2.5px 5px;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.header {\r\n\t\t\theight: 15px;\r\n\t\t\twidth: 15px;\r\n\t\t\tbackground-size: contain;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: $--border-base;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.nickname {\r\n\t\t\tmax-width: 270px;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t& > div {\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.gift {\r\n\t\t\tcolor: $--color-warning;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getAudience } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"audienceList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetAudience(this.$store.state.roomProfile).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = this.$store.state.managerList.find(\r\n\t\t\t\t\t\t(i: any) => {\r\n\t\t\t\t\t\t\treturn i.userInfo.userID === user.userInfo.userID;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./audienceList.vue?vue&type=template&id=681467bf&scoped=true\"\nimport script from \"./audienceList.vue?vue&type=script&lang=ts\"\nexport * from \"./audienceList.vue?vue&type=script&lang=ts\"\n\nimport \"./audienceList.vue?vue&type=style&index=0&id=681467bf&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-681467bf\"\n\nexport default script","<template>\r\n\t<div class=\"donate-list\">\r\n\t\t<div class=\"head-list\" style=\"width:100%;display:flex\">\r\n\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in header\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"gift\">\r\n\t\t\t\t\t<span class=\"manager\" v-if=\"user.isManager\">房管</span><span class=\"self-coin\" />{{user.displaySendAmount}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);\" v-if=\"header.length==0\">暂无贡献榜数据</div>\r\n\t\t</div>\r\n\t\t<div class=\"hidden\">\r\n\t\t\t<div class=\"remain-list\">\r\n\t\t\t\t<div v-menu=\"userMenuList\" @contextmenu=\"currentUser=user\" class=\"user-item\" v-for=\"user in remains\" :key=\"user.userInfo.userID\">\r\n\t\t\t\t\t<div style=\"display:flex;align-item:center\">\r\n\t\t\t\t\t\t<div class=\"manager\" v-if=\"user.isManager\">房管</div>\r\n\t\t\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.userInfo.avatar})`}\"></div>\r\n\t\t\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t\t\t<title-scrolling :label=\"user.userInfo.nickname\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"gift\"><span class=\"self-coin\" />{{user.displaySendAmount}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { getDonate } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"donateList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetDonate(this.$store.state.userSession).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = Boolean(\r\n\t\t\t\t\t\tthis.$store.state.managerList.find(\r\n\t\t\t\t\t\t\t(i: any) =>\r\n\t\t\t\t\t\t\t\ti.userInfo.userID === user.userInfo.userID\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.donate-list {\r\n\twidth: calc(100% + 16px);\r\n\t.hidden {\r\n\t\tmax-height: 0px;\r\n\t\ttransition: max-height 0.25s;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t}\r\n\t&:hover .hidden {\r\n\t\tmax-height: 400px;\r\n\t}\r\n}\r\n.manager {\r\n\tfont-size: $--font-size-extra-small;\r\n\tcolor: white;\r\n\tborder-radius: $--border-radius-small;\r\n\tbackground-color: $--color-primary;\r\n\tpadding: 0px 5px;\r\n}\r\n.head-list .user-item {\r\n\tmin-width: 90px;\r\n\twidth: 30%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tmargin-right: 2%;\r\n\tflex-grow: 0;\r\n\t.header {\r\n\t\theight: 45px;\r\n\t\twidth: 45px;\r\n\t\tbackground-size: contain;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: $--border-base;\r\n\t\tbox-shadow: $--box-shadow-dark;\r\n\t}\r\n\t.nickname {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\t& > div {\r\n\t\t\tmax-width: 100%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\t}\r\n\t.gift {\r\n\t\tcolor: $--color-warning;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n.remain-list {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tbackground-color: $--background-color-base;\r\n\toverflow-y: scroll;\r\n\t@include scrollbarDark();\r\n\tmax-height: 400px;\r\n\t.user-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t\tpadding: 2.5px 5px;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.header {\r\n\t\t\theight: 15px;\r\n\t\t\twidth: 15px;\r\n\t\t\tbackground-size: contain;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: $--border-base;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.nickname {\r\n\t\t\tmax-width: 270px;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t& > div {\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.gift {\r\n\t\t\tcolor: $--color-warning;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { getDonate } from \"@front/api/room\";\r\nimport menu from \"@front/directives/menu\";\r\nimport { menu as menuList } from \"@front/components/danmakuFlow/utils/common\";\r\nexport default defineComponent({\r\n\tname: \"donateList\",\r\n\tdirectives: {\r\n\t\tmenu: menu()\r\n\t},\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\tlist: [],\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.list.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.list.slice(3);\r\n\t\t},\r\n\t\tuserMenuList(): Array<any> {\r\n\t\t\tif (!this.currentUser) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn menuList(\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 1001,\r\n\t\t\t\t\tdata: this.currentUser\r\n\t\t\t\t},\r\n\t\t\t\tthis.$store\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.getList();\r\n\t\tthis.$store.commit(\"getManagerList\");\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tclearTimeout(this.timeout);\r\n\t},\r\n\tmethods: {\r\n\t\tgetList() {\r\n\t\t\tclearTimeout(this.timeout);\r\n\t\t\tgetDonate(this.$store.state.userSession).then(res => {\r\n\t\t\t\tthis.list = res.map((user: any) => {\r\n\t\t\t\t\tuser.isManager = Boolean(\r\n\t\t\t\t\t\tthis.$store.state.managerList.find(\r\n\t\t\t\t\t\t\t(i: any) =>\r\n\t\t\t\t\t\t\t\ti.userInfo.userID === user.userInfo.userID\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis.getList();\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./donateList.vue?vue&type=template&id=b2ca48ca&scoped=true\"\nimport script from \"./donateList.vue?vue&type=script&lang=ts\"\nexport * from \"./donateList.vue?vue&type=script&lang=ts\"\n\nimport \"./donateList.vue?vue&type=style&index=0&id=b2ca48ca&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-b2ca48ca\"\n\nexport default script","<template>\r\n\t<div class=\"rank-list\">\r\n\t\t<div class=\"head-list\" style=\"width:100%;display:flex;\">\r\n\t\t\t<div class=\"user-item\" v-for=\"user in header\" :key=\"user.profile.userID\">\r\n\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.profile.avatar})`}\"></div>\r\n\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t<title-scrolling :label=\"user.profile.nickname\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"gift\">\r\n\t\t\t\t\t<span class=\"self-like\" />{{user.friendshipDegree}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);\" v-if=\"header.length==0\">暂无守护榜数据</div>\r\n\t\t</div>\r\n\t\t<div class=\"hidden\">\r\n\t\t\t<div class=\"remain-list\">\r\n\t\t\t\t<div class=\"user-item\" v-for=\"user in remains\" :key=\"user.profile.userID\">\r\n\t\t\t\t\t<div style=\"display:flex;align-item:center\">\r\n\t\t\t\t\t\t<div class=\"header\" :style=\"{backgroundImage:`url(${user.profile.avatar})`}\"></div>\r\n\t\t\t\t\t\t<div class=\"nickname\">\r\n\t\t\t\t\t\t\t<title-scrolling :label=\"user.profile.nickname\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"gift\"><span class=\"self-like\" />{{user.friendshipDegree}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nexport default defineComponent({\r\n\tname: \"rankList\",\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"rank\"]),\r\n\t\trankList(): Array<any> {\r\n\t\t\treturn this.rank.rankList;\r\n\t\t},\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.rankList.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.rankList.slice(3);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n.rank-list {\r\n\twidth: calc(100% + 16px);\r\n\t.hidden {\r\n\t\tmax-height: 0px;\r\n\t\ttransition: max-height 0.25s;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t}\r\n\t&:hover .hidden {\r\n\t\tmax-height: 400px;\r\n\t}\r\n}\r\n.head-list .user-item {\r\n\tmin-width: 90px;\r\n\twidth: 30%;\r\n\tmargin-right: 2%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 0;\r\n\talign-items: center;\r\n\t.header {\r\n\t\theight: 45px;\r\n\t\twidth: 45px;\r\n\t\tbackground-size: contain;\r\n\t\tborder-radius: 50%;\r\n\t\tborder: $--border-base;\r\n\t\tbox-shadow: $--box-shadow-dark;\r\n\t}\r\n\t.nickname {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\toverflow: hidden;\r\n\t\t& > div {\r\n\t\t\tmax-width: 100%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t}\r\n\t}\r\n\t.gift {\r\n\t\tcolor: $--color-primary;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\r\n.remain-list {\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\tbackground-color: $--background-color-base;\r\n\toverflow-y: scroll;\r\n\t@include scrollbarDark();\r\n\tmax-height: 400px;\r\n\r\n\t.user-item {\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t&:hover {\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t}\r\n\t\tpadding: 2.5px 5px;\r\n\t\t& > div {\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.header {\r\n\t\t\theight: 15px;\r\n\t\t\twidth: 15px;\r\n\t\t\tbackground-size: contain;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: $--border-base;\r\n\t\t\tmargin-right: 5px;\r\n\t\t}\r\n\r\n\t\t.nickname {\r\n\t\t\tmax-width: 270px;\r\n\t\t\ttext-align: center;\r\n\t\t\toverflow: hidden;\r\n\t\t\t& > div {\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: $--font-size-extra-small;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.gift {\r\n\t\t\tcolor: $--color-primary;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapState } from \"vuex\";\r\nexport default defineComponent({\r\n\tname: \"rankList\",\r\n\tdata() {\r\n\t\tconst timeout: any = null;\r\n\t\treturn {\r\n\t\t\ttimeout,\r\n\t\t\tcurrentUser: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState([\"rank\"]),\r\n\t\trankList(): Array<any> {\r\n\t\t\treturn this.rank.rankList;\r\n\t\t},\r\n\t\theader(): Array<any> {\r\n\t\t\treturn this.rankList.slice(0, 3);\r\n\t\t},\r\n\t\tremains(): Array<any> {\r\n\t\t\treturn this.rankList.slice(3);\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./rankList.vue?vue&type=template&id=5e110aaf&scoped=true\"\nimport script from \"./rankList.vue?vue&type=script&lang=ts\"\nexport * from \"./rankList.vue?vue&type=script&lang=ts\"\n\nimport \"./rankList.vue?vue&type=style&index=0&id=5e110aaf&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5e110aaf\"\n\nexport default script","\r\nimport { defineComponent, markRaw } from \"vue\";\r\nimport audienceList from \"./audienceList.vue\";\r\nimport donateList from \"./donateList.vue\";\r\nimport rankList from \"./rankList.vue\";\r\nexport default defineComponent({\r\n\tname: \"roomList\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcomponents: {\r\n\t\t\t\tfirst: markRaw(audienceList),\r\n\t\t\t\tsecond: markRaw(donateList),\r\n\t\t\t\tthird: markRaw(rankList)\r\n\t\t\t},\r\n\t\t\tactiveName: \"first\"\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcomponent() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.components[this.activeName];\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./roomList.vue?vue&type=template&id=57c839f0&scoped=true\"\nimport script from \"./roomList.vue?vue&type=script&lang=ts\"\nexport * from \"./roomList.vue?vue&type=script&lang=ts\"\n\nimport \"./roomList.vue?vue&type=style&index=0&id=57c839f0&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-57c839f0\"\n\nexport default script","<template>\r\n\t<div id=\"room-chat\" style=\"width:100%\">\r\n\t\t<el-input ref=\"input\" size=\"mini\" @keyup.enter=\"sendDanmaku\" v-model=\"value\" :placeholder=\"status.tips\" :disabled=\"status.disabled\">\r\n\t\t\t<template #append v-if=\"danmakuProfile.common.emotion&&danmakuProfile.common.emojis.length\">\r\n\t\t\t\t<el-dropdown @command=\"addEmotion\" type=\"primary\" trigger=\"hover\" max-height=\"200px\" style=\"line-height:28px\" :hide-on-click=\"false\">\r\n\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" class=\"btnBase attach\">😀</el-button>\r\n\t\t\t\t\t<template #dropdown>\r\n\t\t\t\t\t\t<el-dropdown-menu class=\"emotion-drop-down\">\r\n\t\t\t\t\t\t\t<el-dropdown-item v-for=\"(emoji,index) in danmakuProfile.common.emojis\" :key=\"index\" :command=\"emoji.pattern\">\r\n\t\t\t\t\t\t\t\t<img style=\"max-width:64px\" :src=\"emoji.url\" />\r\n\t\t\t\t\t\t\t</el-dropdown-item>\r\n\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-dropdown>\r\n\t\t\t</template>\r\n\t\t</el-input>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { chat } from \"@front/api/chat\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"roomChat\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalue: \"\",\r\n\t\t\tcooling: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tevent.on(\"message-focus\", this.focus);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tevent.off(\"message-focus\", this.focus);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"isStreaming\", \"isLogined\"]),\r\n\t\t...mapState([\"userSession\", \"roomProfile\", \"danmakuProfile\"]),\r\n\t\tstatus(): any {\r\n\t\t\tif (this.cooling) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: \"冷却中，等一下啦\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!this.isLogined || !this.isStreaming) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: !this.isLogined\r\n\t\t\t\t\t\t? \"用户未登录，不可发言\"\r\n\t\t\t\t\t\t: \"直播未开启，不可发言\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\ttips: \"发个弹幕，嘿嘿(enter发送)\"\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstatus: {\r\n\t\t\thandler(n) {\r\n\t\t\t\tif (n.disabled) {\r\n\t\t\t\t\tthis.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsendDanmaku() {\r\n\t\t\tif (!this.validation()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst msg = this.value;\r\n\t\t\tthis.cooling = true;\r\n\t\t\tchat({\r\n\t\t\t\tuserID: this.userSession.userID,\r\n\t\t\t\tdeviceID: this.userSession.deviceID,\r\n\t\t\t\tserviceToken: this.userSession.serviceToken,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tvisitorId: this.userSession.userID,\r\n\t\t\t\t\tliveId: this.roomProfile.liveID,\r\n\t\t\t\t\tcontent: msg\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tevent.emit(\"send-message\");\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"发送成功\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\toffset: 60\r\n\t\t\t});\r\n\t\t\tthis.value = \"\";\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.cooling = false;\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.$refs.input.focus();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tfocus() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\taddEmotion(command: string) {\r\n\t\t\tthis.value += command;\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\tvalidation() {\r\n\t\t\tlet errmsg = \"\";\r\n\t\t\tif (!this.value) {\r\n\t\t\t\terrmsg = \"没有要发送的内容\";\r\n\t\t\t} else if (this.value.length > 50) {\r\n\t\t\t\terrmsg = \"字数不能大于50字\";\r\n\t\t\t}\r\n\t\t\tif (errmsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"错误: \" + errmsg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n:deep .el-input-group__append {\r\n\tborder: none;\r\n}\r\n.btnBase {\r\n\tbackground-color: $--color-primary !important;\r\n\tcolor: white !important;\r\n\tborder: none !important;\r\n\t&.attach {\r\n\t\tborder-top-left-radius: 0px !important;\r\n\t\tborder-bottom-left-radius: 0px !important;\r\n\t\tpadding-left: 8px;\r\n\t\tpadding-right: 8px;\r\n\t\tbox-shadow: none !important;\r\n\t}\r\n}\r\n.emotion-drop-down {\r\n\twidth: 200px;\r\n\tmax-width: 90vw;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\t&:deep .el-dropdown-menu__item {\r\n\t\tpadding: 0px;\r\n\t\twidth: 25%;\r\n\t\tdisplay: block;\r\n\t\tline-height: 0px;\r\n\t\t& > img {\r\n\t\t\twidth: calc(100% - 16px);\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmargin: 8px;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { chat } from \"@front/api/chat\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"roomChat\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvalue: \"\",\r\n\t\t\tcooling: false\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tevent.on(\"message-focus\", this.focus);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tevent.off(\"message-focus\", this.focus);\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"isStreaming\", \"isLogined\"]),\r\n\t\t...mapState([\"userSession\", \"roomProfile\", \"danmakuProfile\"]),\r\n\t\tstatus(): any {\r\n\t\t\tif (this.cooling) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: \"冷却中，等一下啦\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (!this.isLogined || !this.isStreaming) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\ttips: !this.isLogined\r\n\t\t\t\t\t\t? \"用户未登录，不可发言\"\r\n\t\t\t\t\t\t: \"直播未开启，不可发言\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\ttips: \"发个弹幕，嘿嘿(enter发送)\"\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstatus: {\r\n\t\t\thandler(n) {\r\n\t\t\t\tif (n.disabled) {\r\n\t\t\t\t\tthis.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsendDanmaku() {\r\n\t\t\tif (!this.validation()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst msg = this.value;\r\n\t\t\tthis.cooling = true;\r\n\t\t\tchat({\r\n\t\t\t\tuserID: this.userSession.userID,\r\n\t\t\t\tdeviceID: this.userSession.deviceID,\r\n\t\t\t\tserviceToken: this.userSession.serviceToken,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tvisitorId: this.userSession.userID,\r\n\t\t\t\t\tliveId: this.roomProfile.liveID,\r\n\t\t\t\t\tcontent: msg\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tevent.emit(\"send-message\");\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"发送成功\",\r\n\t\t\t\tduration: 1500,\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\toffset: 60\r\n\t\t\t});\r\n\t\t\tthis.value = \"\";\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.cooling = false;\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.$refs.input.focus();\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tfocus() {\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\taddEmotion(command: string) {\r\n\t\t\tthis.value += command;\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\tvalidation() {\r\n\t\t\tlet errmsg = \"\";\r\n\t\t\tif (!this.value) {\r\n\t\t\t\terrmsg = \"没有要发送的内容\";\r\n\t\t\t} else if (this.value.length > 50) {\r\n\t\t\t\terrmsg = \"字数不能大于50字\";\r\n\t\t\t}\r\n\t\t\tif (errmsg) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"错误: \" + errmsg,\r\n\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\toffset: 60\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=20b41e64&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=20b41e64&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-20b41e64\"\n\nexport default script","<template>\r\n\t<div class=\"minify-bar\">\r\n\t\t<div class=\"button el-icon-setting\" @click=\"setting=true\" title=\"设置\" />\r\n\t\t<div class=\"button el-icon-coordinate \" :class=\"{active:isTop}\" @click=\"isTop = !isTop;setTop(isTop)\"\r\n\t\t\ttitle=\"置顶\" />\r\n\t\t<div class=\"button el-icon-paperclip \" :class=\"{active:isBlur}\" title=\"背景模式\" @click=\"blurConfirm=true\" />\r\n\t\t<div class=\"button el-icon-minus\" @click=\"minimize()\" />\r\n\t\t<div class=\"button el-icon-full-screen\" @click=\"$store.commit('minify')\" title=\"完整化\" />\r\n\t</div>\r\n\t<el-dialog custom-class=\"setting\" v-model=\"setting\" :close-on-click-modal=\"false\">\r\n\t\t<div class=\"block\">\r\n\t\t\t<span class=\"label\">背景颜色</span>\r\n\t\t\t<el-color-picker show-alpha v-model=\"settings.color\" />\r\n\t\t</div>\r\n\t\t<div class=\"block\">\r\n\t\t\t<span class=\"label\">弹幕大小</span>\r\n\t\t\t<el-slider :min=\"10\" :max=\"200\" v-model=\"settings.zoom\" />\r\n\t\t</div>\r\n\t</el-dialog>\r\n\t<el-dialog custom-class=\"blurConfirm\" title=\"重要提示\" v-model=\"blurConfirm\" :show-close=\"false\"\r\n\t\t:close-on-click-modal=\"false\">\r\n\t\t背景模式下窗口将会置顶，并且鼠标操作会穿透，ctrl+F1退出,CTRL+F2回消息。确认进入？\r\n\t\t<template #footer>\r\n\t\t\t<span class=\"dialog-footer\">\r\n\t\t\t\t<el-button size=\"mini\" @click=\"blurConfirm = false\">我不</el-button>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"setIgnore();blurConfirm = false\">好的</el-button>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tsetResizeable,\r\n\twin,\r\n\tsetTop,\r\n\tsetIgnoreMouseEvent,\r\n\tminimize,\r\n\tipcRenderer\r\n} from \"@front/util_function/system\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport throttle from \"lodash/throttle\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"minify\",\r\n\tdata() {\r\n\t\tconst opacityTimer: any = null;\r\n\t\treturn {\r\n\t\t\tsetting: false,\r\n\t\t\tblurConfirm: false,\r\n\t\t\tsettings: {\r\n\t\t\t\tcolor: \"rgba(0,0,0,0.5)\",\r\n\t\t\t\tzoom: 100\r\n\t\t\t},\r\n\t\t\tisTop: false,\r\n\t\t\tisBlur: false,\r\n\t\t\tpreviousIgnore: false,\r\n\t\t\topacityTimer\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tsetResizeable(true);\r\n\t\tsetTop(false);\r\n\t\tdocument.body.classList.add(\"minify\");\r\n\t\tthis.toPosition(\"normalPosition\", \"miniPosition\");\r\n\t\tconst setting: any = localStorage.getItem(\"miniSetting\");\r\n\t\tif (setting) this.settings = JSON.parse(setting);\r\n\t\tipcRenderer.on(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.on(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.on(\"hover\", this.setHover);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tsetResizeable(false);\r\n\t\tsetTop(false);\r\n\t\tsetIgnoreMouseEvent(false);\r\n\t\tdocument.body.classList.remove(\"minify\");\r\n\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\tthis.toPosition(\"miniPosition\", \"normalPosition\");\r\n\t\tlocalStorage.setItem(\"miniSetting\", JSON.stringify(this.settings));\r\n\t\tipcRenderer.off(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.off(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.off(\"hover\", this.setHover);\r\n\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t},\r\n\twatch: {\r\n\t\tsettings: {\r\n\t\t\thandler(n, o) {\r\n\t\t\t\tthis.applySetting(n);\r\n\t\t\t},\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tminimize,\r\n\t\tsetTop(isTop: boolean) {\r\n\t\t\tsetTop(isTop);\r\n\t\t\tif (isTop) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"如果要打游戏请将游戏画面调为无边框模式，否则置顶失效\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnore() {\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = !this.isBlur));\r\n\t\t\tif (this.isBlur) {\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"切换背景模式成功，如要退出请点击CTRL+F1，回消息请点击CTRL+F2\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"退出背景模式成功！\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnoreTemp() {\r\n\t\t\tthis.previousIgnore = this.isBlur;\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = false));\r\n\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.add(\"hover\");\r\n\t\t\tevent.emit(\"message-focus\");\r\n\t\t\tevent.on(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\trenterIgnore() {\r\n\t\t\tif (this.previousIgnore) {\r\n\t\t\t\tsetIgnoreMouseEvent((this.isBlur = true));\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\tsetHover(_: any, msg: any) {\r\n\t\t\tif (msg) {\r\n\t\t\t\tdocument.body.classList.add(\"hover\");\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"hover\");\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoPosition(save: string, load: string) {\r\n\t\t\tconst winPosition = win.getPosition();\r\n\t\t\tconst saveData = {\r\n\t\t\t\twidth: parseInt(`${window.innerWidth}`),\r\n\t\t\t\theight: parseInt(`${window.innerHeight}`),\r\n\t\t\t\tx: winPosition[0],\r\n\t\t\t\ty: winPosition[1]\r\n\t\t\t};\r\n\t\t\tif (save === \"normalPosition\") {\r\n\t\t\t\tsaveData.width = 1048;\r\n\t\t\t\tsaveData.height = 724;\r\n\t\t\t}\r\n\t\t\tlocalStorage.setItem(save, JSON.stringify(saveData));\r\n\t\t\tconst position: any = localStorage.getItem(load);\r\n\t\t\tif (position) win.setBounds(JSON.parse(position));\r\n\t\t},\r\n\t\tapplySetting: throttle(function(setting: any) {\r\n\t\t\tdocument.body.style.setProperty(\"--bgColor\", setting.color);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${setting.zoom}%`);\r\n\t\t}, 100)\r\n\t}\r\n});\r\n</script>\r\n<style scoped lang='scss'>\r\n.minify-bar {\r\n\theight: 24px;\r\n\tdisplay: flex;\r\n\tposition: fixed;\r\n\ttransition: background-color 0.25s;\r\n\tright: 0px;\r\n\ttop: -24px !important;\r\n\tcursor: move;\r\n\t.button {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tcursor: pointer;\r\n\t\tborder: none;\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tfont-size: 14px;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 0px;\r\n\t\tpadding: 2px 8px;\r\n\t\tmargin: 0px;\r\n\t\ttransition: background-color 0.25s;\r\n\t\t&:hover,\r\n\t\t&.active {\r\n\t\t\tbackground-color: rgba(255, 255, 255, 0.25);\r\n\t\t}\r\n\t}\r\n}\r\n.block {\r\n\tpadding: 0px 16px;\r\n\twidth: calc(100% - 32px);\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\nbody.minify {\r\n\tpadding: 0px;\r\n\tbackground-color: var(--bgColor) !important;\r\n\tborder-radius: 4px !important;\r\n\t#home {\r\n\t\twidth: 100% !important;\r\n\t\t.right {\r\n\t\t\twidth: 100% !important;\r\n\t\t}\r\n\t}\r\n\t.appletList {\r\n\t\tdisplay: none;\r\n\t}\r\n\t&.ignore {\r\n\t\t#room-chat,\r\n\t\t.roomList {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t\t.danmakuPanel .danmaku-flow {\r\n\t\t\ttop: 35px !important;\r\n\t\t\theight: calc(100vh - 49px) !important;\r\n\t\t}\r\n\t\t.super-chat-list {\r\n\t\t\ttop: 0px !important;\r\n\t\t}\r\n\t}\r\n\t&.hover.ignore {\r\n\t\tfilter: opacity(0.1);\r\n\t\tbackground-color: rgba(0, 0, 0, 0.1) !important;\r\n\t}\r\n\t.el-message {\r\n\t\twidth: 100vw !important;\r\n\t\tmin-width: 0px !important;\r\n\t}\r\n\t.el-overlay {\r\n\t\tmargin: 0px !important;\r\n\t\theight: 100vh !important;\r\n\t\twidth: 100vw !important;\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tleft: 0px;\r\n\t\tbackground-color: transparent;\r\n\t\tpointer-events: none;\r\n\t\toverflow: hidden;\r\n\t\tz-index: 10000;\r\n\t\t.el-message-box {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0px;\r\n\t\t\ttop: 20%;\r\n\t\t\twidth: 100vw;\r\n\t\t\tz-index: 10000;\r\n\t\t\tpointer-events: all;\r\n\t\t}\r\n\t\t.el-dialog.setting {\r\n\t\t\tpointer-events: all;\r\n\t\t\tposition: fixed;\r\n\t\t\tmargin: 0px;\r\n\t\t\tbottom: 16px;\r\n\t\t\tleft: 16px;\r\n\t\t\twidth: calc(100vw - 32px) !important;\r\n\t\t\theight: 150px;\r\n\t\t\t.el-dialog__header {\r\n\t\t\t\tpadding: 5px;\r\n\t\t\t}\r\n\t\t\t.el-dialog__body {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding: 0px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: calc(100% - 28px);\r\n\t\t\t\toverflow-y: scroll;\r\n\t\t\t\t@include scrollbarDark();\r\n\t\t\t}\r\n\t\t}\r\n\t\t.el-dialog.blurConfirm {\r\n\t\t\tposition: fixed;\r\n\t\t\tpointer-events: all;\r\n\t\t\tleft: 16px;\r\n\t\t\twidth: calc(100vw - 32px) !important;\r\n\t\t\ttop: 50px;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 590px) {\r\n\t\t.roomStatus > .title {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 540px) {\r\n\t\t.subtitle:first-child {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 440px) {\r\n\t\t.subtitle:last-child {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t.content,\r\n\t#home,\r\n\t#statusBar,\r\n\t.roomList {\r\n\t\tbackground-color: transparent !important;\r\n\t\tcolor: white;\r\n\t}\r\n\t.el-tabs__item {\r\n\t\tcolor: rgba(255, 255, 255, 0.5) !important;\r\n\t\t&.is-active {\r\n\t\t\tcolor: rgba(255, 255, 255, 1) !important;\r\n\t\t}\r\n\t}\r\n\t.el-tabs__active-bar {\r\n\t\tbackground-color: transparent !important;\r\n\t}\r\n\t.el-tabs__nav-wrap::after {\r\n\t\theight: 1px;\r\n\t}\r\n\t#sidebar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t#topbar {\r\n\t\tmargin: 0px 5px;\r\n\t\twidth: calc(100% - 10px);\r\n\t\theight: 25px;\r\n\t\t.avatar,\r\n\t\t.el-dropdown,\r\n\t\t.buttonIcon {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t}\r\n\t.minify-bar {\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tright: 0px;\r\n\t}\r\n\t.content {\r\n\t\t& > .view {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t}\r\n\t.rowFrame > .title {\r\n\t\tdisplay: none;\r\n\t}\r\n\t#statusBar {\r\n\t\t.switch,\r\n\t\t.contentTitle {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.contentInner {\r\n\t\t\tmargin: 0px;\r\n\t\t\twidth: 100vw;\r\n\t\t}\r\n\t\t#roomInfo {\r\n\t\t\theight: 0px;\r\n\t\t\twidth: 0px;\r\n\t\t\tuser-select: none;\r\n\t\t\t.liveCover {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t\t.roomStatus {\r\n\t\t\t\twidth: calc(100vh - 100px);\r\n\t\t\t\tmin-width: 100px;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\ttop: -25px;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tflex-wrap: nowrap;\r\n\t\t\t\tjustify-content: flex-start;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 25px;\r\n\t\t\t\t.title,\r\n\t\t\t\t.iconCounter.counter,\r\n\t\t\t\t.middle .subtitles .subtitle {\r\n\t\t\t\t\tcolor: white !important;\r\n\t\t\t\t}\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 12px !important;\r\n\t\t\t\t\tmax-width: 50px;\r\n\t\t\t\t\tmargin-left: 16px;\r\n\t\t\t\t}\r\n\t\t\t\tpointer-events: none;\r\n\t\t\t\t.middle {\r\n\t\t\t\t\theight: 25px;\r\n\t\t\t\t\tflex-grow: unset;\r\n\t\t\t\t\t.subtitles {\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\theight: 25px;\r\n\t\t\t\t\t\t.subtitle {\r\n\t\t\t\t\t\t\tmargin-left: 15px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.counters {\r\n\t\t\t\t\tmargin-left: 15px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.shotcut {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.superChatEnable {\r\n\t\t.super-chat-list {\r\n\t\t\tposition: fixed;\r\n\t\t\tright: 0px;\r\n\t\t\ttop: 40px;\r\n\t\t\twidth: 100%;\r\n\t\t\tz-index: 100;\r\n\t\t\tborder: none;\r\n\t\t\t.super-chat-list-block .content,\r\n\t\t\t.super-chat-list-panel-content {\r\n\t\t\t\tzoom: var(--zoom);\r\n\t\t\t}\r\n\t\t\t&::after {\r\n\t\t\t\tcolor: rgba(255, 255, 255, 0.5);\r\n\t\t\t}\r\n\t\t}\r\n\t\t.danmaku-flow {\r\n\t\t\theight: calc(100vh - 100px) !important;\r\n\t\t\ttop: 75px !important;\r\n\t\t}\r\n\t}\r\n\t.danmakuPanel {\r\n\t\t.slider {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t\t.el-tabs__nav-scroll {\r\n\t\t\tmargin-left: 15px;\r\n\t\t}\r\n\t\t.el-tabs__item.is-top.is-active {\r\n\t\t\tfont-size: 12px !important;\r\n\t\t}\r\n\t\t.roomList {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 0px;\r\n\t\t\twidth: 100vw;\r\n\t\t\tbackground-color: white;\r\n\t\t\t.el-tabs {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttop: 0px;\r\n\t\t\t}\r\n\t\t\t.user-item {\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t\twidth: calc(100% - 10px);\r\n\t\t\t}\r\n\t\t\t&:hover {\r\n\t\t\t\t& > div:last-child {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t& > div:last-child {\r\n\t\t\t\ttransform: none !important;\r\n\t\t\t\theight: unset !important;\r\n\t\t\t\tpadding: 16px;\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tbackground-color: white;\r\n\t\t\t\tcolor: black;\r\n\t\t\t}\r\n\t\t\t.hidden > div {\r\n\t\t\t\tmax-height: calc(100vh - 200px) !important;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.danmaku-flow {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\theight: calc(100vh - 65px);\r\n\t\t\tpadding-bottom: 35px !important;\r\n\t\t\tpadding-top: 8px;\r\n\t\t\twidth: 100vw;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0px;\r\n\t\t\ttop: 40px;\r\n\t\t\t* {\r\n\t\t\t\tzoom: var(--zoom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.danmaku-list-bg::before {\r\n\t\t\tbackground-color: transparent !important;\r\n\t\t}\r\n\t\t#room-chat {\r\n\t\t\tposition: fixed;\r\n\t\t\twidth: 100%;\r\n\t\t\tleft: 0px;\r\n\t\t\tbottom: 0px;\r\n\t\t\tfont-size: 12px;\r\n\t\t\ttransform: translateY(100%);\r\n\r\n\t\t\ttransition: transform 0.25s;\r\n\t\t\ttransition-delay: 0.5s;\r\n\t\t\t&.hover {\r\n\t\t\t\ttransition-delay: 0s !important;\r\n\t\t\t\ttransform: translateY(0px) !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t&.hover {\r\n\t\t#room-chat {\r\n\t\t\ttransition-delay: 0s !important;\r\n\t\t\ttransform: translateY(0px) !important;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport {\r\n\tsetResizeable,\r\n\twin,\r\n\tsetTop,\r\n\tsetIgnoreMouseEvent,\r\n\tminimize,\r\n\tipcRenderer\r\n} from \"@front/util_function/system\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport throttle from \"lodash/throttle\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nexport default defineComponent({\r\n\tname: \"minify\",\r\n\tdata() {\r\n\t\tconst opacityTimer: any = null;\r\n\t\treturn {\r\n\t\t\tsetting: false,\r\n\t\t\tblurConfirm: false,\r\n\t\t\tsettings: {\r\n\t\t\t\tcolor: \"rgba(0,0,0,0.5)\",\r\n\t\t\t\tzoom: 100\r\n\t\t\t},\r\n\t\t\tisTop: false,\r\n\t\t\tisBlur: false,\r\n\t\t\tpreviousIgnore: false,\r\n\t\t\topacityTimer\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tsetResizeable(true);\r\n\t\tsetTop(false);\r\n\t\tdocument.body.classList.add(\"minify\");\r\n\t\tthis.toPosition(\"normalPosition\", \"miniPosition\");\r\n\t\tconst setting: any = localStorage.getItem(\"miniSetting\");\r\n\t\tif (setting) this.settings = JSON.parse(setting);\r\n\t\tipcRenderer.on(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.on(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.on(\"hover\", this.setHover);\r\n\t},\r\n\tbeforeUnmount() {\r\n\t\tsetResizeable(false);\r\n\t\tsetTop(false);\r\n\t\tsetIgnoreMouseEvent(false);\r\n\t\tdocument.body.classList.remove(\"minify\");\r\n\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\tthis.toPosition(\"miniPosition\", \"normalPosition\");\r\n\t\tlocalStorage.setItem(\"miniSetting\", JSON.stringify(this.settings));\r\n\t\tipcRenderer.off(\"switch-ignore-mode\", this.setIgnore);\r\n\t\tipcRenderer.off(\"switch-ignore-mode-temp\", this.setIgnoreTemp);\r\n\t\tipcRenderer.off(\"hover\", this.setHover);\r\n\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t},\r\n\twatch: {\r\n\t\tsettings: {\r\n\t\t\thandler(n, o) {\r\n\t\t\t\tthis.applySetting(n);\r\n\t\t\t},\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tminimize,\r\n\t\tsetTop(isTop: boolean) {\r\n\t\t\tsetTop(isTop);\r\n\t\t\tif (isTop) {\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"如果要打游戏请将游戏画面调为无边框模式，否则置顶失效\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnore() {\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = !this.isBlur));\r\n\t\t\tif (this.isBlur) {\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\"切换背景模式成功，如要退出请点击CTRL+F1，回消息请点击CTRL+F2\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t\t\tElMessage({\r\n\t\t\t\t\tmessage: \"退出背景模式成功！\",\r\n\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetIgnoreTemp() {\r\n\t\t\tthis.previousIgnore = this.isBlur;\r\n\t\t\tsetIgnoreMouseEvent((this.isBlur = false));\r\n\t\t\tdocument.body.classList.remove(\"ignore\");\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.add(\"hover\");\r\n\t\t\tevent.emit(\"message-focus\");\r\n\t\t\tevent.on(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\trenterIgnore() {\r\n\t\t\tif (this.previousIgnore) {\r\n\t\t\t\tsetIgnoreMouseEvent((this.isBlur = true));\r\n\t\t\t\tsetTop((this.isTop = true));\r\n\t\t\t\tthis.setting = false;\r\n\t\t\t\tdocument.body.classList.add(\"ignore\");\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"room-chat\")?.classList.remove(\"hover\");\r\n\t\t\tevent.off(\"send-message\", this.renterIgnore);\r\n\t\t},\r\n\t\tsetHover(_: any, msg: any) {\r\n\t\t\tif (msg) {\r\n\t\t\t\tdocument.body.classList.add(\"hover\");\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove(\"hover\");\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoPosition(save: string, load: string) {\r\n\t\t\tconst winPosition = win.getPosition();\r\n\t\t\tconst saveData = {\r\n\t\t\t\twidth: parseInt(`${window.innerWidth}`),\r\n\t\t\t\theight: parseInt(`${window.innerHeight}`),\r\n\t\t\t\tx: winPosition[0],\r\n\t\t\t\ty: winPosition[1]\r\n\t\t\t};\r\n\t\t\tif (save === \"normalPosition\") {\r\n\t\t\t\tsaveData.width = 1048;\r\n\t\t\t\tsaveData.height = 724;\r\n\t\t\t}\r\n\t\t\tlocalStorage.setItem(save, JSON.stringify(saveData));\r\n\t\t\tconst position: any = localStorage.getItem(load);\r\n\t\t\tif (position) win.setBounds(JSON.parse(position));\r\n\t\t},\r\n\t\tapplySetting: throttle(function(setting: any) {\r\n\t\t\tdocument.body.style.setProperty(\"--bgColor\", setting.color);\r\n\t\t\tdocument.body.style.setProperty(\"--zoom\", `${setting.zoom}%`);\r\n\t\t}, 100)\r\n\t}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=1f8e283e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1f8e283e&scoped=true&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=1f8e283e&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1f8e283e\"\n\nexport default script","<template>\r\n\t<div class=\"appletList\">\r\n\t\t<div class=\"block\" @click=\"startApplet(applet)\" v-for=\"(applet,index) in applets\" :key=\"index\"\r\n\t\t\t:title=\"applet.name\">\r\n\t\t\t<div :class=\"applet.icon\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\" src=\"./mixin.ts\" />\r\n\r\n<style scoped lang='scss'>\r\n@import \"@front/styles/variables.scss\";\r\n@import \"@front/styles/scrollbar.scss\";\r\n\r\n.appletList {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\talign-content: flex-start;\r\n\t@include scrollbarDark();\r\n}\r\n.block {\r\n\theight: 40px;\r\n\twidth: 40px;\r\n\tborder-radius: 4px;\r\n\tmargin: 5px;\r\n\tdisplay: flex;\r\n\tfont-size: $--font-size-large;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcursor: pointer;\r\n\tborder: $--border-base;\r\n\tbox-shadow: $--box-shadow-base;\r\n\tcolor: $--color-text-secondary;\r\n\t&:hover {\r\n\t\tcolor: $--color-primary;\r\n\t\tbox-shadow: $--box-shadow-light;\r\n\t}\r\n}\r\n</style>\r\n","import { defineComponent } from \"vue\";\r\nimport {\r\n\tstartApplet,\r\n\tappletList,\r\n\topenFolder,\r\n\topenFile\r\n} from \"@front/util_function/system\";\r\nimport path from \"path\";\r\nexport default defineComponent({\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tapplets: []\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tthis.refreshList();\r\n\t},\r\n\tmethods: {\r\n\t\tstartApplet,\r\n\t\trefreshList() {\r\n\t\t\tappletList().then(res => {\r\n\t\t\t\t(this.applets as any) = res;\r\n\t\t\t});\r\n\t\t},\r\n\t\topenFolder() {\r\n\t\t\topenFolder(path.join(process.resourcesPath, \"app/applets\"));\r\n\t\t},\r\n\t\topenDocument() {\r\n\t\t\topenFile({\r\n\t\t\t\turl: path.join(\r\n\t\t\t\t\tprocess.resourcesPath,\r\n\t\t\t\t\t\"../使用说明/小程序二次开发文档.md\"\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n});\r\n","import { render } from \"./widget.vue?vue&type=template&id=5f33519e&scoped=true\"\nimport script from \"./mixin.ts?vue&type=script&lang=ts\"\nexport * from \"./mixin.ts?vue&type=script&lang=ts\"\n\nimport \"./widget.vue?vue&type=style&index=0&id=5f33519e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-5f33519e\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport roomInfo from \"./roomInfo.vue\";\r\nimport danmakuFlow from \"@front/components/danmakuFlow/index.vue\";\r\nimport superChatList from \"@front/components/superChat/index.vue\";\r\nimport shotcut from \"./shotcut.vue\";\r\nimport roomList from \"@front/components/roomList/roomList.vue\";\r\nimport roomChat from \"@front/components/roomChat/index.vue\";\r\nimport minify from \"@front/components/minify/index.vue\";\r\nimport appletList from \"@front/views/applets/widget.vue\";\r\nexport default defineComponent({\r\n\tname: \"streamMonitor\",\r\n\tcomponents: {\r\n\t\troomInfo,\r\n\t\tdanmakuFlow,\r\n\t\tshotcut,\r\n\t\troomList,\r\n\t\troomChat,\r\n\t\tminify,\r\n\t\tsuperChatList,\r\n\t\tappletList\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbrightness: 50\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"danmakuProfile\", \"danmakuList\", \"superChatEnable\"]),\r\n\t\t...mapState([\"minify\", \"temp\"]),\r\n\t\tsettings() {\r\n\t\t\t// @ts-ignore\r\n\t\t\treturn this.danmakuProfile(\"toolBox\");\r\n\t\t}\r\n\t},\r\n\twatch: {},\r\n\tmethods: {}\r\n});\r\n","import { render } from \"./index.vue?vue&type=template&id=77f3ca19&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=77f3ca19&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-77f3ca19\"\n\nexport default script","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./roomInfo.vue?vue&type=style&index=0&id=21830726&scoped=true&lang=scss\"","<template>\r\n\t<transition name=\"listAni\" appear>\r\n\t\t<div ref=\"menu\" style=\"position:fixed;z-Index:4000\" :style=\"{left:`${position.x}px!important`,top:`${position.y}px!important`}\">\r\n\t\t\t<right-click-menu-list ref=\"menuList\" @close=\"close()\" :list=\"list\" />\r\n\t\t</div>\r\n\t</transition>\r\n</template>\r\n\r\n<script >\r\nimport rightClickMenuList from \"./rightClickMenuList.vue\";\r\nimport { event } from \"@front/util_function/eventBus\";\r\nimport { render, defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n\tname: \"rightClickMenu\",\r\n\tcomponents: {\r\n\t\trightClickMenuList\r\n\t},\r\n\tprops: {\r\n\t\telement: {\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tlist: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.addBlurListener();\r\n\t},\r\n\tmethods: {\r\n\t\tclose() {\r\n\t\t\tevent.off(\"mouseclick\", this.judgeBlur);\r\n\t\t\trender(null, this.$el);\r\n\t\t\t// @ts-ignore\r\n\t\t\tthis.element.remove();\r\n\t\t},\r\n\t\taddBlurListener() {\r\n\t\t\tdocument.addEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.addEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\tjudgeBlur(e) {\r\n\t\t\tfor (const item of e.path) {\r\n\t\t\t\tif (item === this.$refs.menu) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.removeEventListener(\"mousedown\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\twindow.removeEventListener(\"resize\", e => {\r\n\t\t\t\tthis.judgeBlur(e);\r\n\t\t\t});\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport rightClickMenuListB from \"./rightClickMenuLisB.vue\";\r\nexport default {\r\n\tname: \"rightClickMenuList\",\r\n\tprops: [\"list\", \"index\"],\r\n\tcomponents: {\r\n\t\trightClickMenuListB\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","<template>\r\n\t<div class=\"rightClickMenu\" :class=\"position\" :style=\"{\r\n\t\t\tzIndex: zIndex\r\n\t\t}\" @mouseleave=\"current = -1\">\r\n\t\t<div class=\"rightClickMenuList\" v-for=\"(item,index) in list\" :class=\"{disabled:item.disabled}\" :key=\"index\" @click.stop=\"call(item.event)\" @mouseover=\"current = index\" v-show=\"item.show\">\r\n\t\t\t<div>\r\n\t\t\t\t<span :class=\"item.icon\" class=\"listIcon\"></span>\r\n\t\t\t\t<span class=\"listWord\">{{\" \"+item.name}}</span>\r\n\t\t\t</div>\r\n\t\t\t<div v-if=\"item.children&&item.children.length>0\" class=\"el-icon-arrow-right spanIcon\" />\r\n\t\t\t<right-click-menu-list-b v-if=\"current==index&&item.children&&item.children.length>0\" :list=\"item.children\" :index=\"zIndex\" @close=\"$emit('close')\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"rightClickMenuListB\",\r\n\tprops: [\"list\", \"index\"],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrent: -1,\r\n\t\t\tposition: \"rightBottom\",\r\n\t\t\tzIndex: 4000\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\tif (this.index) {\r\n\t\t\tthis.zIndex = this.index + 1;\r\n\t\t}\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tconst positions = this.$el.getBoundingClientRect();\r\n\t\t\tconst height = positions.height + positions.y;\r\n\t\t\tconst width = positions.width + positions.x;\r\n\t\t\tif (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight > document.body.offsetHeight &&\r\n\t\t\t\twidth < document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"rightTop\";\r\n\t\t\t} else if (\r\n\t\t\t\theight < document.body.offsetHeight &&\r\n\t\t\t\twidth > document.body.offsetWidth\r\n\t\t\t) {\r\n\t\t\t\tthis.position = \"leftBottom\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.position = \"rightBottom\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tcall(event) {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.$emit(\"close\");\r\n\t\t\t\tevent();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"./style.scss\";\r\n</style>\r\n","import { render } from \"./rightClickMenuLisB.vue?vue&type=template&id=9d16dfe8&scoped=true\"\nimport script from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuLisB.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuLisB.vue?vue&type=style&index=0&id=9d16dfe8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9d16dfe8\"\n\nexport default script","import { render } from \"./rightClickMenuList.vue?vue&type=template&id=176d2028&scoped=true\"\nimport script from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenuList.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenuList.vue?vue&type=style&index=0&id=176d2028&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-176d2028\"\n\nexport default script","import { render } from \"./rightClickMenu.vue?vue&type=template&id=2ca27b36&scoped=true\"\nimport script from \"./rightClickMenu.vue?vue&type=script&lang=js\"\nexport * from \"./rightClickMenu.vue?vue&type=script&lang=js\"\n\nimport \"./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2ca27b36\"\n\nexport default script","import { Directive, createApp } from \"vue\";\r\nimport menu from \"./rightClickMenu.vue\";\r\n\r\nconst directive = (): Directive => {\r\n\tlet list: any = [];\r\n\treturn {\r\n\t\tmounted(el, binding) {\r\n\t\t\tel.addEventListener(\"contextmenu\", (e: any) => {\r\n\t\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\t\t// list = binding.value;\r\n\t\t\t\tdocument.body.append(element);\r\n\t\t\t\tcreateApp(menu, {\r\n\t\t\t\t\tlist,\r\n\t\t\t\t\telement,\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\ty: e.clientY\r\n\t\t\t\t\t}\r\n\t\t\t\t}).mount(element);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdated(el, binding) {\r\n\t\t\tlist = binding.value;\r\n\t\t}\r\n\t};\r\n};\r\nexport default directive;\r\n","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./rightClickMenu.vue?vue&type=style&index=0&id=2ca27b36&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=77f3ca19&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./donateList.vue?vue&type=style&index=0&id=b2ca48ca&scoped=true&lang=scss\""],"sourceRoot":""}